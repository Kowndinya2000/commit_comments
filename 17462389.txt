    added heroku user and submission information
    added heroku user and submission information
    initial changes to typo
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
     Use Calendar_date_select instead_of datetime_select in create article
    
    [#31 state:resolved]
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
     Use Calendar_date_select instead_of datetime_select in create article
    
    [#31 state:resolved]
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
     Use Calendar_date_select instead_of datetime_select in create article
    
    [#31 state:resolved]
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
     Use Calendar_date_select instead_of datetime_select in create article
    
    [#31 state:resolved]
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
     Use Calendar_date_select instead_of datetime_select in create article
    
    [#31 state:resolved]
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
     Use Calendar_date_select instead_of datetime_select in create article
    
    [#31 state:resolved]
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
     Use Calendar_date_select instead_of datetime_select in create article
    
    [#31 state:resolved]
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Clean up trailing white space.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Mass-removal of trailing whitespace.
     Use Calendar_date_select instead_of datetime_select in create article
    
    [#31 state:resolved]
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Mass-removal of trailing whitespace.
     Use Calendar_date_select instead_of datetime_select in create article
    
    [#31 state:resolved]
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Add timezone to calendar_date_select format.
    Clean up trailing white space.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Mass-removal of trailing whitespace.
     Use Calendar_date_select instead_of datetime_select in create article
    
    [#31 state:resolved]
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Replace deprecated RAILS_ROOT (again).
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Clean up trailing white space.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Add timezone to calendar_date_select format.
    Clean up trailing white space.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix remaining spec failures caused by the removal of the catch-all route.
    
    - Add routes for articles#tag and articles#category.
    - Remove route for tags#check_password again, it was a red herring.
    - Fix references to accounts/login as the controller.
    - Explicitely state controller in article password form partial.
    - Fix category spec set up to ensure creation of permalink field.
    Gets rid of request.request_uri deprecation warning
    Mass-removal of trailing whitespace.
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing deprecated RAILS_ROOT
    Mass-removal of trailing whitespace.
    Oooops seems some code was not taken into my last commit
    Adding a basic way to dynamically load user mades plugins into
    * Typo permission system
    * Typo admin/themes submenu
    
    To have an admin part, plugins need to be called typo_plugin_some_name. They should be basic Rails plugins with a lib/app/controllers/admin/some_name_controller.rb
    
    For now, only the index action is supported in the permission system:
    1. it's a POC and I still need to finish a plugin
    2. it will be enough... at least the time people need more
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix plugin tests: syntax errors, library load errors.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 2.3.8. I had to backport some Rails 2.3.5 deprecation and fork actionwebservice to upgrade it to Rails 2.3.8. I think we will definitely use our own version since we may be the latest on earth to use it.
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Added page sidebar plugin.
    Activated page sidebar and archive sidebar by default in new blogs.
    Added default category.
    Added default post.
    
    Reverted cache from caches_action_with_params to caches_page. The reasons for this are 40% memory saved + about 3 times faster according to a2b. People can still revert, but I would not advice it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1503 820eb932-12ee-0310-9ca8-eeb645f39767
    – Added Rich visual editor in the admin
    – Updated the settings to add the choice between :
            – visual text editor
            – simple text editor + live preview
            – simple text editor without live preview (the live preview is cool but overloads the servers with constant requests on articles)
    – Corrected a few things
    
    Simple editor + live preview is enabled by default
    
    I plan to let users choose their editor in the second time, and enable different visual editors according to personnal users settings. This will be useful when we go multiusers
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1398 820eb932-12ee-0310-9ca8-eeb645f39767
    – Changed a few things in the UI
    – Now you can edit and view comments from the discuss page
    – Started Sitealizer integration
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1396 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    Make default plugins use new default view location.
    Added page sidebar plugin.
    Activated page sidebar and archive sidebar by default in new blogs.
    Added default category.
    Added default post.
    
    Reverted cache from caches_action_with_params to caches_page. The reasons for this are 40% memory saved + about 3 times faster according to a2b. People can still revert, but I would not advice it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1503 820eb932-12ee-0310-9ca8-eeb645f39767
    Added page sidebar plugin.
    Activated page sidebar and archive sidebar by default in new blogs.
    Added default category.
    Added default post.
    
    Reverted cache from caches_action_with_params to caches_page. The reasons for this are 40% memory saved + about 3 times faster according to a2b. People can still revert, but I would not advice it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1503 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Move sidebar views to match default view path for Rails plugins.
    
    It's vendor/plugins/foo_sidebar/app/views/foo_sidebar/_content.html.erb.
    Note the 'app' in there.
    Make default plugins use new default view location.
    Added page sidebar plugin.
    Activated page sidebar and archive sidebar by default in new blogs.
    Added default category.
    Added default post.
    
    Reverted cache from caches_action_with_params to caches_page. The reasons for this are 40% memory saved + about 3 times faster according to a2b. People can still revert, but I would not advice it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1503 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing ticket 84: unpublished pages are listed
    Fixes rails 2.0 migration
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1564 820eb932-12ee-0310-9ca8-eeb645f39767
    Added page sidebar plugin.
    Activated page sidebar and archive sidebar by default in new blogs.
    Added default category.
    Added default post.
    
    Reverted cache from caches_action_with_params to caches_page. The reasons for this are 40% memory saved + about 3 times faster according to a2b. People can still revert, but I would not advice it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1503 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix plugin tests: syntax errors, library load errors.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 2.3.8. I had to backport some Rails 2.3.5 deprecation and fork actionwebservice to upgrade it to Rails 2.3.8. I think we will definitely use our own version since we may be the latest on earth to use it.
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    ready for first deployment
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@11 820eb932-12ee-0310-9ca8-eeb645f39767
    added missing Resource model and tests and included MIT-LICENCE (yay)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@6 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing deprecated RAILS_ROOT
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    Commenting this seems to fix the file upload. Both erase_render_results and erase_redirect_results were removed from Rails 3. We really need to migrate to paperclip and unify file upload don't we?
    Removing deprecated RAILS_ROOT
    Mass-removal of trailing whitespace.
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Better resource upload display
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix plugin tests: syntax errors, library load errors.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Replace flickr gem with flickraw for flickr and lightbox plugins.
    
    The flickr gem was broken and seems unmaintained.
    [#186 state:resolved]
    Fixing a bug introduced by the backport of commit http://github.com/Flameeyes/typo/commit/96b6343e6914627558375f8358a9afd2f30d7cb6 on unbundling Flickr gem
    Replace bundled copy of flickr with a dependency on the gem.
    
    Update the plugin for the correct API call.
    (cherry picked from commit 96b6343e6914627558375f8358a9afd2f30d7cb6)
    fix error in require flickr
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 2.3.8. I had to backport some Rails 2.3.5 deprecation and fork actionwebservice to upgrade it to Rails 2.3.8. I think we will definitely use our own version since we may be the latest on earth to use it.
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix plugin tests: syntax errors, library load errors.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 2.3.8. I had to backport some Rails 2.3.5 deprecation and fork actionwebservice to upgrade it to Rails 2.3.8. I think we will definitely use our own version since we may be the latest on earth to use it.
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Make default plugins use new default view location.
    Adds a utility widget with Login page, RSS, Typo. Enabled by default at schema creation.
    
    [#71, state=closed]
    Move sidebar views to match default view path for Rails plugins.
    
    It's vendor/plugins/foo_sidebar/app/views/foo_sidebar/_content.html.erb.
    Note the 'app' in there.
    Make default plugins use new default view location.
    Adds a utility widget with Login page, RSS, Typo. Enabled by default at schema creation.
    
    [#71, state=closed]
    Adds a utility widget with Login page, RSS, Typo. Enabled by default at schema creation.
    
    [#71, state=closed]
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Removing deprecated RAILS_ROOT
    Replacing FCKEditor 2 with CKEditor 3.
    Removing deprecated RAILS_ROOT
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Fix some more deprecations.
    Makes CKEditor boot
    Mass-removal of trailing whitespace.
    Replacing FCKEditor 2 with CKEditor 3.
    Removing deprecated RAILS_ROOT
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Upgrading FCKEditor to 2.6.0 and making some cleaning as well
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1749 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1570 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Fixes CKEditor file upload
    Fixes file upload in the visual editor
    
    Array.contains does not exist...
    relative_url_root is now deprecated
    Fix broken class comparison.
    Removing RAILS_DEFAULT_LOGGER deprecation warning
    Gets rid of RAILS_ENV deprecation warnings
    Removing deprecated RAILS_ROOT
    Mass-removal of trailing whitespace.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Plugs CKEditor to Typo resources manager
    Fixes CKEditor file upload
    Fixing CKEDITOR plugin
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Remove unused call to relative_url_root.
    Gets rid of RAILS_ENV deprecation warnings
    Removing deprecated RAILS_ROOT
    Upgrading to Rails 2.3.8. I had to backport some Rails 2.3.5 deprecation and fork actionwebservice to upgrade it to Rails 2.3.8. I think we will definitely use our own version since we may be the latest on earth to use it.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Fixing a very old buck screwing up the switch between simple and visual editor.
    Hiding file browser button til someone recode it
    Updating CKEditor config
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Added hack to easy-ckeditor to prevent it from doing filesystem calls in
    production
    Removing deprecated RAILS_ROOT
    Fixed CKEditor under Windows by replacing the ln -s by a copy [#138 state:resolved]
    Replacing FCKEditor 2 with CKEditor 3.
    Removing deprecated RAILS_ROOT
    Upgrading to Rails 2.3.8. I had to backport some Rails 2.3.5 deprecation and fork actionwebservice to upgrade it to Rails 2.3.8. I think we will definitely use our own version since we may be the latest on earth to use it.
    Replacing FCKEditor 2 with CKEditor 3.
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix plugin tests: syntax errors, library load errors.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 2.3.8. I had to backport some Rails 2.3.5 deprecation and fork actionwebservice to upgrade it to Rails 2.3.8. I think we will definitely use our own version since we may be the latest on earth to use it.
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Plugins system for Typo. Pluginization of Avatar feature (feedbacks), addition of typo_avatar_gravatar plugin
    ready for first deployment
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@11 820eb932-12ee-0310-9ca8-eeb645f39767
    added missing Resource model and tests and included MIT-LICENCE (yay)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@6 820eb932-12ee-0310-9ca8-eeb645f39767
    Plugins system for Typo. Pluginization of Avatar feature (feedbacks), addition of typo_avatar_gravatar plugin
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    Plugins system for Typo. Pluginization of Avatar feature (feedbacks), addition of typo_avatar_gravatar plugin
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Plugins system for Typo. Pluginization of Avatar feature (feedbacks), addition of typo_avatar_gravatar plugin
    Plugins system for Typo. Pluginization of Avatar feature (feedbacks), addition of typo_avatar_gravatar plugin
    Plugins system for Typo. Pluginization of Avatar feature (feedbacks), addition of typo_avatar_gravatar plugin
    Typo expects avatars to be 48 pixels by default
    Avatar plugin has a mandatory name class_method
    Plugins system for Typo. Pluginization of Avatar feature (feedbacks), addition of typo_avatar_gravatar plugin
    Added WP25 converter spec to make sure it at least loads and runs.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Makes typo_converter load
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Fix primary key for wp_options
    Make wordpress 2.5 schema work with sqlite3
    Rake task to load the WP25 schema (for testing).
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Added WP25 converter spec to make sure it at least loads and runs.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Use configuration wp25_test database, and load schema into it during spec
    run
    Added WP25 converter spec to make sure it at least loads and runs.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Mass-removal of trailing whitespace.
    Added spec for converting categories from WordPress.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Added spec for converting tags from WordPress.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Added specs for converting pages from WP, and fixed an authorship bug.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Added a simple test for converting WP25 comments.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Test WP converter for articles. Also, work around a fixtures issue.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Added a simple spec for converting users.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Added WP25 converter spec to make sure it at least loads and runs.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Mass-removal of trailing whitespace.
    Added spec for converting categories from WordPress.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Added spec for converting tags from WordPress.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Added specs for converting pages from WP, and fixed an authorship bug.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Added spec for converting spam status from WordPress.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Added specs for converting comment authorship from WP, and made them pass.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Fixed: Article authorship wasn't being converted correctly from WP.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Added a simple test for converting WP25 comments.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Test WP converter for articles. Also, work around a fixtures issue.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Posts require Users, so put post specs in a user context.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Less brittle spec for converting a user.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Added a simple spec for converting users.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Suppress output from converter when running tests.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Added a bunch of pending specs.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Added WP25 converter spec to make sure it at least loads and runs.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Use Ruby 1.9 compatible case syntax.
    Mass-removal of trailing whitespace.
    Added specs for converting pages from WP, and fixed an authorship bug.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Added specs for converting comment authorship from WP, and made them pass.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Fixed: Article authorship wasn't being converted correctly from WP.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Import blog name and subtitle from WordPress.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Import WordPress pages as pages, not articles.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Transfer spam/ham state when converting comments from WordPress.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Split posts into body and extended parts when converting from WordPress.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Import WordPress pages as pages, not articles.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Added specs for converting comment authorship from WP, and made them pass.
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Replace inject([]) with map.
    
    Hat tip to William T. Nelson: https://github.com/fdv/typo/pull/22
    Mass-removal of trailing whitespace.
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Add forgotten class WP25::Option of wordpress convertor
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Mass-removal of trailing whitespace.
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 2.3.8. I had to backport some Rails 2.3.5 deprecation and fork actionwebservice to upgrade it to Rails 2.3.8. I think we will definitely use our own version since we may be the latest on earth to use it.
    Use configuration wp25_test database, and load schema into it during spec
    run
    Rake task to load the WP25 schema (for testing).
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix plugin tests: syntax errors, library load errors.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Make lightbox filter specs pass again.
    Adding set support in the lightbox plugin so we can handle albums. Thanks fish for this patch
    Adding the lightbox plugin a class attribute to handle user defined CSS
    Replace flickr gem with flickraw for flickr and lightbox plugins.
    
    The flickr gem was broken and seems unmaintained.
    [#186 state:resolved]
    Fixing a bug introduced by the backport of commit http://github.com/Flameeyes/typo/commit/96b6343e6914627558375f8358a9afd2f30d7cb6 on unbundling Flickr gem
    Fixed bug 114
    fix error in require flickr
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix some spacing in the lightbox plugin
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1288 820eb932-12ee-0310-9ca8-eeb645f39767
    More 4.1 cleanups.  Complete move from serialized canonical_server_url to non-serialized base_url.
    Add a bunch of rdoc.  More deprecations and cleanups.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1242 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    The lighbox fix breaks things in weird and mysterious ways.  Reverting.  Reopens #1077
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1230 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix lightbox root.  Closes #1077
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1227 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Centralize the Flickr API key in environment.rb so everybody can use it without duplication
    Add the ability to use non-Flickr images with Lightbox
    Fixes #664.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@850 820eb932-12ee-0310-9ca8-eeb645f39767
    Add lightbox support as per ticket #651. However, the implementation varies slightly from the patch. The macro is the same, but the script/stylesheet includes are now done automatically whenever you use the {{{<typo:lightbox>}}} macro. This still requires themes to update themselves, but this update is more generalized, and is explained below.
    Textfilters are now passed a model object in addition to the controller object whenever the model object is known. Any custom textfilters will need to be updated. If you do use the model object be sure to check for nil.
    There is now a helper method to provide most of the contents of the {{{<head>}}} tag. Look at Azure for usage. This not only means update-once apply-everywhere, but it ties directly into the next change.
    Textfilters can now add includes to the header via the Content object's whiteboard. For that matter, anything with access to a whiteboard can do this, but it was intended primarily for textfilters. The mechanism for this is by adding a key to the whiteboard called {{{page_header_*}}} where * can be anything. The value of this key is inserted into the {{{<head>}}} tag. The headers of all the rendered content objects are coalesced so if, for example, 2 Articles declare the same includes it will only show up once in the {{{<head>}}} tag. This is a straight equality comparison so don't fall afoul of whitespace. For usage, check out the Lightbox textfilter.
    There are two primary benefits of this change. The first is that any addition, like a textfilter, that needs includes can add them without worrying about updating everybody's theme. Second, includes that aren't necessary will not show up. By this I mean the lightbox javascript/css includes will not show up in {{{<head>}}} unless a rendered Content object actually uses the {{{<typo:lightbox>}}} macro. We may want to consider moving the {{{<typo:code>}}} syntax coloration into a separate CSS file and adding it the same way.
    Also modify register_onload to use prototype's Event.observe - this works around not only a bug in Safari (I think), but also keeps themes like lush from interfering by setting body's onload directly in the layout. I recommend modifying any existing themes that need onload handlers to use register_onload() as well.
    Closes #651.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@848 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 2.3.8. I had to backport some Rails 2.3.5 deprecation and fork actionwebservice to upgrade it to Rails 2.3.8. I think we will definitely use our own version since we may be the latest on earth to use it.
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    Make default plugins use new default view location.
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    * Moved sidebar views into the correct plugin directory
    * Linked sidebars to the blog
    * Added better diagnostics to migration 54
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1246 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Move sidebar views to match default view path for Rails plugins.
    
    It's vendor/plugins/foo_sidebar/app/views/foo_sidebar/_content.html.erb.
    Note the 'app' in there.
    Make default plugins use new default view location.
    Fixes articles counter display in themes having a display: block in their sidebar.
    Fixed categories sidebar ticket #115
    Gave user, tag and category semantically meaningful to_param methods.
    
    Fixed the tag and category sidebars to use the new style named routes.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1481 820eb932-12ee-0310-9ca8-eeb645f39767
    Few bug fixes, translated the plugins frontends, added some things here and there. The CSS code in the template is done on prpose, otherwise it doesn't work
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1391 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    * Moved sidebar views into the correct plugin directory
    * Linked sidebars to the blog
    * Added better diagnostics to migration 54
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1246 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Welcome, one and all, to the new style sidebar API.
    
    Nope, there's no documentation yet (but see the poorly titled
    http://www.bofh.org.uk/2006/04/16/write-your-own-typo-sidebar for an
    overview of what's new).
    
    The big change is the addition of a bunch of classmethods to the Sidebars::Plugin
    superclass. The new methods are :setting, :display_name and :description.
    
    We already had :display_name and :description, but the new version take an optional
    argument and work as declarators as well. Also, :display_name does a good job of
    guessing the right display name in many cases.
    
    With the addition of these classmethods, we get to DRY up all those gruesome
    boilerplated configure.rhtml files since 'setting' provides enough information
    for them to be autogenerated.
    
    Oh, and this change is backwards compatible. You don't have to use the new
    class methods, but you're daft if you don't. You'll still have to get rid of the
    explict form_tag and observe_form bits of really old configure.rhtml files, but
    I can't make us that backward compatible because the old way broke browsers.
    
    If you want to see pretty much all the ways :setting can work, check out
    !XmlController and !FlickrController, which pretty much cover the waterfront.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1022 820eb932-12ee-0310-9ca8-eeb645f39767
    HTML-escape category names.  Closes #714
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@866 820eb932-12ee-0310-9ca8-eeb645f39767
    Add tag/category lists.  Closes #478
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@707 820eb932-12ee-0310-9ca8-eeb645f39767
     * Fixed Category::find_all_with_article_counters to include empty categories again (closes #377)
     * Fixed category sidebar configuration to actually update the settings properly if neither of the checkboxes are checked (closes #396)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@645 820eb932-12ee-0310-9ca8-eeb645f39767
     * Fix categories sidebar to link to category permalinks instead of the name.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@403 820eb932-12ee-0310-9ca8-eeb645f39767
    Configurable sidebars.  (closes #157, #103)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@364 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Welcome, one and all, to the new style sidebar API.
    
    Nope, there's no documentation yet (but see the poorly titled
    http://www.bofh.org.uk/2006/04/16/write-your-own-typo-sidebar for an
    overview of what's new).
    
    The big change is the addition of a bunch of classmethods to the Sidebars::Plugin
    superclass. The new methods are :setting, :display_name and :description.
    
    We already had :display_name and :description, but the new version take an optional
    argument and work as declarators as well. Also, :display_name does a good job of
    guessing the right display name in many cases.
    
    With the addition of these classmethods, we get to DRY up all those gruesome
    boilerplated configure.rhtml files since 'setting' provides enough information
    for them to be autogenerated.
    
    Oh, and this change is backwards compatible. You don't have to use the new
    class methods, but you're daft if you don't. You'll still have to get rid of the
    explict form_tag and observe_form bits of really old configure.rhtml files, but
    I can't make us that backward compatible because the old way broke browsers.
    
    If you want to see pretty much all the ways :setting can work, check out
    !XmlController and !FlickrController, which pretty much cover the waterfront.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1022 820eb932-12ee-0310-9ca8-eeb645f39767
    I continue to pick away at the Sidebar system. In this patch we:
    
      * Pull Sidebars::Plugin out into lib
      * Add a Sidebars::!ComponentPlugin which all component based sidebars
        inherit from (not that there are any other sorts of sidebar yet. Bear
        with me
      * Pulled !SidebarController out of components and into app/controllers
      * Lay groundwork for eliminating {{{staged_position}}} from the Sidebar
        model
    
    We've also got the beginnings of a sidebar preview here, /sidebar will
    show you a dummy article with a sidebar -- eventually this should work
    to show you a preview of the staged sidebar configuration.
    
    Coming up, a way of calling actions other than 'configure' and 'content'
    on your sidebars -- a necessity for advanced navigation tools for
    instance.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1002 820eb932-12ee-0310-9ca8-eeb645f39767
     r1423@obelisk:  pdcawley | 2006-03-31 16:21:36 +0100
     Closes #756
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@982 820eb932-12ee-0310-9ca8-eeb645f39767
    Configurable sidebars.  (closes #157, #103)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@364 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    Make default plugins use new default view location.
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    * Moved sidebar views into the correct plugin directory
    * Linked sidebars to the blog
    * Added better diagnostics to migration 54
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1246 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Move sidebar views to match default view path for Rails plugins.
    
    It's vendor/plugins/foo_sidebar/app/views/foo_sidebar/_content.html.erb.
    Note the 'app' in there.
    Make default plugins use new default view location.
    Gave user, tag and category semantically meaningful to_param methods.
    
    Fixed the tag and category sidebars to use the new style named routes.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1481 820eb932-12ee-0310-9ca8-eeb645f39767
    Few bug fixes, translated the plugins frontends, added some things here and there. The CSS code in the template is done on prpose, otherwise it doesn't work
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1391 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    * Moved sidebar views into the correct plugin directory
    * Linked sidebars to the blog
    * Added better diagnostics to migration 54
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1246 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes themes AJAX posting, sidebar config, categories reorder, posts filtering, themes form design
    Fixes themes AJAX posting, sidebar config, categories reorder, posts filtering, themes form design
    Install prototype_legacy_helper plugin.
    
    This plugin provides javascript helpers like submit_to_remote that are no
    longer in Rails itself.
    Fixes themes AJAX posting, sidebar config, categories reorder, posts filtering, themes form design
    Update prototype_legacy_helper plugin.
    
    Updated to the pwnall/master branch. Fixes remote_form_for bugs.
    Install prototype_legacy_helper plugin.
    
    This plugin provides javascript helpers like submit_to_remote that are no
    longer in Rails itself.
    Fixes themes AJAX posting, sidebar config, categories reorder, posts filtering, themes form design
    Update prototype_legacy_helper plugin.
    
    Updated to the pwnall/master branch. Fixes remote_form_for bugs.
    Install prototype_legacy_helper plugin.
    
    This plugin provides javascript helpers like submit_to_remote that are no
    longer in Rails itself.
    Make default plugins use new default view location.
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    * Moved sidebar views into the correct plugin directory
    * Linked sidebars to the blog
    * Added better diagnostics to migration 54
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1246 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Move sidebar views to match default view path for Rails plugins.
    
    It's vendor/plugins/foo_sidebar/app/views/foo_sidebar/_content.html.erb.
    Note the 'app' in there.
    Make default plugins use new default view location.
    Fixing static sidebar. Old, deprecated code silently breaking. We need to find a way to test them
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    * Moved sidebar views into the correct plugin directory
    * Linked sidebars to the blog
    * Added better diagnostics to migration 54
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1246 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding Yannick and Thomas to default static sidebar contents
    Add coding comment for non-ascii files.
    
    Part of the Ruby 1.9 compatibility effort.
    Adds Matijs and Cyril to mainteners list and static sidebars, fixes static sidebar, removes useless doc
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds some more localization
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1653 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Added default sitewide comments and trackback moderation
    Removed blogs now running Mephisto from the Static sidebar plugin
    Added mine. Blogging is just a question of ego isn't it ?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1373 820eb932-12ee-0310-9ca8-eeb645f39767
    * Fixed a couple of broken tests introduced by the changes in title_prefix
    * Nailed a few other issues brought up while porting tests to RSpec
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1323 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Welcome, one and all, to the new style sidebar API.
    
    Nope, there's no documentation yet (but see the poorly titled
    http://www.bofh.org.uk/2006/04/16/write-your-own-typo-sidebar for an
    overview of what's new).
    
    The big change is the addition of a bunch of classmethods to the Sidebars::Plugin
    superclass. The new methods are :setting, :display_name and :description.
    
    We already had :display_name and :description, but the new version take an optional
    argument and work as declarators as well. Also, :display_name does a good job of
    guessing the right display name in many cases.
    
    With the addition of these classmethods, we get to DRY up all those gruesome
    boilerplated configure.rhtml files since 'setting' provides enough information
    for them to be autogenerated.
    
    Oh, and this change is backwards compatible. You don't have to use the new
    class methods, but you're daft if you don't. You'll still have to get rid of the
    explict form_tag and observe_form bits of really old configure.rhtml files, but
    I can't make us that backward compatible because the old way broke browsers.
    
    If you want to see pretty much all the ways :setting can work, check out
    !XmlController and !FlickrController, which pretty much cover the waterfront.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1022 820eb932-12ee-0310-9ca8-eeb645f39767
    I continue to pick away at the Sidebar system. In this patch we:
    
      * Pull Sidebars::Plugin out into lib
      * Add a Sidebars::!ComponentPlugin which all component based sidebars
        inherit from (not that there are any other sorts of sidebar yet. Bear
        with me
      * Pulled !SidebarController out of components and into app/controllers
      * Lay groundwork for eliminating {{{staged_position}}} from the Sidebar
        model
    
    We've also got the beginnings of a sidebar preview here, /sidebar will
    show you a dummy article with a sidebar -- eventually this should work
    to show you a preview of the staged sidebar configuration.
    
    Coming up, a way of calling actions other than 'configure' and 'content'
    on your sidebars -- a necessity for advanced navigation tools for
    instance.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1002 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix all relevant references from typo.leetsoft.com to www.typosphere.org. Fixes #720
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@879 820eb932-12ee-0310-9ca8-eeb645f39767
    Add Typo Forums link to default Links sidebar. Fixes #608
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@827 820eb932-12ee-0310-9ca8-eeb645f39767
     r713@Menhir:  pdcawley | 2005-12-06 02:51:29 +0000
     added planettypo and nubyonrails.com to the default links
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@773 820eb932-12ee-0310-9ca8-eeb645f39767
     r705@Menhir:  pdcawley | 2005-12-06 01:59:13 +0000
     Added Just a Summary to the default links
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@771 820eb932-12ee-0310-9ca8-eeb645f39767
    Configurable sidebars.  (closes #157, #103)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@364 820eb932-12ee-0310-9ca8-eeb645f39767
    Make default plugins use new default view location.
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    * Moved sidebar views into the correct plugin directory
    * Linked sidebars to the blog
    * Added better diagnostics to migration 54
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1246 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Move sidebar views to match default view path for Rails plugins.
    
    It's vendor/plugins/foo_sidebar/app/views/foo_sidebar/_content.html.erb.
    Note the 'app' in there.
    Make default plugins use new default view location.
    Fix broken sidebars
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    * Moved sidebar views into the correct plugin directory
    * Linked sidebars to the blog
    * Added better diagnostics to migration 54
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1246 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Replace inject([]) with map.
    
    Hat tip to William T. Nelson: https://github.com/fdv/typo/pull/22
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix plugin tests: syntax errors, library load errors.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    use redcloth by gem not freeze it (in release we can freeze it)
    need require RedCloth to be use textile :)
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 2.3.8. I had to backport some Rails 2.3.5 deprecation and fork actionwebservice to upgrade it to Rails 2.3.8. I think we will definitely use our own version since we may be the latest on earth to use it.
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    Make default plugins use new default view location.
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    * Moved sidebar views into the correct plugin directory
    * Linked sidebars to the blog
    * Added better diagnostics to migration 54
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1246 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Move sidebar views to match default view path for Rails plugins.
    
    It's vendor/plugins/foo_sidebar/app/views/foo_sidebar/_content.html.erb.
    Note the 'app' in there.
    Make default plugins use new default view location.
    Includes article counter in the link.
    
    This won't break anything and fixes most themes having links using display: block in their sidebar. This behavior made the counter break the theme when displayed.
    Fixes archives sidebar
    Fixed the archive route.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1504 820eb932-12ee-0310-9ca8-eeb645f39767
    Few bug fixes, translated the plugins frontends, added some things here and there. The CSS code in the template is done on prpose, otherwise it doesn't work
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1391 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    * Moved sidebar views into the correct plugin directory
    * Linked sidebars to the blog
    * Added better diagnostics to migration 54
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1246 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Welcome, one and all, to the new style sidebar API.
    
    Nope, there's no documentation yet (but see the poorly titled
    http://www.bofh.org.uk/2006/04/16/write-your-own-typo-sidebar for an
    overview of what's new).
    
    The big change is the addition of a bunch of classmethods to the Sidebars::Plugin
    superclass. The new methods are :setting, :display_name and :description.
    
    We already had :display_name and :description, but the new version take an optional
    argument and work as declarators as well. Also, :display_name does a good job of
    guessing the right display name in many cases.
    
    With the addition of these classmethods, we get to DRY up all those gruesome
    boilerplated configure.rhtml files since 'setting' provides enough information
    for them to be autogenerated.
    
    Oh, and this change is backwards compatible. You don't have to use the new
    class methods, but you're daft if you don't. You'll still have to get rid of the
    explict form_tag and observe_form bits of really old configure.rhtml files, but
    I can't make us that backward compatible because the old way broke browsers.
    
    If you want to see pretty much all the ways :setting can work, check out
    !XmlController and !FlickrController, which pretty much cover the waterfront.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1022 820eb932-12ee-0310-9ca8-eeb645f39767
    Apply path from <raidel@onemail.at> to fix the Archive sidebar's current month link when viewing an article's page. Fixes #642
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@845 820eb932-12ee-0310-9ca8-eeb645f39767
    New sidebar plugin: Archives (closes #221, although rewritten to do the calculations in the controller and lose the ugly counters) [kevin@sb.org]
    NOTE: This would be half as ugly and half as bad performance-wise if SQLite had support for DATE_FORMAT() *sigh*
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@452 820eb932-12ee-0310-9ca8-eeb645f39767
    Brings more translation
    Adds some changes to the content editor
    Brings localisation to Standard issue
    Brings localisation to archives plugin
    Fix typo version to 5.0.3
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1649 820eb932-12ee-0310-9ca8-eeb645f39767
    Tests suite is green. Patchy, but green.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1577 820eb932-12ee-0310-9ca8-eeb645f39767
    ooooops, somthing nasty occured
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1375 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix sqlite archives.  Closes #1002, #993
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1138 820eb932-12ee-0310-9ca8-eeb645f39767
    More archives work.  It works right on Postgres again at least.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1101 820eb932-12ee-0310-9ca8-eeb645f39767
    Yet another archives attempt fix.  I stopped being stupid, so this should work :-).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1098 820eb932-12ee-0310-9ca8-eeb645f39767
    Another mysql archive fix attempt
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1095 820eb932-12ee-0310-9ca8-eeb645f39767
    Partial MySQL archives sidebar fix
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1089 820eb932-12ee-0310-9ca8-eeb645f39767
    A bunch of performance fixes (and also a couple created_at/published_at fixes).
    
    This drops our render time on my big DB from ~12 seconds to ~1 second.  That's still
    *way* too slow, but we're moving in the right direction.  We're down to ~40 queries
    for a 15-entry index page now, down from *300*.  And, half of the remaining queries
    are basically Blog.find(1).  I'm not sure why the eager loading on Articles isn't
    helping with this.
    
    This also closes #851--the archive sidebar was one of the big contenders, eating
    6 or 7 seconds per query.  It's down to a few ms now.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1086 820eb932-12ee-0310-9ca8-eeb645f39767
    Welcome, one and all, to the new style sidebar API.
    
    Nope, there's no documentation yet (but see the poorly titled
    http://www.bofh.org.uk/2006/04/16/write-your-own-typo-sidebar for an
    overview of what's new).
    
    The big change is the addition of a bunch of classmethods to the Sidebars::Plugin
    superclass. The new methods are :setting, :display_name and :description.
    
    We already had :display_name and :description, but the new version take an optional
    argument and work as declarators as well. Also, :display_name does a good job of
    guessing the right display name in many cases.
    
    With the addition of these classmethods, we get to DRY up all those gruesome
    boilerplated configure.rhtml files since 'setting' provides enough information
    for them to be autogenerated.
    
    Oh, and this change is backwards compatible. You don't have to use the new
    class methods, but you're daft if you don't. You'll still have to get rid of the
    explict form_tag and observe_form bits of really old configure.rhtml files, but
    I can't make us that backward compatible because the old way broke browsers.
    
    If you want to see pretty much all the ways :setting can work, check out
    !XmlController and !FlickrController, which pretty much cover the waterfront.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1022 820eb932-12ee-0310-9ca8-eeb645f39767
    I continue to pick away at the Sidebar system. In this patch we:
    
      * Pull Sidebars::Plugin out into lib
      * Add a Sidebars::!ComponentPlugin which all component based sidebars
        inherit from (not that there are any other sorts of sidebar yet. Bear
        with me
      * Pulled !SidebarController out of components and into app/controllers
      * Lay groundwork for eliminating {{{staged_position}}} from the Sidebar
        model
    
    We've also got the beginnings of a sidebar preview here, /sidebar will
    show you a dummy article with a sidebar -- eventually this should work
    to show you a preview of the staged sidebar configuration.
    
    Coming up, a way of calling actions other than 'configure' and 'content'
    on your sidebars -- a necessity for advanced navigation tools for
    instance.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1002 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix #702 - last month displayed in archives sidebar should now have correct count
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@886 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix postgres support in archives controller, patch provided by anonymous. Fixes #654
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@834 820eb932-12ee-0310-9ca8-eeb645f39767
    New sidebar plugin: Archives (closes #221, although rewritten to do the calculations in the controller and lose the ugly counters) [kevin@sb.org]
    NOTE: This would be half as ugly and half as bad performance-wise if SQLite had support for DATE_FORMAT() *sigh*
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@452 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding dynamic form plugins as namy forms thing were deprecated. I'll remove it and upgrade this part later when working on the admin
    ready for first deployment
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@11 820eb932-12ee-0310-9ca8-eeb645f39767
    added missing Resource model and tests and included MIT-LICENCE (yay)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@6 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding dynamic form plugins as namy forms thing were deprecated. I'll remove it and upgrade this part later when working on the admin
    Adding dynamic form plugins as namy forms thing were deprecated. I'll remove it and upgrade this part later when working on the admin
    Adding dynamic form plugins as namy forms thing were deprecated. I'll remove it and upgrade this part later when working on the admin
    Adding dynamic form plugins as namy forms thing were deprecated. I'll remove it and upgrade this part later when working on the admin
    Adding dynamic form plugins as namy forms thing were deprecated. I'll remove it and upgrade this part later when working on the admin
    Adding dynamic form plugins as namy forms thing were deprecated. I'll remove it and upgrade this part later when working on the admin
    Adding dynamic form plugins as namy forms thing were deprecated. I'll remove it and upgrade this part later when working on the admin
    Adding dynamic form plugins as namy forms thing were deprecated. I'll remove it and upgrade this part later when working on the admin
    Update to rspec-rails 2.0 pre-release.
    
    Older rspec-rails versions don't support Rails 3.
    Cleaning images, fixing migration bugs, adding new logo
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1726 820eb932-12ee-0310-9ca8-eeb645f39767
    A bit of multi-blog code.  It doesn't work yet.  via GPRS :-).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1240 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove _html fields from contents.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1238 820eb932-12ee-0310-9ca8-eeb645f39767
    Strip tailing / from canonical_server_url
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1235 820eb932-12ee-0310-9ca8-eeb645f39767
    Update schemas to v50
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1224 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema update, to 49
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1199 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated schemas
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1162 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema updates, including a 'schema_version' file for the installer.
    
    Yes, I'm working on the installer.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1066 820eb932-12ee-0310-9ca8-eeb645f39767
    Update schema files
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1059 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema update.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@955 820eb932-12ee-0310-9ca8-eeb645f39767
    Make migrations 38 and 39 safe for schema_generator.
    Re-generate the SQL files
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@926 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix #700 - {{{rake schemas}}} will now translate ENGINE=InnoDB into TYPE=MyISAM instead of just changing the engine name.
    Also modify the schemas task to delete db/schema.rb so nobody accidentally re-commits it to the repo
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@889 820eb932-12ee-0310-9ca8-eeb645f39767
    Commit results of {{{rake schemas}}} with latest schema_generator
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@885 820eb932-12ee-0310-9ca8-eeb645f39767
    Tags now support the concept of a display name. This is to facility re-naming tags, an interface for which will be provided soon. Tag names are now canonicalized into a lowercase, space-stripped name so "Monty Python" and "montypython" will be the same tag. Please note that display name really should be a reformatted version of the original name - if you change the content, like using "Graham Chapman" for the tag "montypython" you can still get duplicate tag issues where a keyword "grahamchapman" will create a new tag since it will not match either "Graham Chapman" or "montypython".
    Please note that theme writers who override the tag sidebar display will have to modify their themes to use tag.display_name instead of tag.name.
    Also note that the migration was written to try and handle duplicate tags gracefully (currently you can have both "montypython" and "Monty Python" as separate tags but they will both end up as "montypython" after migration), by destroying the latter one and recreating the tag mappings for any affected articles. It was tested, but not extensively, so be careful - as always, back up your database before migrating.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@858 820eb932-12ee-0310-9ca8-eeb645f39767
    Revert schema.foo.sql changes made in [781], since they made no actual difference but added unnecessary newlines
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@783 820eb932-12ee-0310-9ca8-eeb645f39767
     r724@Menhir:  pdcawley | 2005-12-07 11:27:10 +0000
     Updated schemata and added db/schema.rb to the dist
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@781 820eb932-12ee-0310-9ca8-eeb645f39767
    Update the schemas
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@779 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Podcasting, thanks to bingeldac (Grant Schofield).  This also reverts the previous two patches--it's possible that migrations are broken, but that's better then everything else being broken.  There are a few things that I'd like to change here, but by and large it works.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@752 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated schemas again
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@703 820eb932-12ee-0310-9ca8-eeb645f39767
    Update initial schemas to rev 23 (oops)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@702 820eb932-12ee-0310-9ca8-eeb645f39767
    Add GUIDs to comments and trackbacks, and clean up Article GUID code.  Use GUIDs in Atom 1.0 feeds because our old IDs were nasty and not unique.  Still thinking about adding them to RSS 2.0 and Atom 0.3; it'll be user-visible if we change them.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@636 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a user_id field to comments, and stuff it with session[:user].  Also fix over-eager saves triggered by previews
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@627 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix old Postgres 2.0.6 schema bug.  (closes #375)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@608 820eb932-12ee-0310-9ca8-eeb645f39767
    Make innodb the default on mysql, so we can enable transactional test fixtures.  Update all static schemas using tool.  Bwahahaha
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@606 820eb932-12ee-0310-9ca8-eeb645f39767
    'Moved from manually-edited SQL schemas to schema generator generated schemas.  The default for mysql is now innodb, but a myisam version is included as schema.mysql-v3.sql.  The PostgreSQL version is renamed from .psql to .postgresql, as that's the default for the generator.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@599 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug in the mt api and a bug in the migrations with sqlite
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1725 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds some more localization
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1653 820eb932-12ee-0310-9ca8-eeb645f39767
    fixes migration version and adds a ugly workaround to rails 2.0.2 update_all bug with sqlite and pgsql
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1615 820eb932-12ee-0310-9ca8-eeb645f39767
    A bit of multi-blog code.  It doesn't work yet.  via GPRS :-).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1240 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove _html fields from contents.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1238 820eb932-12ee-0310-9ca8-eeb645f39767
    Strip tailing / from canonical_server_url
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1235 820eb932-12ee-0310-9ca8-eeb645f39767
    Update schemas to v50
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1224 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema update, to 49
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1199 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated schemas
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1162 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema updates, including a 'schema_version' file for the installer.
    
    Yes, I'm working on the installer.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1066 820eb932-12ee-0310-9ca8-eeb645f39767
    Cleaning images, fixing migration bugs, adding new logo
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1726 820eb932-12ee-0310-9ca8-eeb645f39767
    A bit of multi-blog code.  It doesn't work yet.  via GPRS :-).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1240 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove _html fields from contents.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1238 820eb932-12ee-0310-9ca8-eeb645f39767
    Strip tailing / from canonical_server_url
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1235 820eb932-12ee-0310-9ca8-eeb645f39767
    Update schemas to v50
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1224 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema update, to 49
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1199 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated schemas
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1162 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema updates, including a 'schema_version' file for the installer.
    
    Yes, I'm working on the installer.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1066 820eb932-12ee-0310-9ca8-eeb645f39767
    Update schema files
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1059 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema update.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@955 820eb932-12ee-0310-9ca8-eeb645f39767
    Make migrations 38 and 39 safe for schema_generator.
    Re-generate the SQL files
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@926 820eb932-12ee-0310-9ca8-eeb645f39767
    Commit results of {{{rake schemas}}} with latest schema_generator
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@885 820eb932-12ee-0310-9ca8-eeb645f39767
    Tags now support the concept of a display name. This is to facility re-naming tags, an interface for which will be provided soon. Tag names are now canonicalized into a lowercase, space-stripped name so "Monty Python" and "montypython" will be the same tag. Please note that display name really should be a reformatted version of the original name - if you change the content, like using "Graham Chapman" for the tag "montypython" you can still get duplicate tag issues where a keyword "grahamchapman" will create a new tag since it will not match either "Graham Chapman" or "montypython".
    Please note that theme writers who override the tag sidebar display will have to modify their themes to use tag.display_name instead of tag.name.
    Also note that the migration was written to try and handle duplicate tags gracefully (currently you can have both "montypython" and "Monty Python" as separate tags but they will both end up as "montypython" after migration), by destroying the latter one and recreating the tag mappings for any affected articles. It was tested, but not extensively, so be careful - as always, back up your database before migrating.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@858 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema updates (using schema generator 0.9.0, about to be released)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@794 820eb932-12ee-0310-9ca8-eeb645f39767
    Revert schema.foo.sql changes made in [781], since they made no actual difference but added unnecessary newlines
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@783 820eb932-12ee-0310-9ca8-eeb645f39767
     r724@Menhir:  pdcawley | 2005-12-07 11:27:10 +0000
     Updated schemata and added db/schema.rb to the dist
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@781 820eb932-12ee-0310-9ca8-eeb645f39767
    Update the schemas
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@779 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Podcasting, thanks to bingeldac (Grant Schofield).  This also reverts the previous two patches--it's possible that migrations are broken, but that's better then everything else being broken.  There are a few things that I'd like to change here, but by and large it works.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@752 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated schemas again
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@703 820eb932-12ee-0310-9ca8-eeb645f39767
    Updates to the migrations from the previous commit.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@662 820eb932-12ee-0310-9ca8-eeb645f39767
    Add GUIDs to comments and trackbacks, and clean up Article GUID code.  Use GUIDs in Atom 1.0 feeds because our old IDs were nasty and not unique.  Still thinking about adding them to RSS 2.0 and Atom 0.3; it'll be user-visible if we change them.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@636 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a user_id field to comments, and stuff it with session[:user].  Also fix over-eager saves triggered by previews
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@627 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix old Postgres 2.0.6 schema bug.  (closes #375)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@608 820eb932-12ee-0310-9ca8-eeb645f39767
    Make innodb the default on mysql, so we can enable transactional test fixtures.  Update all static schemas using tool.  Bwahahaha
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@606 820eb932-12ee-0310-9ca8-eeb645f39767
    'Moved from manually-edited SQL schemas to schema generator generated schemas.  The default for mysql is now innodb, but a myisam version is included as schema.mysql-v3.sql.  The PostgreSQL version is renamed from .psql to .postgresql, as that's the default for the generator.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@599 820eb932-12ee-0310-9ca8-eeb645f39767
    changed models
    new form
    merge creating new article
    non-admin and both texts added to step functions
    first cucumber test passing
    initial changes to typo
    Cleaning images, fixing migration bugs, adding new logo
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1726 820eb932-12ee-0310-9ca8-eeb645f39767
    A bit of multi-blog code.  It doesn't work yet.  via GPRS :-).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1240 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove _html fields from contents.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1238 820eb932-12ee-0310-9ca8-eeb645f39767
    Strip tailing / from canonical_server_url
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1235 820eb932-12ee-0310-9ca8-eeb645f39767
    Update schemas to v50
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1224 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema update, to 49
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1199 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated schemas
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1162 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema updates, including a 'schema_version' file for the installer.
    
    Yes, I'm working on the installer.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1066 820eb932-12ee-0310-9ca8-eeb645f39767
    Update schema files
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1059 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema update.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@955 820eb932-12ee-0310-9ca8-eeb645f39767
    Make migrations 38 and 39 safe for schema_generator.
    Re-generate the SQL files
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@926 820eb932-12ee-0310-9ca8-eeb645f39767
    Commit results of {{{rake schemas}}} with latest schema_generator
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@885 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix schema.sqlite.sql file by replacing ` with '
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@877 820eb932-12ee-0310-9ca8-eeb645f39767
    Tags now support the concept of a display name. This is to facility re-naming tags, an interface for which will be provided soon. Tag names are now canonicalized into a lowercase, space-stripped name so "Monty Python" and "montypython" will be the same tag. Please note that display name really should be a reformatted version of the original name - if you change the content, like using "Graham Chapman" for the tag "montypython" you can still get duplicate tag issues where a keyword "grahamchapman" will create a new tag since it will not match either "Graham Chapman" or "montypython".
    Please note that theme writers who override the tag sidebar display will have to modify their themes to use tag.display_name instead of tag.name.
    Also note that the migration was written to try and handle duplicate tags gracefully (currently you can have both "montypython" and "Monty Python" as separate tags but they will both end up as "montypython" after migration), by destroying the latter one and recreating the tag mappings for any affected articles. It was tested, but not extensively, so be careful - as always, back up your database before migrating.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@858 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema updates (using schema generator 0.9.0, about to be released)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@794 820eb932-12ee-0310-9ca8-eeb645f39767
    Revert schema.foo.sql changes made in [781], since they made no actual difference but added unnecessary newlines
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@783 820eb932-12ee-0310-9ca8-eeb645f39767
     r724@Menhir:  pdcawley | 2005-12-07 11:27:10 +0000
     Updated schemata and added db/schema.rb to the dist
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@781 820eb932-12ee-0310-9ca8-eeb645f39767
    Update the schemas
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@779 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Podcasting, thanks to bingeldac (Grant Schofield).  This also reverts the previous two patches--it's possible that migrations are broken, but that's better then everything else being broken.  There are a few things that I'd like to change here, but by and large it works.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@752 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated schemas again
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@703 820eb932-12ee-0310-9ca8-eeb645f39767
    Updates to the migrations from the previous commit.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@662 820eb932-12ee-0310-9ca8-eeb645f39767
    Add GUIDs to comments and trackbacks, and clean up Article GUID code.  Use GUIDs in Atom 1.0 feeds because our old IDs were nasty and not unique.  Still thinking about adding them to RSS 2.0 and Atom 0.3; it'll be user-visible if we change them.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@636 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a user_id field to comments, and stuff it with session[:user].  Also fix over-eager saves triggered by previews
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@627 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix old Postgres 2.0.6 schema bug.  (closes #375)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@608 820eb932-12ee-0310-9ca8-eeb645f39767
    Make innodb the default on mysql, so we can enable transactional test fixtures.  Update all static schemas using tool.  Bwahahaha
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@606 820eb932-12ee-0310-9ca8-eeb645f39767
    'Moved from manually-edited SQL schemas to schema generator generated schemas.  The default for mysql is now innodb, but a myisam version is included as schema.mysql-v3.sql.  The PostgreSQL version is renamed from .psql to .postgresql, as that's the default for the generator.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@599 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed newlines in sqlite schema (closes #352) [yas]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@575 820eb932-12ee-0310-9ca8-eeb645f39767
    Update schema files to version 14
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@572 820eb932-12ee-0310-9ca8-eeb645f39767
    Bumped schema version of schema files to 12
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@555 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed schema version number
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@535 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
    Added GUID to articles, as per xal's request
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@482 820eb932-12ee-0310-9ca8-eeb645f39767
     * Added title attributes to static pages and the name of the page in question to the page destroy page (closes #236) [atmos]
     * Also fixed label for values to match the corresponding fields
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@464 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated schema files for 7th migration
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@426 820eb932-12ee-0310-9ca8-eeb645f39767
    schemas are at revision 6
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@412 820eb932-12ee-0310-9ca8-eeb645f39767
    Add static pages.  Also fixes a caching bug (the new PageCache was broken due to :name/:page_name mix).  (closes #181)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@391 820eb932-12ee-0310-9ca8-eeb645f39767
    sqlite needs schema info too now. Next rails will support migrations for it
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@389 820eb932-12ee-0310-9ca8-eeb645f39767
    schema updates
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@388 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds Cache model.  (closes #183)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@385 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed spare comma from sqlite schema. (closes #189)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@381 820eb932-12ee-0310-9ca8-eeb645f39767
    Configurable sidebars.  (closes #157, #103)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@364 820eb932-12ee-0310-9ca8-eeb645f39767
    Provide an optional mailto: link on article author names. (closes #156)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@354 820eb932-12ee-0310-9ca8-eeb645f39767
    added migration update task as well as updated schemas for #300
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@301 820eb932-12ee-0310-9ca8-eeb645f39767
    updated mysql and pg schema with proper indexes and constrains (fixes #52) and updated README file
    for the impending release
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@193 820eb932-12ee-0310-9ca8-eeb645f39767
    updated schema files fixes #51
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@192 820eb932-12ee-0310-9ca8-eeb645f39767
    Added created_at/updated_at magic columns for session table
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@182 820eb932-12ee-0310-9ca8-eeb645f39767
     * Switching to ActiveRecordStore for sessions
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@181 820eb932-12ee-0310-9ca8-eeb645f39767
     * Merged spamprot branch containing DNSRBL blocking, URL count limit, old article auto-close (refs #25)
       MISSING: Moderation options instead of flat out blocking, bayes based blocking, web-interface for blacklist items, auto-close indication
     * Minor fixes from spamprot branch:
       * No more escaping of article titles in articles/_read.rhtml
       * Proper sorting for delicious partial
       * Better semantics for sidebar boxes
    
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@178 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged /branches/aws to /trunk. Three cheers for Patrick Lenz's fantastic work in this branch
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@132 820eb932-12ee-0310-9ca8-eeb645f39767
    removed config/config.yml, on first request you will be redirected to settings/install to enter the values. This page is currently not protected, need to come up with something
    before next release.
    Added categories to the right hand side
    Fixed the ordering of articles in the categories filtered view
    Added a config manager
    Adjusted html of live preview
    Created settings table
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@93 820eb932-12ee-0310-9ca8-eeb645f39767
    Article trackback inbound and outbound should be fully working now.
    Category trackback coming soon.
    Some small code cleanups.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@83 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed comments #6 (shane) and fixed sqlite schema
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@76 820eb932-12ee-0310-9ca8-eeb645f39767
    * Categories can be created and deleted by entering [+newcategory -oldcategory] at the beginning of a title.
      It's nasty, but it works.  Maybe we can keep playing with it until we find something usable.
    
    * Using the MovableType api, categories can be made primary for an article.
    
    * Stupidity on my part cleaned up.  I was clearing the articles_categories links strangly.
    
    * Database schema's updated slightly.. primary_category renamed to is_primary to reflect the binary choice.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@70 820eb932-12ee-0310-9ca8-eeb645f39767
    added readme and removed all personal things from trunk
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@57 820eb932-12ee-0310-9ca8-eeb645f39767
    Cleaned up the db/ directory and added create_sqlite rake task
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@52 820eb932-12ee-0310-9ca8-eeb645f39767
    Database support for "pings" (outbound trackbacks).
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@43 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated db schema to add support for incoming trackbacks and support for the Moveable Type api.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@37 820eb932-12ee-0310-9ca8-eeb645f39767
    added patch for categories support
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@34 820eb932-12ee-0310-9ca8-eeb645f39767
    improved search and added public exception handling
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@16 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@8 820eb932-12ee-0310-9ca8-eeb645f39767
    added image upload using marsedit!
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@3 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Crappy hook to avoid keyboard to chair inteface issues
    Cleaning images, fixing migration bugs, adding new logo
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1726 820eb932-12ee-0310-9ca8-eeb645f39767
    A bit of multi-blog code.  It doesn't work yet.  via GPRS :-).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1240 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove _html fields from contents.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1238 820eb932-12ee-0310-9ca8-eeb645f39767
    Strip tailing / from canonical_server_url
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1235 820eb932-12ee-0310-9ca8-eeb645f39767
    Update schemas to v50
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1224 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema update, to 49
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1199 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated schemas
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1162 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema updates, including a 'schema_version' file for the installer.
    
    Yes, I'm working on the installer.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1066 820eb932-12ee-0310-9ca8-eeb645f39767
    Update schema files
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1059 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema update.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@955 820eb932-12ee-0310-9ca8-eeb645f39767
    Make migrations 38 and 39 safe for schema_generator.
    Re-generate the SQL files
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@926 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix #700 - {{{rake schemas}}} will now translate ENGINE=InnoDB into TYPE=MyISAM instead of just changing the engine name.
    Also modify the schemas task to delete db/schema.rb so nobody accidentally re-commits it to the repo
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@889 820eb932-12ee-0310-9ca8-eeb645f39767
    Commit results of {{{rake schemas}}} with latest schema_generator
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@885 820eb932-12ee-0310-9ca8-eeb645f39767
    Tags now support the concept of a display name. This is to facility re-naming tags, an interface for which will be provided soon. Tag names are now canonicalized into a lowercase, space-stripped name so "Monty Python" and "montypython" will be the same tag. Please note that display name really should be a reformatted version of the original name - if you change the content, like using "Graham Chapman" for the tag "montypython" you can still get duplicate tag issues where a keyword "grahamchapman" will create a new tag since it will not match either "Graham Chapman" or "montypython".
    Please note that theme writers who override the tag sidebar display will have to modify their themes to use tag.display_name instead of tag.name.
    Also note that the migration was written to try and handle duplicate tags gracefully (currently you can have both "montypython" and "Monty Python" as separate tags but they will both end up as "montypython" after migration), by destroying the latter one and recreating the tag mappings for any affected articles. It was tested, but not extensively, so be careful - as always, back up your database before migrating.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@858 820eb932-12ee-0310-9ca8-eeb645f39767
    Revert schema.foo.sql changes made in [781], since they made no actual difference but added unnecessary newlines
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@783 820eb932-12ee-0310-9ca8-eeb645f39767
     r724@Menhir:  pdcawley | 2005-12-07 11:27:10 +0000
     Updated schemata and added db/schema.rb to the dist
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@781 820eb932-12ee-0310-9ca8-eeb645f39767
    Update the schemas
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@779 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Podcasting, thanks to bingeldac (Grant Schofield).  This also reverts the previous two patches--it's possible that migrations are broken, but that's better then everything else being broken.  There are a few things that I'd like to change here, but by and large it works.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@752 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated schemas again
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@703 820eb932-12ee-0310-9ca8-eeb645f39767
    Update initial schemas to rev 23 (oops)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@702 820eb932-12ee-0310-9ca8-eeb645f39767
    Add GUIDs to comments and trackbacks, and clean up Article GUID code.  Use GUIDs in Atom 1.0 feeds because our old IDs were nasty and not unique.  Still thinking about adding them to RSS 2.0 and Atom 0.3; it'll be user-visible if we change them.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@636 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a user_id field to comments, and stuff it with session[:user].  Also fix over-eager saves triggered by previews
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@627 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix old Postgres 2.0.6 schema bug.  (closes #375)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@608 820eb932-12ee-0310-9ca8-eeb645f39767
    Make innodb the default on mysql, so we can enable transactional test fixtures.  Update all static schemas using tool.  Bwahahaha
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@606 820eb932-12ee-0310-9ca8-eeb645f39767
    'Moved from manually-edited SQL schemas to schema generator generated schemas.  The default for mysql is now innodb, but a myisam version is included as schema.mysql-v3.sql.  The PostgreSQL version is renamed from .psql to .postgresql, as that's the default for the generator.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@599 820eb932-12ee-0310-9ca8-eeb645f39767
    Cleaning images, fixing migration bugs, adding new logo
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1726 820eb932-12ee-0310-9ca8-eeb645f39767
    A bit of multi-blog code.  It doesn't work yet.  via GPRS :-).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1240 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove _html fields from contents.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1238 820eb932-12ee-0310-9ca8-eeb645f39767
    Strip tailing / from canonical_server_url
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1235 820eb932-12ee-0310-9ca8-eeb645f39767
    Update schemas to v50
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1224 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema update, to 49
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1199 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated schemas
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1162 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema updates, including a 'schema_version' file for the installer.
    
    Yes, I'm working on the installer.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1066 820eb932-12ee-0310-9ca8-eeb645f39767
    Update schema files
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1059 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema update.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@955 820eb932-12ee-0310-9ca8-eeb645f39767
    Make migrations 38 and 39 safe for schema_generator.
    Re-generate the SQL files
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@926 820eb932-12ee-0310-9ca8-eeb645f39767
    Commit results of {{{rake schemas}}} with latest schema_generator
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@885 820eb932-12ee-0310-9ca8-eeb645f39767
    Tags now support the concept of a display name. This is to facility re-naming tags, an interface for which will be provided soon. Tag names are now canonicalized into a lowercase, space-stripped name so "Monty Python" and "montypython" will be the same tag. Please note that display name really should be a reformatted version of the original name - if you change the content, like using "Graham Chapman" for the tag "montypython" you can still get duplicate tag issues where a keyword "grahamchapman" will create a new tag since it will not match either "Graham Chapman" or "montypython".
    Please note that theme writers who override the tag sidebar display will have to modify their themes to use tag.display_name instead of tag.name.
    Also note that the migration was written to try and handle duplicate tags gracefully (currently you can have both "montypython" and "Monty Python" as separate tags but they will both end up as "montypython" after migration), by destroying the latter one and recreating the tag mappings for any affected articles. It was tested, but not extensively, so be careful - as always, back up your database before migrating.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@858 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed column quoting of data INSERT statements in MySQL schema
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@802 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema updates (using schema generator 0.9.0, about to be released)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@794 820eb932-12ee-0310-9ca8-eeb645f39767
    Revert schema.foo.sql changes made in [781], since they made no actual difference but added unnecessary newlines
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@783 820eb932-12ee-0310-9ca8-eeb645f39767
     r724@Menhir:  pdcawley | 2005-12-07 11:27:10 +0000
     Updated schemata and added db/schema.rb to the dist
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@781 820eb932-12ee-0310-9ca8-eeb645f39767
    Update the schemas
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@779 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Podcasting, thanks to bingeldac (Grant Schofield).  This also reverts the previous two patches--it's possible that migrations are broken, but that's better then everything else being broken.  There are a few things that I'd like to change here, but by and large it works.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@752 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated schemas again
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@703 820eb932-12ee-0310-9ca8-eeb645f39767
    Updates to the migrations from the previous commit.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@662 820eb932-12ee-0310-9ca8-eeb645f39767
    Add GUIDs to comments and trackbacks, and clean up Article GUID code.  Use GUIDs in Atom 1.0 feeds because our old IDs were nasty and not unique.  Still thinking about adding them to RSS 2.0 and Atom 0.3; it'll be user-visible if we change them.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@636 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a user_id field to comments, and stuff it with session[:user].  Also fix over-eager saves triggered by previews
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@627 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix old Postgres 2.0.6 schema bug.  (closes #375)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@608 820eb932-12ee-0310-9ca8-eeb645f39767
    Make innodb the default on mysql, so we can enable transactional test fixtures.  Update all static schemas using tool.  Bwahahaha
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@606 820eb932-12ee-0310-9ca8-eeb645f39767
    'Moved from manually-edited SQL schemas to schema generator generated schemas.  The default for mysql is now innodb, but a myisam version is included as schema.mysql-v3.sql.  The PostgreSQL version is renamed from .psql to .postgresql, as that's the default for the generator.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@599 820eb932-12ee-0310-9ca8-eeb645f39767
    Update schema files to version 14
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@572 820eb932-12ee-0310-9ca8-eeb645f39767
    Bumped schema version of schema files to 12
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@555 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove extra comma from mysql schema.  (closes #326)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@540 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed schema version number
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@535 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
    Added GUID to articles, as per xal's request
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@482 820eb932-12ee-0310-9ca8-eeb645f39767
     * Added title attributes to static pages and the name of the page in question to the page destroy page (closes #236) [atmos]
     * Also fixed label for values to match the corresponding fields
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@464 820eb932-12ee-0310-9ca8-eeb645f39767
    Make mysql schema allow longer setting values.  Matches migration, postgres. (closes #212)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@441 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated schema files for 7th migration
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@426 820eb932-12ee-0310-9ca8-eeb645f39767
    schemas are at revision 6
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@412 820eb932-12ee-0310-9ca8-eeb645f39767
    Add static pages.  Also fixes a caching bug (the new PageCache was broken due to :name/:page_name mix).  (closes #181)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@391 820eb932-12ee-0310-9ca8-eeb645f39767
    schema updates
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@388 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds Cache model.  (closes #183)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@385 820eb932-12ee-0310-9ca8-eeb645f39767
    schema fix
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@368 820eb932-12ee-0310-9ca8-eeb645f39767
    Configurable sidebars.  (closes #157, #103)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@364 820eb932-12ee-0310-9ca8-eeb645f39767
    Use the more compatible TYPE=MyISAM in schema.mysql.sql as opposed to the MySQL 4.1 only ENGINE=MyISAM (closes #175)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@358 820eb932-12ee-0310-9ca8-eeb645f39767
    Provide an optional mailto: link on article author names. (closes #156)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@354 820eb932-12ee-0310-9ca8-eeb645f39767
    added migration update task as well as updated schemas for #300
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@301 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed compatibility with mysql 4.0
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@271 820eb932-12ee-0310-9ca8-eeb645f39767
    updated mysql and pg schema with proper indexes and constrains (fixes #52) and updated README file
    for the impending release
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@193 820eb932-12ee-0310-9ca8-eeb645f39767
    updated schema files fixes #51
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@192 820eb932-12ee-0310-9ca8-eeb645f39767
    Added created_at/updated_at magic columns for session table
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@182 820eb932-12ee-0310-9ca8-eeb645f39767
     * Switching to ActiveRecordStore for sessions
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@181 820eb932-12ee-0310-9ca8-eeb645f39767
     * Merged spamprot branch containing DNSRBL blocking, URL count limit, old article auto-close (refs #25)
       MISSING: Moderation options instead of flat out blocking, bayes based blocking, web-interface for blacklist items, auto-close indication
     * Minor fixes from spamprot branch:
       * No more escaping of article titles in articles/_read.rhtml
       * Proper sorting for delicious partial
       * Better semantics for sidebar boxes
    
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@178 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged /branches/aws to /trunk. Three cheers for Patrick Lenz's fantastic work in this branch
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@132 820eb932-12ee-0310-9ca8-eeb645f39767
    removed config/config.yml, on first request you will be redirected to settings/install to enter the values. This page is currently not protected, need to come up with something
    before next release.
    Added categories to the right hand side
    Fixed the ordering of articles in the categories filtered view
    Added a config manager
    Adjusted html of live preview
    Created settings table
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@93 820eb932-12ee-0310-9ca8-eeb645f39767
    Article trackback inbound and outbound should be fully working now.
    Category trackback coming soon.
    Some small code cleanups.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@83 820eb932-12ee-0310-9ca8-eeb645f39767
    * Categories can be created and deleted by entering [+newcategory -oldcategory] at the beginning of a title.
      It's nasty, but it works.  Maybe we can keep playing with it until we find something usable.
    
    * Using the MovableType api, categories can be made primary for an article.
    
    * Stupidity on my part cleaned up.  I was clearing the articles_categories links strangly.
    
    * Database schema's updated slightly.. primary_category renamed to is_primary to reflect the binary choice.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@70 820eb932-12ee-0310-9ca8-eeb645f39767
    missing ; in mysql schema
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@53 820eb932-12ee-0310-9ca8-eeb645f39767
    Cleaned up the db/ directory and added create_sqlite rake task
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@52 820eb932-12ee-0310-9ca8-eeb645f39767
    Database support for "pings" (outbound trackbacks).
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@43 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated db schema to add support for incoming trackbacks and support for the Moveable Type api.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@37 820eb932-12ee-0310-9ca8-eeb645f39767
    added patch for categories support
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@34 820eb932-12ee-0310-9ca8-eeb645f39767
    Cleaning images, fixing migration bugs, adding new logo
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1726 820eb932-12ee-0310-9ca8-eeb645f39767
    A bit of multi-blog code.  It doesn't work yet.  via GPRS :-).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1240 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove _html fields from contents.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1238 820eb932-12ee-0310-9ca8-eeb645f39767
    Strip tailing / from canonical_server_url
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1235 820eb932-12ee-0310-9ca8-eeb645f39767
    Update schemas to v50
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1224 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema update, to 49
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1199 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated schemas
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1162 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema updates, including a 'schema_version' file for the installer.
    
    Yes, I'm working on the installer.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1066 820eb932-12ee-0310-9ca8-eeb645f39767
    Update schema files
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1059 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema update.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@955 820eb932-12ee-0310-9ca8-eeb645f39767
    Make migrations 38 and 39 safe for schema_generator.
    Re-generate the SQL files
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@926 820eb932-12ee-0310-9ca8-eeb645f39767
    Commit results of {{{rake schemas}}} with latest schema_generator
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@885 820eb932-12ee-0310-9ca8-eeb645f39767
    Tags now support the concept of a display name. This is to facility re-naming tags, an interface for which will be provided soon. Tag names are now canonicalized into a lowercase, space-stripped name so "Monty Python" and "montypython" will be the same tag. Please note that display name really should be a reformatted version of the original name - if you change the content, like using "Graham Chapman" for the tag "montypython" you can still get duplicate tag issues where a keyword "grahamchapman" will create a new tag since it will not match either "Graham Chapman" or "montypython".
    Please note that theme writers who override the tag sidebar display will have to modify their themes to use tag.display_name instead of tag.name.
    Also note that the migration was written to try and handle duplicate tags gracefully (currently you can have both "montypython" and "Monty Python" as separate tags but they will both end up as "montypython" after migration), by destroying the latter one and recreating the tag mappings for any affected articles. It was tested, but not extensively, so be careful - as always, back up your database before migrating.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@858 820eb932-12ee-0310-9ca8-eeb645f39767
    Modify seeds.rb for Heroku empty? error
    Updated seeds.rb to fix bug with Cucumber incorrectly loading the Article model.
    Adding cucumber support to typo
    Adding Rails3 generated stuff
    Update files to match what Rails 2.3.8 generates.
    comments concat
    changed models
    merge creating new article
    first cucumber test passing
    initial changes to typo
    Use say instead of puts in migrations.
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved all calls to 'puts' from within migrations to 'STDERR.puts'.  (closes #366)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@609 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    Update migrations 29-32 to include downgrade information
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@780 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    The beginnings of some serious reworking of the way article publication,
    notifications, remote pings and (possibly) caching will work. After this patch
    an article's 'published' flag will never be set before its 'published_at' time.
    
    This is handled by introducing a 'triggers' table which holds a list of actions
    to perform on objects in the future. Every time the rails system gets a request,
    it performs any pending trigger actions. That way, although a message may well
    not be 'really' published until some time after its published_at time, it will
    appear as if it was.
    
    Next up, moving various 'on save' actions out of duplicated code in controllers
    
    NB: There's a bug in Rails that means that migration 45 shouldn't work with
    mysql or sqlite, hence the utterly gruesome monkey patch in
    lib/rails_patch/active_record.rb -- I look
    forward to the next release of Rails when I can get rid of those monstrosities.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1042 820eb932-12ee-0310-9ca8-eeb645f39767
    Avoid STI errors in migration 058.
    Make entire migrate/rollback cycle work.
    
    Tested on a clean database. Further issues may exist if more content is
    present.
    Fixes ticket 1148
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1541 820eb932-12ee-0310-9ca8-eeb645f39767
    Should fix up the state column in contents to relfect the new state mechanisms.
    
    Thanks to Ryan Kinderman for the spot. Now, if I could just work out how to
    test the migration in anything like a sane fashion...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1536 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    First step on a long needed refactoring. We're splitting the contents table into
    two. We now have a contents table, which contains Pages and Articles, and a
    Feedback table, which contains Comments and Trackbacks. There's still a bunch of
    null columns in each table, and the indexing needs tweaking, but it's a start.
    
    NB: The migration is untested on anything but my Mysql installation and if it
    goes wrong you stand to lose all your feedback. So take a backup before you
    try it. The Migration itself throws an exception by default to remind you to do the
    backup. Comment it out once you're safe (or brave/foolhardy).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1302 820eb932-12ee-0310-9ca8-eeb645f39767
    Use say instead of puts in migrations.
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
     r1439@obelisk:  pdcawley | 2006-04-03 16:09:47 +0100
     Hopefully this will fail with a meaningful error...
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@988 820eb932-12ee-0310-9ca8-eeb645f39767
    Ladeez and Gennleman, I bring you my last big migration patch for a while.
    I hope.
    
    This should fix things for sqlite users and also clean up the problem with
    migration 36.
    
    Enjoy.
    
    Closes tickets: #765 and #766
    Opens tickets: Oh, we'll find out I'm sure. What's the betting I broke
                   Postgresql again?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@984 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
     r696@Menhir:  pdcawley | 2005-12-04 15:26:19 +0000
     Added counter_caching for comments and trackbacks
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@769 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved all calls to 'puts' from within migrations to 'STDERR.puts'.  (closes #366)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@609 820eb932-12ee-0310-9ca8-eeb645f39767
    comma buster
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@489 820eb932-12ee-0310-9ca8-eeb645f39767
    more of the same
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@488 820eb932-12ee-0310-9ca8-eeb645f39767
     * Updated migrate rake target to take a VERSION argument
     * Fixed down migrations 2, 3, and 5 to actually do valid things
     * Explicitly call Article.reset_column_information before doing the permalink migration to make sure the permalink column is available in the column cache
     * Fail gracefully in the Article before_filter if the permalink column is not yet available (migration from v1 would fail otherwise)
     * Added a fix_permalinks script in db/scripts to be called manually if you already migrated to v7 without this changeset applied
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@396 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged permalink patch which no longer breaks links when the blog author changes an article title. It also allows for custom permalinks by editing it via the content admin. Storing permalinks in the database also means we're no longer doing nasty string comparisons for permalink-accessed articles since we're able to do a direct SQL query on that column. (closes #147)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@394 820eb932-12ee-0310-9ca8-eeb645f39767
    Replace inject([]) with map.
    
    Hat tip to William T. Nelson: https://github.com/fdv/typo/pull/22
    Use say instead of puts in migrations.
    Gets rid of RAILS_ENV deprecation warnings
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    More print/puts in migrations
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@610 820eb932-12ee-0310-9ca8-eeb645f39767
    Make innodb the default on mysql, so we can enable transactional test fixtures.  Update all static schemas using tool.  Bwahahaha
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@606 820eb932-12ee-0310-9ca8-eeb645f39767
    More sidebar jiggery pokery. The new Admin::SidebarController means that we don't need staged and
    active configs on the Sidebar object any more, just a straightforward 'config'. Isn't that cute?
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@991 820eb932-12ee-0310-9ca8-eeb645f39767
    Made the content state an explicit field. The 'published' flag should now be
    thought of as a useful memoization for searching, but the state is authoritative.
    
    Making the state explicit paves the way to introducing feedback specific state
    machines and other goodies.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1159 820eb932-12ee-0310-9ca8-eeb645f39767
    Use say instead of puts in migrations.
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Ladeez and Gennleman, I bring you my last big migration patch for a while.
    I hope.
    
    This should fix things for sqlite users and also clean up the problem with
    migration 36.
    
    Enjoy.
    
    Closes tickets: #765 and #766
    Opens tickets: Oh, we'll find out I'm sure. What's the betting I broke
                   Postgresql again?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@984 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    s/drop_column/remove_column/ (closes #602)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@810 820eb932-12ee-0310-9ca8-eeb645f39767
    Schema updates (using schema generator 0.9.0, about to be released)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@794 820eb932-12ee-0310-9ca8-eeb645f39767
    Rejig migrations to work with the latest code.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@789 820eb932-12ee-0310-9ca8-eeb645f39767
     r696@Menhir:  pdcawley | 2005-12-04 15:26:19 +0000
     Added counter_caching for comments and trackbacks
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@769 820eb932-12ee-0310-9ca8-eeb645f39767
    Make migrations work without loading the actual models.
    
    In the production environment, models are not loaded by default in rake
    tasks. This change makes migrations work regardless, which has the added
    benefit that the real models can change completely without breaking the
    migrations, without having to resort to the BareMigration system. This is
    particularly fortunate, since BareMigration does not support STI, which we
    use with Articles and Contents.
    Mass-removal of trailing whitespace.
    update migration to works with postgresql since typo 4.0.3
    fix error in migration 80. All user doesn't be active
    Introduces users deactivation. Needs some fine tuning to be really good
    Make entire migrate/rollback cycle work.
    
    Tested on a clean database. Further issues may exist if more content is
    present.
    Make migrations work without loading the actual models.
    
    In the production environment, models are not loaded by default in rake
    tasks. This change makes migrations work regardless, which has the added
    benefit that the real models can change completely without breaking the
    migrations, without having to resort to the BareMigration system. This is
    particularly fortunate, since BareMigration does not support STI, which we
    use with Articles and Contents.
    Mass-removal of trailing whitespace.
    update migration to works with postgresql since typo 4.0.3
    Make migration succeed on PostgreSQL
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Added text filters back on pages nd articles forms, moved text filters to users instead of global configuration
    Fixed things to allow the migration to work when you're migrating
    up from an empty database.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1343 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    BareMigrationify migration 51, fixed bug on mailing list
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1243 820eb932-12ee-0310-9ca8-eeb645f39767
    Strip tailing / from canonical_server_url
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1235 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Ladeez and Gennleman, I bring you my last big migration patch for a while.
    I hope.
    
    This should fix things for sqlite users and also clean up the problem with
    migration 36.
    
    Enjoy.
    
    Closes tickets: #765 and #766
    Opens tickets: Oh, we'll find out I'm sure. What's the betting I broke
                   Postgresql again?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@984 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    Another attempt to get migrations from 2.5.x working.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@680 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a user_id field to comments, and stuff it with session[:user].  Also fix over-eager saves triggered by previews
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@627 820eb932-12ee-0310-9ca8-eeb645f39767
    Use say instead of puts in migrations.
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    Rename the "to" field in migrations to to_url.  Closes #532
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@757 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a 'redirect' controller and model to make migrating to Typo easier.  It's set up as the route-of-last-resort
    and tries to redirect whichever URL you used onto an entry in the 'redirects' table.  So, if you put an entry
    into the table with from_path = '/archives/000001.html', to = '/articles/2005/11/08/foo', then anyone who hits
    http://my.shiny.blog/archives/000001.html will get a 301 redirecting them to http://my.shiny.blog/articles/2005/11/08/foo.
    Obviously, converter scripts will need to be updated to use this.  If you care, then go update the converters and leave
    a patch on Trac.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@754 820eb932-12ee-0310-9ca8-eeb645f39767
    Made migration 48 reversible. Fixes #1056
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1187 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove the feedback count caches from the contents table. Closes #1047
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1183 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing blacklist support. RBL check + Akismet default support is largely enough, and blacklist patterns should be the done by mod_security or any other IDS, but not by Typo in any way. This may come back later as a plugin though
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
     r1103@Menhir:  pdcawley | 2006-03-03 00:06:39 +0000
     Knocking off some low hanging fruit.
     Fixes ticket #701 by applying Steve Longdo's patch.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@873 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Giving users a public profile. Elements to display are defined in the profile
    Solves ticket #175: Lift 255-char tag list limit. Not sure it's the best way to do it, don't mind reverting if needed
    Use say instead of puts in migrations.
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Ladeez and Gennleman, I bring you my last big migration patch for a while.
    I hope.
    
    This should fix things for sqlite users and also clean up the problem with
    migration 36.
    
    Enjoy.
    
    Closes tickets: #765 and #766
    Opens tickets: Oh, we'll find out I'm sure. What's the betting I broke
                   Postgresql again?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@984 820eb932-12ee-0310-9ca8-eeb645f39767
    Another migration fix...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@917 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    Another attempt to get migrations from 2.5.x working.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@680 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved all calls to 'puts' from within migrations to 'STDERR.puts'.  (closes #366)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@609 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    Use say instead of puts in migrations.
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Ladeez and Gennleman, I bring you my last big migration patch for a while.
    I hope.
    
    This should fix things for sqlite users and also clean up the problem with
    migration 36.
    
    Enjoy.
    
    Closes tickets: #765 and #766
    Opens tickets: Oh, we'll find out I'm sure. What's the betting I broke
                   Postgresql again?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@984 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    Podcasting, thanks to bingeldac (Grant Schofield).  This also reverts the previous two patches--it's possible that migrations are broken, but that's better then everything else being broken.  There are a few things that I'd like to change here, but by and large it works.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@752 820eb932-12ee-0310-9ca8-eeb645f39767
    Make migrations work without loading the actual models.
    
    In the production environment, models are not loaded by default in rake
    tasks. This change makes migrations work regardless, which has the added
    benefit that the real models can change completely without breaking the
    migrations, without having to resort to the BareMigration system. This is
    particularly fortunate, since BareMigration does not support STI, which we
    use with Articles and Contents.
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    Rename the "to" field in migrations to to_url.  Closes #532
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@757 820eb932-12ee-0310-9ca8-eeb645f39767
    Use say instead of puts in migrations.
    Make migrations work without loading the actual models.
    
    In the production environment, models are not loaded by default in rake
    tasks. This change makes migrations work regardless, which has the added
    benefit that the real models can change completely without breaking the
    migrations, without having to resort to the BareMigration system. This is
    particularly fortunate, since BareMigration does not support STI, which we
    use with Articles and Contents.
    Adds a link between default article and default category. Workaround to assign a user_id to the default article when creating the first user
    Fixes bug with articles_categories not migrating.
    
    Missing #each method call when finding all ArticlesCategory
    
    Signed-off-by: Cyril Mougel <cyril.mougel@gmail.com>
    fix error in migration where categorie lost
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    A few more tests should be passing
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1571 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Added migration to enforce enlarged columns in settings table (closes #212 again)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@551 820eb932-12ee-0310-9ca8-eeb645f39767
    Makes migration 95 work backward too
    Use say instead of puts in migrations.
    Moving admin/settings/seo to the new admin/seo controller.
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Ladeez and Gennleman, I bring you my last big migration patch for a while.
    I hope.
    
    This should fix things for sqlite users and also clean up the problem with
    migration 36.
    
    Enjoy.
    
    Closes tickets: #765 and #766
    Opens tickets: Oh, we'll find out I'm sure. What's the betting I broke
                   Postgresql again?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@984 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
     r877@obelisk:  pdcawley | 2005-12-07 14:33:29 +0000
     Rolled back migration change; the changes to user mean it is no longer necessary
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@818 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix password issue
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@782 820eb932-12ee-0310-9ca8-eeb645f39767
    Update migrations 29-32 to include downgrade information
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@780 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Prevent down migration on migrations 098 and 100.
    
    These down migrations need to be fixed first.
    Remove trailing whitespace.
    Adds options to articles and pages.
    
    They make both models extendable by plugins creators without adding new fields and therefore should be considered like Wordpress custom fields. Only password was migrated because we may consider it as an optionnal field.
    
    Next step is to add a custom fields part in the editor, but I don't know how to do it yet.
    * Moved sidebar views into the correct plugin directory
    * Linked sidebars to the blog
    * Added better diagnostics to migration 54
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1246 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix pluralization in migration 46, closes #1048
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1194 820eb932-12ee-0310-9ca8-eeb645f39767
    The beginnings of some serious reworking of the way article publication,
    notifications, remote pings and (possibly) caching will work. After this patch
    an article's 'published' flag will never be set before its 'published_at' time.
    
    This is handled by introducing a 'triggers' table which holds a list of actions
    to perform on objects in the future. Every time the rails system gets a request,
    it performs any pending trigger actions. That way, although a message may well
    not be 'really' published until some time after its published_at time, it will
    appear as if it was.
    
    Next up, moving various 'on save' actions out of duplicated code in controllers
    
    NB: There's a bug in Rails that means that migration 45 shouldn't work with
    mysql or sqlite, hence the utterly gruesome monkey patch in
    lib/rails_patch/active_record.rb -- I look
    forward to the next release of Rails when I can get rid of those monstrosities.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1042 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    update migration to works with postgresql since typo 4.0.3
    Various fixes for the 5.0 release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1601 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed a migration to work with Sqlite
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1348 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing some useless columns from the contents and feedback tables.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1304 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Ladeez and Gennleman, I bring you my last big migration patch for a while.
    I hope.
    
    This should fix things for sqlite users and also clean up the problem with
    migration 36.
    
    Enjoy.
    
    Closes tickets: #765 and #766
    Opens tickets: Oh, we'll find out I'm sure. What's the betting I broke
                   Postgresql again?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@984 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
     * Updated migrate rake target to take a VERSION argument
     * Fixed down migrations 2, 3, and 5 to actually do valid things
     * Explicitly call Article.reset_column_information before doing the permalink migration to make sure the permalink column is available in the column cache
     * Fail gracefully in the Article before_filter if the permalink column is not yet available (migration from v1 would fail otherwise)
     * Added a fix_permalinks script in db/scripts to be called manually if you already migrated to v7 without this changeset applied
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@396 820eb932-12ee-0310-9ca8-eeb645f39767
    added support for sub titles (closes #109)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@371 820eb932-12ee-0310-9ca8-eeb645f39767
    Provide an optional mailto: link on article author names. (closes #156)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@354 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Fixes ticket 1137
    Adds a default page on first migration.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1502 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
     * Added title attributes to static pages and the name of the page in question to the page destroy page (closes #236) [atmos]
     * Also fixed label for values to match the corresponding fields
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@464 820eb932-12ee-0310-9ca8-eeb645f39767
    Use say instead of puts in migrations.
    revert commit 0ddae7e929f053f44cf25da8bbfabade19966329 and fix bug #1281 and #1283
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Ladeez and Gennleman, I bring you my last big migration patch for a while.
    I hope.
    
    This should fix things for sqlite users and also clean up the problem with
    migration 36.
    
    Enjoy.
    
    Closes tickets: #765 and #766
    Opens tickets: Oh, we'll find out I'm sure. What's the betting I broke
                   Postgresql again?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@984 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved all calls to 'puts' from within migrations to 'STDERR.puts'.  (closes #366)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@609 820eb932-12ee-0310-9ca8-eeb645f39767
     * Updated migrate rake target to take a VERSION argument
     * Fixed down migrations 2, 3, and 5 to actually do valid things
     * Explicitly call Article.reset_column_information before doing the permalink migration to make sure the permalink column is available in the column cache
     * Fail gracefully in the Article before_filter if the permalink column is not yet available (migration from v1 would fail otherwise)
     * Added a fix_permalinks script in db/scripts to be called manually if you already migrated to v7 without this changeset applied
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@396 820eb932-12ee-0310-9ca8-eeb645f39767
    Provide an optional mailto: link on article author names. (closes #156)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@354 820eb932-12ee-0310-9ca8-eeb645f39767
    Use say instead of puts in migrations.
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Ladeez and Gennleman, I bring you my last big migration patch for a while.
    I hope.
    
    This should fix things for sqlite users and also clean up the problem with
    migration 36.
    
    Enjoy.
    
    Closes tickets: #765 and #766
    Opens tickets: Oh, we'll find out I'm sure. What's the betting I broke
                   Postgresql again?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@984 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    Add transactions to migration #19
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@690 820eb932-12ee-0310-9ca8-eeb645f39767
    The second half of the previous merge.  Oops.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@661 820eb932-12ee-0310-9ca8-eeb645f39767
    Move the user edition from the Admin::UserController to a Admin::ProfileController. Now the user creation / edition is part of the admin/settings and admins are the only one to edit them. It also fixes a huge security hole where any logged in user can create / delete users without the admin credential. Also removes a bunch of unnecessary hazardous conditions we didn't really need
    Adds filtering on edit / delete to content for non administrative users
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1754 820eb932-12ee-0310-9ca8-eeb645f39767
    Use say instead of puts in migrations.
    A few more tests should be passing
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1571 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed a mistake in migration 36. Discovered that !BareMigration may be unnecessary
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@999 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Ladeez and Gennleman, I bring you my last big migration patch for a while.
    I hope.
    
    This should fix things for sqlite users and also clean up the problem with
    migration 36.
    
    Enjoy.
    
    Closes tickets: #765 and #766
    Opens tickets: Oh, we'll find out I'm sure. What's the betting I broke
                   Postgresql again?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@984 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Tags now support the concept of a display name. This is to facility re-naming tags, an interface for which will be provided soon. Tag names are now canonicalized into a lowercase, space-stripped name so "Monty Python" and "montypython" will be the same tag. Please note that display name really should be a reformatted version of the original name - if you change the content, like using "Graham Chapman" for the tag "montypython" you can still get duplicate tag issues where a keyword "grahamchapman" will create a new tag since it will not match either "Graham Chapman" or "montypython".
    Please note that theme writers who override the tag sidebar display will have to modify their themes to use tag.display_name instead of tag.name.
    Also note that the migration was written to try and handle duplicate tags gracefully (currently you can have both "montypython" and "Monty Python" as separate tags but they will both end up as "montypython" after migration), by destroying the latter one and recreating the tag mappings for any affected articles. It was tested, but not extensively, so be careful - as always, back up your database before migrating.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@858 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes for #763 and #762
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@983 820eb932-12ee-0310-9ca8-eeb645f39767
    Use say instead of puts in migrations.
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix migration problems.  Closes #952
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1125 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Ladeez and Gennleman, I bring you my last big migration patch for a while.
    I hope.
    
    This should fix things for sqlite users and also clean up the problem with
    migration 36.
    
    Enjoy.
    
    Closes tickets: #765 and #766
    Opens tickets: Oh, we'll find out I'm sure. What's the betting I broke
                   Postgresql again?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@984 820eb932-12ee-0310-9ca8-eeb645f39767
    Another Postgres migration fix
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@923 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    Updates to the migrations from the previous commit.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@662 820eb932-12ee-0310-9ca8-eeb645f39767
    The second half of the previous merge.  Oops.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@661 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes articles with an empty post_type.
    
    Despite having default set to "read", for some reasons, existing articles may have a post_type set to "". This is the case of the default article when running the first migration. This migration fixes that, forcing any article without a post_type to "read".
    Make migrations work without loading the actual models.
    
    In the production environment, models are not loaded by default in rake
    tasks. This change makes migrations work regardless, which has the added
    benefit that the real models can change completely without breaking the
    migrations, without having to resort to the BareMigration system. This is
    particularly fortunate, since BareMigration does not support STI, which we
    use with Articles and Contents.
    Fixes a stupid behaviour that forces tags display name to be the same as the name in the url. IE : "web 2.0" would display on a page as web2-0 after transformation, which is stupid.
    
    Adds a migration that changes '.' into '-' in tag already in the database. Otherwise, it makes typo crash when accessing that tag.
    
    Allows edition of tag display name in the admin.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1786 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    Another attempt to get migrations from 2.5.x working.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@680 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved all calls to 'puts' from within migrations to 'STDERR.puts'.  (closes #366)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@609 820eb932-12ee-0310-9ca8-eeb645f39767
    was forced to move guid migration to first migration because of code level dependencies
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@487 820eb932-12ee-0310-9ca8-eeb645f39767
    Added GUID to articles, as per xal's request
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@482 820eb932-12ee-0310-9ca8-eeb645f39767
    Make sure that migration 103 does not destroy tag association.
    Create a second migration to fix article post types.
    
    Because ActiveRecord::Base.store_full_sti_class is now true by default
    (since Rails 3.0.0), migration 102 was looking for Content instances where
    type was equal to "FixesExistingArticlesWithNoType::Article", causing no
    records to be found. Since this migration is in a release, we really cannot
    just fix it. So, we add a second migration that proposes to do the same
    thing.
    The beginnings of some serious reworking of the way article publication,
    notifications, remote pings and (possibly) caching will work. After this patch
    an article's 'published' flag will never be set before its 'published_at' time.
    
    This is handled by introducing a 'triggers' table which holds a list of actions
    to perform on objects in the future. Every time the rails system gets a request,
    it performs any pending trigger actions. That way, although a message may well
    not be 'really' published until some time after its published_at time, it will
    appear as if it was.
    
    Next up, moving various 'on save' actions out of duplicated code in controllers
    
    NB: There's a bug in Rails that means that migration 45 shouldn't work with
    mysql or sqlite, hence the utterly gruesome monkey patch in
    lib/rails_patch/active_record.rb -- I look
    forward to the next release of Rails when I can get rid of those monstrosities.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1042 820eb932-12ee-0310-9ca8-eeb645f39767
    Removes profiles_rights primary key because of https://rails.lighthouseapp.com/projects/8994/tickets/2086-patch-primary-key-on-habtm-join-table-now-raises-an-exception
    Avoid STI errors in migration 093.
    Properly indent migration logging for migration 093.
    Fix up migration 093, both up and down.
    
    Fixes issue #209
    Remove trailing whitespace.
    Adding an embedded URL shortener. Every page and article gets its shortened URL with a 301 (permanent) redirect. Shortened URL is available to published_content only and is displayed within the administration.
    Initial migration adds shortened URL for existing content.
    
    The set_shortened_url method is duplicated in both conte t and page controller. It should probably move to the content model, not sure about that. Also adding some specs, which makes me think that pages should be rewriten from (almost) scratch.
    Adding autosave to already published article. It creates a new draft and set up a parent if first. The, when the article is republished, the draft is destroyed. Allows people to edit their published posts without having them changed on the front
    Mass-removal of trailing whitespace.
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    Forgot to add the sitealizer table in the migrate
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1397 820eb932-12ee-0310-9ca8-eeb645f39767
    Use say instead of puts in migrations.
    Make migrations work without loading the actual models.
    
    In the production environment, models are not loaded by default in rake
    tasks. This change makes migrations work regardless, which has the added
    benefit that the real models can change completely without breaking the
    migrations, without having to resort to the BareMigration system. This is
    particularly fortunate, since BareMigration does not support STI, which we
    use with Articles and Contents.
    A few more tests should be passing
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1571 820eb932-12ee-0310-9ca8-eeb645f39767
    – Fixed a few bugs
    – Added the week in refactoring patch
    – Added the rights table and the profile to rights one.
    – Populated the new tables.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1494 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Fixes bug 1252 migrations alter updated_at timestamps of articles and comments, affects RSS feeds
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1796 820eb932-12ee-0310-9ca8-eeb645f39767
    A big cleanup of the way content and feedback state is handled:
    
     * The ContentState:: namespace is gone. States now appear in the
       Article::States and Feedback::States namespace (or anywhere else
       that would be found through normal namespace resolution)
     * The magic now happens in lib/stateful.rb, which sets up the
      'has_state' declaration. Look at article.rb and feedback.rb for
       examples of it in use. Documentation and pluginification will happen.
       Eventually.
    
    Also, I've done a bit of spring cleaning on various content related
    classes and (shock!) added tests for Article#comment_closed?. Did
    _you_ know that wasn't being tested? Me neither.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1438 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed migration 40. Now we actually set, and *save*, the blog_id on our
    contents table.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@944 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Add option to postfix page title with blog name instead of prefix
    Adds a new migration 061 about this
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1318 820eb932-12ee-0310-9ca8-eeb645f39767
    Always add the bleeding migrations. Fixes #1083
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1219 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    delete files first. otherwise permission problems leave this migration in limbo
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@401 820eb932-12ee-0310-9ca8-eeb645f39767
     * Updated migrate rake target to take a VERSION argument
     * Fixed down migrations 2, 3, and 5 to actually do valid things
     * Explicitly call Article.reset_column_information before doing the permalink migration to make sure the permalink column is available in the column cache
     * Fail gracefully in the Article before_filter if the permalink column is not yet available (migration from v1 would fail otherwise)
     * Added a fix_permalinks script in db/scripts to be called manually if you already migrated to v7 without this changeset applied
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@396 820eb932-12ee-0310-9ca8-eeb645f39767
    renamed the Cache model to PageCache to be more descriptive. Also added unit tests for PageCache
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@387 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds Cache model.  (closes #183)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@385 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove _html fields from contents.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1238 820eb932-12ee-0310-9ca8-eeb645f39767
    Use say instead of puts in migrations.
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    Use published? for trackbacks and comments.  This is the first step towards support for moderation.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@755 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing deprecated RAILS_ROOT
    Mass-removal of trailing whitespace.
    Moves cache to public/cache. Ditches database use for cache storing. Please, read doc/CACHE.SETUP.README to setup the new cache system, otherwise Typo now runs smoothly without cache, I've been running it cacheless for months on a fairly crowded blog without even knowing it
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Update migrations 29-32 to include downgrade information
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@780 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Use say instead of puts in migrations.
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Ladeez and Gennleman, I bring you my last big migration patch for a while.
    I hope.
    
    This should fix things for sqlite users and also clean up the problem with
    migration 36.
    
    Enjoy.
    
    Closes tickets: #765 and #766
    Opens tickets: Oh, we'll find out I'm sure. What's the betting I broke
                   Postgresql again?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@984 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove comment title from migration to Content table; to the best of my knowledge, I'm
    the only person on the planet that uses that field, and a lot of legacy mysql typo dbs
    don't have the field due to schema inconsistencies.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@940 820eb932-12ee-0310-9ca8-eeb645f39767
    More fixes for postgres. Thanks to dae on #typo for the help tracking stuff down
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@920 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    More migration fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@663 820eb932-12ee-0310-9ca8-eeb645f39767
    Updates to the migrations from the previous commit.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@662 820eb932-12ee-0310-9ca8-eeb645f39767
    The second half of the previous merge.  Oops.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@661 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing deprecated RAILS_ROOT
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    More print/puts in migrations
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@610 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved all calls to 'puts' from within migrations to 'STDERR.puts'.  (closes #366)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@609 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove trailing whitespace.
    rake db:migrate fails on rails 3 because of with_scope call in SerializeBlogAttributes
    Don't call protected with_scope outside of model.
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes for #731 and another potential bug I noticed
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@942 820eb932-12ee-0310-9ca8-eeb645f39767
    Make migrations 38 and 39 safe for schema_generator.
    Re-generate the SQL files
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@926 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Use say instead of puts in migrations.
    Make migrations work without loading the actual models.
    
    In the production environment, models are not loaded by default in rake
    tasks. This change makes migrations work regardless, which has the added
    benefit that the real models can change completely without breaking the
    migrations, without having to resort to the BareMigration system. This is
    particularly fortunate, since BareMigration does not support STI, which we
    use with Articles and Contents.
    Mass-removal of trailing whitespace.
    Fixing brocken migration if no user yet
    Adding 2 fixing migration : one for email less users, one for articles without a user_id (this is because of the default post that used to be created without a user_id making RSS feed explode)
    Replace complicated migration 068 with a simple rename.
    Make entire migrate/rollback cycle work.
    
    Tested on a clean database. Further issues may exist if more content is
    present.
    Use say instead of puts in migrations.
    Make migrations work without loading the actual models.
    
    In the production environment, models are not loaded by default in rake
    tasks. This change makes migrations work regardless, which has the added
    benefit that the real models can change completely without breaking the
    migrations, without having to resort to the BareMigration system. This is
    particularly fortunate, since BareMigration does not support STI, which we
    use with Articles and Contents.
    Damn fucking typo
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1678 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few things here and there.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1677 820eb932-12ee-0310-9ca8-eeb645f39767
    * Moved sidebar views into the correct plugin directory
    * Linked sidebars to the blog
    * Added better diagnostics to migration 54
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1246 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Use say instead of puts in migrations.
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes for #731 and another potential bug I noticed
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@942 820eb932-12ee-0310-9ca8-eeb645f39767
    Make migrations 38 and 39 safe for schema_generator.
    Re-generate the SQL files
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@926 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed a problem with the migration not working with Postgres
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@916 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Adds a default category at blog creation
    revert commit 0ddae7e929f053f44cf25da8bbfabade19966329 and fix bug #1281 and #1283
    Fixing bug 1281
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    A few more tests should be passing
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1571 820eb932-12ee-0310-9ca8-eeb645f39767
    Added page sidebar plugin.
    Activated page sidebar and archive sidebar by default in new blogs.
    Added default category.
    Added default post.
    
    Reverted cache from caches_action_with_params to caches_page. The reasons for this are 40% memory saved + about 3 times faster according to a2b. People can still revert, but I would not advice it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1503 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed column type for created_at and updated_at
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@393 820eb932-12ee-0310-9ca8-eeb645f39767
    Add static pages.  Also fixes a caching bug (the new PageCache was broken due to :name/:page_name mix).  (closes #181)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@391 820eb932-12ee-0310-9ca8-eeb645f39767
    Use say instead of puts in migrations.
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Ladeez and Gennleman, I bring you my last big migration patch for a while.
    I hope.
    
    This should fix things for sqlite users and also clean up the problem with
    migration 36.
    
    Enjoy.
    
    Closes tickets: #765 and #766
    Opens tickets: Oh, we'll find out I'm sure. What's the betting I broke
                   Postgresql again?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@984 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    Added .to_i to the migrations; belt and braces are a good idea in migrations I am fast discovering
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@800 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied Adam Greenfield's patch from ticket 597
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@797 820eb932-12ee-0310-9ca8-eeb645f39767
     r759@Menhir:  pdcawley | 2005-12-11 16:56:44 +0000
     Oops. Migration 35 was reversing the state of allow_comments.
    
     I *think* this is the last change to this migration (at least until we get a
     working self.down for it)
    
     If you've been caught out by this, you can do something like:
    
     Content.find(:all).each do |c|
       c.update_attribute('allow_comments', !c.allow_comments?)
     end
    
     from the console and then use the admin interface to sort out any articles you
     added after you ran the broken migration.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@796 820eb932-12ee-0310-9ca8-eeb645f39767
     r757@Menhir:  pdcawley | 2005-12-11 07:00:51 +0000
     fixed migration 35
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@795 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed the migration to deal with the postgres boolean issue. Thanks to Paul Hart for pointing the way
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@792 820eb932-12ee-0310-9ca8-eeb645f39767
    more boolifications
    Fixed a boneheaded manoeuvre in 35_boolify_content_allow_foo and an assbackward test in views/admin/content/show.rhtml
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@791 820eb932-12ee-0310-9ca8-eeb645f39767
    Turned Content.published into a real boolean. Which has surprisingly far reaching effects.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@790 820eb932-12ee-0310-9ca8-eeb645f39767
    Make migration 081 also succeed with items in the cache.
    patch migration 81 to work
    Replace inject([]) with map.
    
    Hat tip to William T. Nelson: https://github.com/fdv/typo/pull/22
    Make migrations work without loading the actual models.
    
    In the production environment, models are not loaded by default in rake
    tasks. This change makes migrations work regardless, which has the added
    benefit that the real models can change completely without breaking the
    migrations, without having to resort to the BareMigration system. This is
    particularly fortunate, since BareMigration does not support STI, which we
    use with Articles and Contents.
    same one me really sorry tobias
    fix little issue to all user of Typo edge. Thanks to tobias to report that
    add cache_informations table in database. Use this table to save all cache
    Use say instead of puts in migrations.
    This time fer sure!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@994 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes for #775 and #780
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@992 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Ladeez and Gennleman, I bring you my last big migration patch for a while.
    I hope.
    
    This should fix things for sqlite users and also clean up the problem with
    migration 36.
    
    Enjoy.
    
    Closes tickets: #765 and #766
    Opens tickets: Oh, we'll find out I'm sure. What's the betting I broke
                   Postgresql again?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@984 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    more boolifications
    Fixed a boneheaded manoeuvre in 35_boolify_content_allow_foo and an assbackward test in views/admin/content/show.rhtml
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@791 820eb932-12ee-0310-9ca8-eeb645f39767
    Turned Content.published into a real boolean. Which has surprisingly far reaching effects.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@790 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing some useless columns from the contents and feedback tables.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1304 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    Another attempt to get migrations from 2.5.x working.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@680 820eb932-12ee-0310-9ca8-eeb645f39767
    Tags.  (closes #282)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@533 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds post types with admin management.
    
    Author can define multiple post types with associated templates. Default post type is 'read' so existing themes won't break.
    
    I didn't use Rails relational model on purpose as I wanted article to store the post type permalink. This will make theme helpers such as menu helpers easier to write. Maybe there's a cleaner way to do it though.
    Make migrations work without loading the actual models.
    
    In the production environment, models are not loaded by default in rake
    tasks. This change makes migrations work regardless, which has the added
    benefit that the real models can change completely without breaking the
    migrations, without having to resort to the BareMigration system. This is
    particularly fortunate, since BareMigration does not support STI, which we
    use with Articles and Contents.
    update migration to works with postgresql since typo 4.0.3
    fix migration move_edit_to_user. Failed if no editor in settings
    Moves the editor choice from global to per user
    Fixes a spec on articles because of moving to will_paginate
    Forgot to add migration to add new rules for articles and pages.
    Move the user edition from the Admin::UserController to a Admin::ProfileController. Now the user creation / edition is part of the admin/settings and admins are the only one to edit them. It also fixes a huge security hole where any logged in user can create / delete users without the admin credential. Also removes a bunch of unnecessary hazardous conditions we didn't really need
    Adds filtering on edit / delete to content for non administrative users
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1754 820eb932-12ee-0310-9ca8-eeb645f39767
    Use say instead of puts in migrations.
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Ladeez and Gennleman, I bring you my last big migration patch for a while.
    I hope.
    
    This should fix things for sqlite users and also clean up the problem with
    migration 36.
    
    Enjoy.
    
    Closes tickets: #765 and #766
    Opens tickets: Oh, we'll find out I'm sure. What's the betting I broke
                   Postgresql again?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@984 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    Disabled comment/trackback guid migration.  This should make migrating from 2.5.x easier
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@679 820eb932-12ee-0310-9ca8-eeb645f39767
    Add GUIDs to comments and trackbacks, and clean up Article GUID code.  Use GUIDs in Atom 1.0 feeds because our old IDs were nasty and not unique.  Still thinking about adding them to RSS 2.0 and Atom 0.3; it'll be user-visible if we change them.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@636 820eb932-12ee-0310-9ca8-eeb645f39767
    Use say instead of puts in migrations.
    Gets rid of RAILS_ENV deprecation warnings
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes for #775 and #780
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@992 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    More fixes for postgres. Thanks to dae on #typo for the help tracking stuff down
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@920 820eb932-12ee-0310-9ca8-eeb645f39767
    Oops!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@919 820eb932-12ee-0310-9ca8-eeb645f39767
    Another postgres fix
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@918 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    Rejig migrations to work with the latest code.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@789 820eb932-12ee-0310-9ca8-eeb645f39767
    More migration fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@663 820eb932-12ee-0310-9ca8-eeb645f39767
    Updates to the migrations from the previous commit.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@662 820eb932-12ee-0310-9ca8-eeb645f39767
    The second half of the previous merge.  Oops.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@661 820eb932-12ee-0310-9ca8-eeb645f39767
    Allows admin redirects to act like an URL shortener when posting an empty from.
    Make migrations work without loading the actual models.
    
    In the production environment, models are not loaded by default in rake
    tasks. This change makes migrations work regardless, which has the added
    benefit that the real models can change completely without breaking the
    migrations, without having to resort to the BareMigration system. This is
    particularly fortunate, since BareMigration does not support STI, which we
    use with Articles and Contents.
    Fixes the issue with a user profile not getting set.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1608 820eb932-12ee-0310-9ca8-eeb645f39767
    Make migrations work without loading the actual models.
    
    In the production environment, models are not loaded by default in rake
    tasks. This change makes migrations work regardless, which has the added
    benefit that the real models can change completely without breaking the
    migrations, without having to resort to the BareMigration system. This is
    particularly fortunate, since BareMigration does not support STI, which we
    use with Articles and Contents.
    Mass-removal of trailing whitespace.
    update migration to works with postgresql since typo 4.0.3
    Some editor refactoring, it really needed it after yesterday's change.
    
    I've made a migration to make User.editor manipulation easier (simple / visual is better than 0,2). That allowed me to ditch lot of duplicate code. Cool.
    The beginnings of some serious reworking of the way article publication,
    notifications, remote pings and (possibly) caching will work. After this patch
    an article's 'published' flag will never be set before its 'published_at' time.
    
    This is handled by introducing a 'triggers' table which holds a list of actions
    to perform on objects in the future. Every time the rails system gets a request,
    it performs any pending trigger actions. That way, although a message may well
    not be 'really' published until some time after its published_at time, it will
    appear as if it was.
    
    Next up, moving various 'on save' actions out of duplicated code in controllers
    
    NB: There's a bug in Rails that means that migration 45 shouldn't work with
    mysql or sqlite, hence the utterly gruesome monkey patch in
    lib/rails_patch/active_record.rb -- I look
    forward to the next release of Rails when I can get rid of those monstrosities.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1042 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix stupid broken migration
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1268 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Oops--forgot to commit
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1244 820eb932-12ee-0310-9ca8-eeb645f39767
    Typo in the file name
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1844 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds remember tocken, closes ticket 1270
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1843 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    Update migrations 29-32 to include downgrade information
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@780 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Use say instead of puts in migrations.
    Fix migration problems.  Closes #952
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1125 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Ladeez and Gennleman, I bring you my last big migration patch for a while.
    I hope.
    
    This should fix things for sqlite users and also clean up the problem with
    migration 36.
    
    Enjoy.
    
    Closes tickets: #765 and #766
    Opens tickets: Oh, we'll find out I'm sure. What's the betting I broke
                   Postgresql again?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@984 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    Updates to the migrations from the previous commit.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@662 820eb932-12ee-0310-9ca8-eeb645f39767
    The second half of the previous merge.  Oops.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@661 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds filtering on edit / delete to content for non administrative users
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1754 820eb932-12ee-0310-9ca8-eeb645f39767
    Rejiged login and signup forms.
    Added 'remember me' functinnality (at last)
    Prevent down migration on migrations 098 and 100.
    
    These down migrations need to be fixed first.
    Remove trailing whitespace.
    Migrating users to the same config manager we're using for blogs.
    
    The goal is to be able to dynamically extend users with new settings without adding a new collumn each time.
    
    The migration is a bit ugly.
    
    Problem: settings names overlap fields names.
    Solution: rename columns, migrate, remove columns.
    
    There must be a better way to do it but...
    1. I didn't find it.
    2. I'm lost in the countryside where I need to go to the back of the
    garden to have a phone connection and in the middle of a field to have
     a chance to get my emails. So asking for help / advice on the interweb was not possible.
    
    At least it works
    
    Some fields were not migrated because we do some User.find on them :
    – notify_via_email
    – notify_on_new_articles
    – notify_on_comments
    Make entire migrate/rollback cycle work.
    
    Tested on a clean database. Further issues may exist if more content is
    present.
    Quit using the database to store sessions. Rails seems to never clean it (mine has 333718 rows after a week) and it seems to make Typo use more memory. Back to old cookie store"
    Adding password protected posts. Things are done 100% AJAX because of the static cache. Logged in users are considered as being able to see a protected post. Protected posts content is removed from RSS feed. Need to add some specs, it's curious to see that they didn't break
    Remove unused method in migration 024.
    Use say instead of puts in migrations.
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated schemas again
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@703 820eb932-12ee-0310-9ca8-eeb645f39767
    Add cleanup migration; only needed when going straight from 2.5.x to current trunk, but safe for everyone
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@681 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes UTF8 issues
    Adding Yannick and Thomas to default static sidebar contents
    Use say instead of puts in migrations.
    Adds a utility widget with Login page, RSS, Typo. Enabled by default at schema creation.
    
    [#71, state=closed]
    Mass-removal of trailing whitespace.
    Adds Matijs and Cyril to mainteners list and static sidebars, fixes static sidebar, removes useless doc
    Cleaning images, fixing migration bugs, adding new logo
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1726 820eb932-12ee-0310-9ca8-eeb645f39767
    Added page sidebar plugin.
    Activated page sidebar and archive sidebar by default in new blogs.
    Added default category.
    Added default post.
    
    Reverted cache from caches_action_with_params to caches_page. The reasons for this are 40% memory saved + about 3 times faster according to a2b. People can still revert, but I would not advice it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1503 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding typo blog to the default sidebar
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1484 820eb932-12ee-0310-9ca8-eeb645f39767
    Added romanian localization + populating sidebar at first migration
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1434 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
     * Fixed AccountController#signup to no longer require authentication
     * Made passing of categories in Admin::ContentController#edit and #new optional
     * Fixed sidebars migration by fixing a typo (pun!) and explicitely require application.rb to make the ApplicationController class available to the SidebarController inheritance
     * Removed the category partial tests from ArticleControllerTests since this partial no longer exists now that we have sidebars
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@366 820eb932-12ee-0310-9ca8-eeb645f39767
    Configurable sidebars.  (closes #157, #103)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@364 820eb932-12ee-0310-9ca8-eeb645f39767
    Changes the settings behavior for nofollowify, index categories and index tags. Comes with migration. Adds missing specs.
    
    Current settings behavior were beyond stupidity : every feature were enabled by default and admin had to uncheck them to disable them:
    Unchecking nofollowify was enabling dofollow.
    Unchecking index categories was removing categories from search engine index
    Unchecking index tags was removing categories from search engine tags.
    
    New behavior:
    Checking dofollowify actually enables dofollow
    Checking unindex categories removes categories from search engine index
    Checking unindex tags removes tags from search engine index
    
    TODO :
    Allow unindex / index by category.
    Allow unindex / index by tag.
    Remove dependency on present model code in migration 096.
    Use say instead of puts in migrations.
    Remove trailing whitespace.
    Removes URL shortener generated redirects form listing. Adds pagination in redirects listing.
    Big changes to the state engine for feedback. Feedback now starts off
    in the 'Unclassified' state and moves to either JustPresumedHam or
    PresumedSpam depending on the results of Feedback#classify (the various Just*
    states are there as one shot states to handle sending of notifications or
    registering of spam/ham classification with akismet). JustPresumedHam
    decays to PresumedHam as soon as the feedback has been saved and the
    notifications sent.
    
    And there they rest until the classifications are solidified by the blog
    administrator on the feedback page. Feedback ends up as either Spam or Ham
    with an intermediate 'JustMarkedAs*' step for registering with Akismet.
    
    It should be possible to do some useful filtering on the feedback page
    (for instance, only see those messages whose classification hasn't been
    confirmed), but for that we need to add a couple of boolean fields to the
    contents table.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1188 820eb932-12ee-0310-9ca8-eeb645f39767
    A few more tests should be passing
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1571 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed up migrations to use 3 digit prefixes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@989 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix old Postgres 2.0.6 schema bug.  (closes #375)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@608 820eb932-12ee-0310-9ca8-eeb645f39767
    Turns "Show extended on RSS" into "Hide extended on RSS".
    
    Asking user to opt in to display the whole post in the feed instead of hiding it is one of the most stupid behavior I've seen for a while and is the exact opposite of the software default's behavior.
    
    Included migration sets the new behavior accordingly to the blog default one.
    Use say instead of puts in migrations.
    Various fixes for the 5.0 release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1601 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing a bug making the 64 migration crashing
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1488 820eb932-12ee-0310-9ca8-eeb645f39767
    A few tweaks to the migration so it's a wee bit more
    cross platform.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1486 820eb932-12ee-0310-9ca8-eeb645f39767
    adding a bit of multi users this and that
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1472 820eb932-12ee-0310-9ca8-eeb645f39767
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Fix up feedback table name in migration 067.
    Add fake models to migration 067.
    Make entire migrate/rollback cycle work.
    
    Tested on a clean database. Further issues may exist if more content is
    present.
    Mass-removal of trailing whitespace.
    update migration to works with postgresql since typo 4.0.3
    Fixes initial migration bug and closes sqlite initial migration bug as well. Fixes ticket 1235
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1734 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug in the mt api and a bug in the migrations with sqlite
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1725 820eb932-12ee-0310-9ca8-eeb645f39767
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding subcategories
    Giving Typo some SEO capabilities
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1849 820eb932-12ee-0310-9ca8-eeb645f39767
    Make down for migration 082 complete.
    Make migrations work without loading the actual models.
    
    In the production environment, models are not loaded by default in rake
    tasks. This change makes migrations work regardless, which has the added
    benefit that the real models can change completely without breaking the
    migrations, without having to resort to the BareMigration system. This is
    particularly fortunate, since BareMigration does not support STI, which we
    use with Articles and Contents.
    Mass-removal of trailing whitespace.
    Improving user's profile, adding fields for msn, aim, twitter... and a better display name. Avatar and dedicated pages will come later
    Make migrations work without loading the actual models.
    
    In the production environment, models are not loaded by default in rake
    tasks. This change makes migrations work regardless, which has the added
    benefit that the real models can change completely without breaking the
    migrations, without having to resort to the BareMigration system. This is
    particularly fortunate, since BareMigration does not support STI, which we
    use with Articles and Contents.
    Adding 2 fixing migration : one for email less users, one for articles without a user_id (this is because of the default post that used to be created without a user_id making RSS feed explode)
    Mass-removal of trailing whitespace.
    closes #106
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@291 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
     * First stab at a textpattern 2 to typo converter
     * Extended MT3 converter to also convert prefs (blog_name et al)
     * Moved all converters into db/converters/
     * Moved SQL update scripts into db/updates/
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@253 820eb932-12ee-0310-9ca8-eeb645f39767
    Update script for 1.6.8 to 2.0.0 added
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@199 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
     * Updated migrate rake target to take a VERSION argument
     * Fixed down migrations 2, 3, and 5 to actually do valid things
     * Explicitly call Article.reset_column_information before doing the permalink migration to make sure the permalink column is available in the column cache
     * Fail gracefully in the Article before_filter if the permalink column is not yet available (migration from v1 would fail otherwise)
     * Added a fix_permalinks script in db/scripts to be called manually if you already migrated to v7 without this changeset applied
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@396 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Add prefix support to Textpattern importer (closes #621) [bonzoesc@bonzoesc.net]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@812 820eb932-12ee-0310-9ca8-eeb645f39767
    Brings textpattern converter up with newest Textpattern release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@579 820eb932-12ee-0310-9ca8-eeb645f39767
    fix shebangs in all of typo
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@309 820eb932-12ee-0310-9ca8-eeb645f39767
    Wrong version string specified in textpattern converter header
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@256 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed require for environment which broke due to moving the scripts to a subdirectory of db/
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@254 820eb932-12ee-0310-9ca8-eeb645f39767
     * First stab at a textpattern 2 to typo converter
     * Extended MT3 converter to also convert prefs (blog_name et al)
     * Moved all converters into db/converters/
     * Moved SQL update scripts into db/updates/
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@253 820eb932-12ee-0310-9ca8-eeb645f39767
    added rss importer. Easy way to get the last couple of posts from your blog on your new typo install (clee) closes #134
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@289 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Add s9y converter (closes #312)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@529 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix all relevant references from typo.leetsoft.com to www.typosphere.org. Fixes #720
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@879 820eb932-12ee-0310-9ca8-eeb645f39767
    Added feed.rb Atom/RSS converter.  Closes #447
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@676 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix #771
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1011 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a nicer error to feed.rb when feedtools cannot be found
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@913 820eb932-12ee-0310-9ca8-eeb645f39767
    Added feed.rb Atom/RSS converter.  Closes #447
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@676 820eb932-12ee-0310-9ca8-eeb645f39767
    added rss importer. Easy way to get the last couple of posts from your blog on your new typo install (clee) closes #134
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@289 820eb932-12ee-0310-9ca8-eeb645f39767
    Use Ruby 1.9 compatible case syntax.
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    fix shebangs in all of typo
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@309 820eb932-12ee-0310-9ca8-eeb645f39767
    humongous refactoring of the config setup. It doesn't suck anymore!
    added that you can specify how many articles you want to show in rss and on the blog (seth@remor.com) closes #133
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@286 820eb932-12ee-0310-9ca8-eeb645f39767
    Typo's MT3 converter tries to honor the users formatting style now if possible (ben@bleything.net) closes #131
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@285 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed require for environment which broke due to moving the scripts to a subdirectory of db/
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@254 820eb932-12ee-0310-9ca8-eeb645f39767
     * First stab at a textpattern 2 to typo converter
     * Extended MT3 converter to also convert prefs (blog_name et al)
     * Moved all converters into db/converters/
     * Moved SQL update scripts into db/updates/
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@253 820eb932-12ee-0310-9ca8-eeb645f39767
    added moveable type 3 importer by Patrick Lenz to scripts folder
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@107 820eb932-12ee-0310-9ca8-eeb645f39767
    add file in log to keep directory
    Remove rails module so typo uses rails gem
    Use gems instead of plugins
    Declare gems in environment to allow auto-install
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    add will_paginate 2.3.5 by git-submodule
    add rspec and rspec-rails 1.1.9 by git-submodule
    add actionwebservice by submodule
    add rails in submodule
    Adding cucumber support to typo
    Adding Rails3 generated stuff
    Adding Rails3 generated stuff
    Update files to match what Rails 2.3.8 generates.
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Adds new cache rules into .htaccess
    Wondering why we still bring HAML since we've switched back to rhtml almost 1 year ago.
    
    Reverting a fix in the .htaccess, because it may not work that way, but it actually DOES.
    
    Fixing a Typo (what else) in a theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1641 820eb932-12ee-0310-9ca8-eeb645f39767
    Not sure what happened here, but the rewrite rule was
    wrong in .htaccess.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1635 820eb932-12ee-0310-9ca8-eeb645f39767
    Various fixes for the 5.0 release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1601 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing typo 5.0 stable release w00t
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1600 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix README to actually reflect 2.5.x's requirements, not 2.0.x.  Fix typo in .htaccess
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@514 820eb932-12ee-0310-9ca8-eeb645f39767
    Added RewriteBase comment to .htaccess.  (closes #196)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@454 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed apache .htaccess file. Now statically cached pages are properly
    picked up and served
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@351 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@92 820eb932-12ee-0310-9ca8-eeb645f39767
    compatibility with rails 0.10.0 and the first stab at pretty urls ( for xmls so far )
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@63 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@50 820eb932-12ee-0310-9ca8-eeb645f39767
    fix for .htaccess so that category view works. Cant wait for routes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@49 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@28 820eb932-12ee-0310-9ca8-eeb645f39767
    added caching
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@18 820eb932-12ee-0310-9ca8-eeb645f39767
    default to fcgi
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@13 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding Rails3 generated stuff
    Update files to match what Rails 2.3.8 generates.
    Adding Rails3 generated stuff
    Update files to match what Rails 2.3.8 generates.
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    removed config/config.yml, on first request you will be redirected to settings/install to enter the values. This page is currently not protected, need to come up with something
    before next release.
    Added categories to the right hand side
    Fixed the ordering of articles in the categories filtered view
    Added a config manager
    Adjusted html of live preview
    Created settings table
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@93 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing deprecated RAILS_ROOT
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    fixes dispatcher ruby paths
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@276 820eb932-12ee-0310-9ca8-eeb645f39767
    updated to rails 0.13
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@274 820eb932-12ee-0310-9ca8-eeb645f39767
    compatibility with rails 0.10.0 and the first stab at pretty urls ( for xmls so far )
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@63 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing deprecated RAILS_ROOT
    fixes dispatcher ruby paths
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@276 820eb932-12ee-0310-9ca8-eeb645f39767
    updated to rails 0.13
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@274 820eb932-12ee-0310-9ca8-eeb645f39767
    compatibility with rails 0.10.0 and the first stab at pretty urls ( for xmls so far )
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@63 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing deprecated RAILS_ROOT
    fixes dispatcher ruby paths
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@276 820eb932-12ee-0310-9ca8-eeb645f39767
    updated to rails 0.13
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@274 820eb932-12ee-0310-9ca8-eeb645f39767
    removed config/config.yml, on first request you will be redirected to settings/install to enter the values. This page is currently not protected, need to come up with something
    before next release.
    Added categories to the right hand side
    Fixed the ordering of articles in the categories filtered view
    Added a config manager
    Adjusted html of live preview
    Created settings table
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@93 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Mass-removal of trailing whitespace.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Updating lightbox to last release and fixing lightbox brocken on current Typo
    Reverting stylesheets minification, this will be included in the release, till then I still need to hack them
    Minifying and obfuscating JS and CSS files for performances matter. A copy of original files is stored in public/sources
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    Closes ticket #674
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1495 820eb932-12ee-0310-9ca8-eeb645f39767
    Add lightbox support as per ticket #651. However, the implementation varies slightly from the patch. The macro is the same, but the script/stylesheet includes are now done automatically whenever you use the {{{<typo:lightbox>}}} macro. This still requires themes to update themselves, but this update is more generalized, and is explained below.
    Textfilters are now passed a model object in addition to the controller object whenever the model object is known. Any custom textfilters will need to be updated. If you do use the model object be sure to check for nil.
    There is now a helper method to provide most of the contents of the {{{<head>}}} tag. Look at Azure for usage. This not only means update-once apply-everywhere, but it ties directly into the next change.
    Textfilters can now add includes to the header via the Content object's whiteboard. For that matter, anything with access to a whiteboard can do this, but it was intended primarily for textfilters. The mechanism for this is by adding a key to the whiteboard called {{{page_header_*}}} where * can be anything. The value of this key is inserted into the {{{<head>}}} tag. The headers of all the rendered content objects are coalesced so if, for example, 2 Articles declare the same includes it will only show up once in the {{{<head>}}} tag. This is a straight equality comparison so don't fall afoul of whitespace. For usage, check out the Lightbox textfilter.
    There are two primary benefits of this change. The first is that any addition, like a textfilter, that needs includes can add them without worrying about updating everybody's theme. Second, includes that aren't necessary will not show up. By this I mean the lightbox javascript/css includes will not show up in {{{<head>}}} unless a rendered Content object actually uses the {{{<typo:lightbox>}}} macro. We may want to consider moving the {{{<typo:code>}}} syntax coloration into a separate CSS file and adding it the same way.
    Also modify register_onload to use prototype's Event.observe - this works around not only a bug in Safari (I think), but also keeps themes like lush from interfering by setting body's onload directly in the layout. I recommend modifying any existing themes that need onload handlers to use register_onload() as well.
    Closes #651.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@848 820eb932-12ee-0310-9ca8-eeb645f39767
    A few fixes in the file manager. We really ned to get a common one for both standard and visual editors. Anyone willing to take over it?
    Mass removal of trailing whitespace part two: Files that have cr/lf line endings.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    A few fixes in the file manager. We really ned to get a common one for both standard and visual editors. Anyone willing to take over it?
    Mass removal of trailing whitespace part two: Files that have cr/lf line endings.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding 2 missing pictures
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Updating lightbox to last release and fixing lightbox brocken on current Typo
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding 2 missing pictures
    Updating lightbox to last release and fixing lightbox brocken on current Typo
    Cleaning images, fixing migration bugs, adding new logo
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1726 820eb932-12ee-0310-9ca8-eeb645f39767
    Add lightbox support as per ticket #651. However, the implementation varies slightly from the patch. The macro is the same, but the script/stylesheet includes are now done automatically whenever you use the {{{<typo:lightbox>}}} macro. This still requires themes to update themselves, but this update is more generalized, and is explained below.
    Textfilters are now passed a model object in addition to the controller object whenever the model object is known. Any custom textfilters will need to be updated. If you do use the model object be sure to check for nil.
    There is now a helper method to provide most of the contents of the {{{<head>}}} tag. Look at Azure for usage. This not only means update-once apply-everywhere, but it ties directly into the next change.
    Textfilters can now add includes to the header via the Content object's whiteboard. For that matter, anything with access to a whiteboard can do this, but it was intended primarily for textfilters. The mechanism for this is by adding a key to the whiteboard called {{{page_header_*}}} where * can be anything. The value of this key is inserted into the {{{<head>}}} tag. The headers of all the rendered content objects are coalesced so if, for example, 2 Articles declare the same includes it will only show up once in the {{{<head>}}} tag. This is a straight equality comparison so don't fall afoul of whitespace. For usage, check out the Lightbox textfilter.
    There are two primary benefits of this change. The first is that any addition, like a textfilter, that needs includes can add them without worrying about updating everybody's theme. Second, includes that aren't necessary will not show up. By this I mean the lightbox javascript/css includes will not show up in {{{<head>}}} unless a rendered Content object actually uses the {{{<typo:lightbox>}}} macro. We may want to consider moving the {{{<typo:code>}}} syntax coloration into a separate CSS file and adding it the same way.
    Also modify register_onload to use prototype's Event.observe - this works around not only a bug in Safari (I think), but also keeps themes like lush from interfering by setting body's onload directly in the layout. I recommend modifying any existing themes that need onload handlers to use register_onload() as well.
    Closes #651.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@848 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Updating lightbox to last release and fixing lightbox brocken on current Typo
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Updating lightbox to last release and fixing lightbox brocken on current Typo
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Mass-removal of trailing whitespace.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Fixes 2 404 on lightbox images
    Updating lightbox to last release and fixing lightbox brocken on current Typo
    Reverting javascripts minification, this will be included in the release, till then I still need to hack them
    Minifying and obfuscating JS and CSS files for performances matter. A copy of original files is stored in public/sources
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    Closes ticket #674
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1495 820eb932-12ee-0310-9ca8-eeb645f39767
    Add lightbox support as per ticket #651. However, the implementation varies slightly from the patch. The macro is the same, but the script/stylesheet includes are now done automatically whenever you use the {{{<typo:lightbox>}}} macro. This still requires themes to update themselves, but this update is more generalized, and is explained below.
    Textfilters are now passed a model object in addition to the controller object whenever the model object is known. Any custom textfilters will need to be updated. If you do use the model object be sure to check for nil.
    There is now a helper method to provide most of the contents of the {{{<head>}}} tag. Look at Azure for usage. This not only means update-once apply-everywhere, but it ties directly into the next change.
    Textfilters can now add includes to the header via the Content object's whiteboard. For that matter, anything with access to a whiteboard can do this, but it was intended primarily for textfilters. The mechanism for this is by adding a key to the whiteboard called {{{page_header_*}}} where * can be anything. The value of this key is inserted into the {{{<head>}}} tag. The headers of all the rendered content objects are coalesced so if, for example, 2 Articles declare the same includes it will only show up once in the {{{<head>}}} tag. This is a straight equality comparison so don't fall afoul of whitespace. For usage, check out the Lightbox textfilter.
    There are two primary benefits of this change. The first is that any addition, like a textfilter, that needs includes can add them without worrying about updating everybody's theme. Second, includes that aren't necessary will not show up. By this I mean the lightbox javascript/css includes will not show up in {{{<head>}}} unless a rendered Content object actually uses the {{{<typo:lightbox>}}} macro. We may want to consider moving the {{{<typo:code>}}} syntax coloration into a separate CSS file and adding it the same way.
    Also modify register_onload to use prototype's Event.observe - this works around not only a bug in Safari (I think), but also keeps themes like lush from interfering by setting body's onload directly in the layout. I recommend modifying any existing themes that need onload handlers to use register_onload() as well.
    Closes #651.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@848 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Mass removal of trailing whitespace part two: Files that have cr/lf line endings.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Mass-removal of trailing whitespace.
    Updating lightbox to last release and fixing lightbox brocken on current Typo
    Reverting stylesheets minification, this will be included in the release, till then I still need to hack them
    Minifying and obfuscating JS and CSS files for performances matter. A copy of original files is stored in public/sources
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    Closes ticket #674
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1495 820eb932-12ee-0310-9ca8-eeb645f39767
    Add lightbox support as per ticket #651. However, the implementation varies slightly from the patch. The macro is the same, but the script/stylesheet includes are now done automatically whenever you use the {{{<typo:lightbox>}}} macro. This still requires themes to update themselves, but this update is more generalized, and is explained below.
    Textfilters are now passed a model object in addition to the controller object whenever the model object is known. Any custom textfilters will need to be updated. If you do use the model object be sure to check for nil.
    There is now a helper method to provide most of the contents of the {{{<head>}}} tag. Look at Azure for usage. This not only means update-once apply-everywhere, but it ties directly into the next change.
    Textfilters can now add includes to the header via the Content object's whiteboard. For that matter, anything with access to a whiteboard can do this, but it was intended primarily for textfilters. The mechanism for this is by adding a key to the whiteboard called {{{page_header_*}}} where * can be anything. The value of this key is inserted into the {{{<head>}}} tag. The headers of all the rendered content objects are coalesced so if, for example, 2 Articles declare the same includes it will only show up once in the {{{<head>}}} tag. This is a straight equality comparison so don't fall afoul of whitespace. For usage, check out the Lightbox textfilter.
    There are two primary benefits of this change. The first is that any addition, like a textfilter, that needs includes can add them without worrying about updating everybody's theme. Second, includes that aren't necessary will not show up. By this I mean the lightbox javascript/css includes will not show up in {{{<head>}}} unless a rendered Content object actually uses the {{{<typo:lightbox>}}} macro. We may want to consider moving the {{{<typo:code>}}} syntax coloration into a separate CSS file and adding it the same way.
    Also modify register_onload to use prototype's Event.observe - this works around not only a bug in Safari (I think), but also keeps themes like lush from interfering by setting body's onload directly in the layout. I recommend modifying any existing themes that need onload handlers to use register_onload() as well.
    Closes #651.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@848 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding bootstrap dependencies, switching layout and menu to bootstrap
    Mass-removal of trailing whitespace.
    Reverting stylesheets minification, this will be included in the release, till then I still need to hack them
    Minifying and obfuscating JS and CSS files for performances matter. A copy of original files is stored in public/sources
    Add basic CSS for RSS feeds, in an attempt to make them less scary
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@635 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing user styles
    Fixes a bug with gravatar
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1777 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds 3 classes in the default styles
    Update version number for 5.0.4
    Update README
    Fixes bug 1224 for non MySQL databases
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1695 820eb932-12ee-0310-9ca8-eeb645f39767
    Revised [467]; moved the user stylesheet to public/stylesheets/ (closes #241 again)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@552 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a blank local stylesheet for quick mods to azure. (closes #241)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@476 820eb932-12ee-0310-9ca8-eeb645f39767
    removed config/config.yml, on first request you will be redirected to settings/install to enter the values. This page is currently not protected, need to come up with something
    before next release.
    Added categories to the right hand side
    Fixed the ordering of articles in the categories filtered view
    Added a config manager
    Adjusted html of live preview
    Created settings table
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@93 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds some style to autocomplete
    Fixes admin/comments edition style
    Restyling dashboard
    Sometimes you don't clean enough, sometimes you clean too much. In both cases it's a fail
    Doing some cleaning in the CSS, they really deserved it.
    
    I dropped the call to the RTL CSS on purpose, it will come back when I understand how that really work and how I can integrate it with our bootstrap based CSS. Plus Hebrew seems not to be maintained anymore (unless someone did it and forgot to send a pull request which is fairly possible).
    
    Which bring something quite unrelated to my mind, but should we switch to Rails YML based i18n or to the more standard gettext?
    Adds the media back into the editor.
    Updating sidebar interface
    Update to the main editor. Kinda like the way it looks like now, but lots of cleaning still needed (plus a major headache generating bug found).
    Improving the editor a little bit. This definitely needs some cleaning and... to be refactored
    Adds new editor for pages
    New editor for articles
    Categories now
    Porting the comments view to Bootstrap
    Articles / content
    Moves Dashboard to bootstrap
    Adding bootstrap dependencies, switching layout and menu to bootstrap
    Setting up things so we can soon (or later) add a second administration color stylesheet (or two, or three...). I have some nice ideas you can easily imagine for that one
    Making the simple editor a little clearer
    Making the dashboard a little bit clearer, and the info style a little less flashy
    TopLayer in admin is now a full page overlay (reduce miss-click risk). Clicking on it close the overlay. Better CSS (background transparancy)
    Add Category creation on Content creation page (UJS way). Induced some refactorisation in Categories views and model
    Fix admin category#new view
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    A bit of form styling.
    
    Using the same font in the form as in the interface.
    Styling the selects
    Adding permalinks SEO tab.
    
    Fixes a bug where SEO params would never be saved.
    Makes simple and visual editor buttons look (more or less) alike.
    Give Write New Article link more importance. Improves admin header readability
    Fixing sidebars publishing.
    
    Previous commit was fixing sidebars not saving when dragging / publishing but broke the available sidebar collection after saving. This one fixes the stuff.
    Splits administration CSS stylesheet into structure and colors. Adds some documentation for more clarity. Global structure and fonts are in administration_structure.css. Colors related info are in administration_colors.css
    
    Guess what comes next? Themable administrations. Not sure anyone will ever use this but us, but why not doing it?
    Mass-removal of trailing whitespace.
    Adding growler to autosave and sidebar save
    Mass-removal of trailing whitespace.
    Adding verflow: auto to coderay CSS
    Reverting stylesheets minification, this will be included in the release, till then I still need to hack them
    Minifying and obfuscating JS and CSS files for performances matter. A copy of original files is stored in public/sources
    add coderay support on typo:code. Needed some test like about linenumber
    Adding assets packager support + base assets
    Moving login form to Bootstrap
    Some more fix + better indent
    Fixing some remaining style bugs on the login / setup / account forms after setting up the grid
    Moving login, password recovery and setup to a vertical and horizontal grid system
    Makes setup a little bit less wide. Updates TODO.
    Adds missing create account link on login page.
    Fixes a typo in French translation making account confirmation crash.
    Fixes some style in error and information message on account creation / confirmation and login page.
    Fix links to images in administration style sheets.
    
    The links went up two levels, which is one level too many. This is no
    problem if Typo is installed at the top level, because the extra level will
    just be ignored. When Typo is installed in a sub-URI, it will cause all the
    UI images to be missing. The links now go up just one level.
    improving system message display
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    A bit more setup improvement
    Adds a better setup, some things may need some refactoring (like moving generated password in the model, but can't make it without having specs failing)
    Added theme stylesheets manually
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Added theme stylesheets manually
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Added theme stylesheets manually
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
     Use Calendar_date_select instead_of datetime_select in create article
    
    [#31 state:resolved]
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
     Use Calendar_date_select instead_of datetime_select in create article
    
    [#31 state:resolved]
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
     Use Calendar_date_select instead_of datetime_select in create article
    
    [#31 state:resolved]
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
     Use Calendar_date_select instead_of datetime_select in create article
    
    [#31 state:resolved]
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
     Use Calendar_date_select instead_of datetime_select in create article
    
    [#31 state:resolved]
     Use Calendar_date_select instead_of datetime_select in create article
    
    [#31 state:resolved]
    Add lightbox support as per ticket #651. However, the implementation varies slightly from the patch. The macro is the same, but the script/stylesheet includes are now done automatically whenever you use the {{{<typo:lightbox>}}} macro. This still requires themes to update themselves, but this update is more generalized, and is explained below.
    Textfilters are now passed a model object in addition to the controller object whenever the model object is known. Any custom textfilters will need to be updated. If you do use the model object be sure to check for nil.
    There is now a helper method to provide most of the contents of the {{{<head>}}} tag. Look at Azure for usage. This not only means update-once apply-everywhere, but it ties directly into the next change.
    Textfilters can now add includes to the header via the Content object's whiteboard. For that matter, anything with access to a whiteboard can do this, but it was intended primarily for textfilters. The mechanism for this is by adding a key to the whiteboard called {{{page_header_*}}} where * can be anything. The value of this key is inserted into the {{{<head>}}} tag. The headers of all the rendered content objects are coalesced so if, for example, 2 Articles declare the same includes it will only show up once in the {{{<head>}}} tag. This is a straight equality comparison so don't fall afoul of whitespace. For usage, check out the Lightbox textfilter.
    There are two primary benefits of this change. The first is that any addition, like a textfilter, that needs includes can add them without worrying about updating everybody's theme. Second, includes that aren't necessary will not show up. By this I mean the lightbox javascript/css includes will not show up in {{{<head>}}} unless a rendered Content object actually uses the {{{<typo:lightbox>}}} macro. We may want to consider moving the {{{<typo:code>}}} syntax coloration into a separate CSS file and adding it the same way.
    Also modify register_onload to use prototype's Event.observe - this works around not only a bug in Safari (I think), but also keeps themes like lush from interfering by setting body's onload directly in the layout. I recommend modifying any existing themes that need onload handlers to use register_onload() as well.
    Closes #651.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@848 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed #95 and #87
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@264 820eb932-12ee-0310-9ca8-eeb645f39767
    Integrated Azure design.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@247 820eb932-12ee-0310-9ca8-eeb645f39767
    Prototype library from rails 0.12.1.
    Spinner image added during live search.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@200 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding 2 missing pictures
    Updating lightbox to last release and fixing lightbox brocken on current Typo
    Adds a batter media library, with carousel + Ajax fetch of next elements. Got a strange behavior after ajax loading, but I'll need some help at that point
    Fixed #95 and #87
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@264 820eb932-12ee-0310-9ca8-eeb645f39767
    Integrated Azure design.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@247 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@226 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed all of the image_tag calls to not be dependant on the images directory being at root of webserver.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@203 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Updating lightbox to last release and fixing lightbox brocken on current Typo
    Cleaning images, fixing migration bugs, adding new logo
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1726 820eb932-12ee-0310-9ca8-eeb645f39767
    Add lightbox support as per ticket #651. However, the implementation varies slightly from the patch. The macro is the same, but the script/stylesheet includes are now done automatically whenever you use the {{{<typo:lightbox>}}} macro. This still requires themes to update themselves, but this update is more generalized, and is explained below.
    Textfilters are now passed a model object in addition to the controller object whenever the model object is known. Any custom textfilters will need to be updated. If you do use the model object be sure to check for nil.
    There is now a helper method to provide most of the contents of the {{{<head>}}} tag. Look at Azure for usage. This not only means update-once apply-everywhere, but it ties directly into the next change.
    Textfilters can now add includes to the header via the Content object's whiteboard. For that matter, anything with access to a whiteboard can do this, but it was intended primarily for textfilters. The mechanism for this is by adding a key to the whiteboard called {{{page_header_*}}} where * can be anything. The value of this key is inserted into the {{{<head>}}} tag. The headers of all the rendered content objects are coalesced so if, for example, 2 Articles declare the same includes it will only show up once in the {{{<head>}}} tag. This is a straight equality comparison so don't fall afoul of whitespace. For usage, check out the Lightbox textfilter.
    There are two primary benefits of this change. The first is that any addition, like a textfilter, that needs includes can add them without worrying about updating everybody's theme. Second, includes that aren't necessary will not show up. By this I mean the lightbox javascript/css includes will not show up in {{{<head>}}} unless a rendered Content object actually uses the {{{<typo:lightbox>}}} macro. We may want to consider moving the {{{<typo:code>}}} syntax coloration into a separate CSS file and adding it the same way.
    Also modify register_onload to use prototype's Event.observe - this works around not only a bug in Safari (I think), but also keeps themes like lush from interfering by setting body's onload directly in the layout. I recommend modifying any existing themes that need onload handlers to use register_onload() as well.
    Closes #651.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@848 820eb932-12ee-0310-9ca8-eeb645f39767
    Updating lightbox to last release and fixing lightbox brocken on current Typo
    Updating lightbox to last release and fixing lightbox brocken on current Typo
    Rejiged login and signup forms.
    Added 'remember me' functinnality (at last)
    uploading new logo
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1733 820eb932-12ee-0310-9ca8-eeb645f39767
    Cleaning images, fixing migration bugs, adding new logo
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1726 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding 2 missing pictures
    Updating lightbox to last release and fixing lightbox brocken on current Typo
    Cleaning images, fixing migration bugs, adding new logo
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1726 820eb932-12ee-0310-9ca8-eeb645f39767
    Add lightbox support as per ticket #651. However, the implementation varies slightly from the patch. The macro is the same, but the script/stylesheet includes are now done automatically whenever you use the {{{<typo:lightbox>}}} macro. This still requires themes to update themselves, but this update is more generalized, and is explained below.
    Textfilters are now passed a model object in addition to the controller object whenever the model object is known. Any custom textfilters will need to be updated. If you do use the model object be sure to check for nil.
    There is now a helper method to provide most of the contents of the {{{<head>}}} tag. Look at Azure for usage. This not only means update-once apply-everywhere, but it ties directly into the next change.
    Textfilters can now add includes to the header via the Content object's whiteboard. For that matter, anything with access to a whiteboard can do this, but it was intended primarily for textfilters. The mechanism for this is by adding a key to the whiteboard called {{{page_header_*}}} where * can be anything. The value of this key is inserted into the {{{<head>}}} tag. The headers of all the rendered content objects are coalesced so if, for example, 2 Articles declare the same includes it will only show up once in the {{{<head>}}} tag. This is a straight equality comparison so don't fall afoul of whitespace. For usage, check out the Lightbox textfilter.
    There are two primary benefits of this change. The first is that any addition, like a textfilter, that needs includes can add them without worrying about updating everybody's theme. Second, includes that aren't necessary will not show up. By this I mean the lightbox javascript/css includes will not show up in {{{<head>}}} unless a rendered Content object actually uses the {{{<typo:lightbox>}}} macro. We may want to consider moving the {{{<typo:code>}}} syntax coloration into a separate CSS file and adding it the same way.
    Also modify register_onload to use prototype's Event.observe - this works around not only a bug in Safari (I think), but also keeps themes like lush from interfering by setting body's onload directly in the layout. I recommend modifying any existing themes that need onload handlers to use register_onload() as well.
    Closes #651.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@848 820eb932-12ee-0310-9ca8-eeb645f39767
    Setting up things so we can soon (or later) add a second administration color stylesheet (or two, or three...). I have some nice ideas you can easily imagine for that one
    Switching to something a little less flashy.
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Setting up things so we can soon (or later) add a second administration color stylesheet (or two, or three...). I have some nice ideas you can easily imagine for that one
    New admin default stylesheet
    Setting up things so we can soon (or later) add a second administration color stylesheet (or two, or three...). I have some nice ideas you can easily imagine for that one
    New admin default stylesheet
    Setting up things so we can soon (or later) add a second administration color stylesheet (or two, or three...). I have some nice ideas you can easily imagine for that one
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Setting up things so we can soon (or later) add a second administration color stylesheet (or two, or three...). I have some nice ideas you can easily imagine for that one
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Setting up things so we can soon (or later) add a second administration color stylesheet (or two, or three...). I have some nice ideas you can easily imagine for that one
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Setting up things so we can soon (or later) add a second administration color stylesheet (or two, or three...). I have some nice ideas you can easily imagine for that one
    New admin default stylesheet
    Setting up things so we can soon (or later) add a second administration color stylesheet (or two, or three...). I have some nice ideas you can easily imagine for that one
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Setting up things so we can soon (or later) add a second administration color stylesheet (or two, or three...). I have some nice ideas you can easily imagine for that one
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Setting up things so we can soon (or later) add a second administration color stylesheet (or two, or three...). I have some nice ideas you can easily imagine for that one
    New admin default stylesheet
    Setting up things so we can soon (or later) add a second administration color stylesheet (or two, or three...). I have some nice ideas you can easily imagine for that one
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Setting up things so we can soon (or later) add a second administration color stylesheet (or two, or three...). I have some nice ideas you can easily imagine for that one
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Setting up things so we can soon (or later) add a second administration color stylesheet (or two, or three...). I have some nice ideas you can easily imagine for that one
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Setting up things so we can soon (or later) add a second administration color stylesheet (or two, or three...). I have some nice ideas you can easily imagine for that one
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Added theme images
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Added theme images
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Added theme images
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Added theme images
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
     Use Calendar_date_select instead_of datetime_select in create article
    
    [#31 state:resolved]
    Mass-removal of trailing whitespace.
    Adding growler to autosave and sidebar save
    Mass-removal of trailing whitespace.
    Reverting javascripts minification, this will be included in the release, till then I still need to hack them
    Minifying and obfuscating JS and CSS files for performances matter. A copy of original files is stored in public/sources
     r1154@Menhir:  pdcawley | 2006-03-12 15:06:23 +0000
     Applies suggested fix from #263, hopefully closing the ticket.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@902 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch from ticket 588
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@798 820eb932-12ee-0310-9ca8-eeb645f39767
    cookies.js incorrectly unencodes strings with plusses instead of spaces. Set usernames then look like "Jonas+M+Luster" instead of "Jonas M Luster" (jluster) closes #187
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@374 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes from Eridius: Element escaping problem in cookies.js and fixed call to toLocaleDateString in typo.js
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@345 820eb932-12ee-0310-9ca8-eeb645f39767
    Frontpage now decides weather to display admin links based on a cookie, comment form is prefilled from cookies by JS (Damien Pollet) closes #164, #165
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@344 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading lightbox, prototype and scriptaculous to support IE9
    Adding Rails3 generated stuff
    rspec updates
    Reverting javascripts minification, this will be included in the release, till then I still need to hack them
    Minifying and obfuscating JS and CSS files for performances matter. A copy of original files is stored in public/sources
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding autosave capabilities for articles. Works only on simple visual editor for now
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1761 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug breaking the spellchecker in FCKEditor.
    Adds autocompletion in the tags (ticket 1217)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1679 820eb932-12ee-0310-9ca8-eeb645f39767
    Run rake rails:update
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1307 820eb932-12ee-0310-9ca8-eeb645f39767
    Update Javascript to match Rails 1.1.4
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1119 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated scripts to rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@993 820eb932-12ee-0310-9ca8-eeb645f39767
    Run `update_javascripts` for Rails 1.0.0 upgrade
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@801 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    Configurable sidebars.  (closes #157, #103)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@364 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed comments posting javascript and restructured things a bit. fixes #139
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@282 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed broken redirect after install
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@275 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding Rails3 generated stuff
    rspec updates
    Reverting javascripts minification, this will be included in the release, till then I still need to hack them
    Minifying and obfuscating JS and CSS files for performances matter. A copy of original files is stored in public/sources
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding autosave capabilities for articles. Works only on simple visual editor for now
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1761 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug breaking the spellchecker in FCKEditor.
    Adds autocompletion in the tags (ticket 1217)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1679 820eb932-12ee-0310-9ca8-eeb645f39767
    Run rake rails:update
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1307 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated scripts to rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@993 820eb932-12ee-0310-9ca8-eeb645f39767
    Run `update_javascripts` for Rails 1.0.0 upgrade
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@801 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    Configurable sidebars.  (closes #157, #103)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@364 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed broken redirect after install
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@275 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading lightbox, prototype and scriptaculous to support IE9
    Mass-removal of trailing whitespace.
    Updating lightbox to last release and fixing lightbox brocken on current Typo
    Mass-removal of trailing whitespace.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Update files to match what Rails 2.3.8 generates.
    Removing a bit of dead Javascript code
    Reverting javascripts minification, this will be included in the release, till then I still need to hack them
    Minifying and obfuscating JS and CSS files for performances matter. A copy of original files is stored in public/sources
    Updated scripts to rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@993 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding Rails3 generated stuff
    rspec updates
    Reverting javascripts minification, this will be included in the release, till then I still need to hack them
    Minifying and obfuscating JS and CSS files for performances matter. A copy of original files is stored in public/sources
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding autosave capabilities for articles. Works only on simple visual editor for now
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1761 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug breaking the spellchecker in FCKEditor.
    Adds autocompletion in the tags (ticket 1217)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1679 820eb932-12ee-0310-9ca8-eeb645f39767
    Run rake rails:update
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1307 820eb932-12ee-0310-9ca8-eeb645f39767
    Update Javascript to match Rails 1.1.4
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1119 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated scripts to rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@993 820eb932-12ee-0310-9ca8-eeb645f39767
    Run `update_javascripts` for Rails 1.0.0 upgrade
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@801 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    Configurable sidebars.  (closes #157, #103)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@364 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed comments posting javascript and restructured things a bit. fixes #139
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@282 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed broken redirect after install
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@275 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding Rails3 generated stuff
    Upgrading lightbox, prototype and scriptaculous to support IE9
    Adding Rails3 generated stuff
    Reverting javascripts minification, this will be included in the release, till then I still need to hack them
    Minifying and obfuscating JS and CSS files for performances matter. A copy of original files is stored in public/sources
    update Prototype to 1.6.0.3
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding autosave capabilities for articles. Works only on simple visual editor for now
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1761 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug breaking the spellchecker in FCKEditor.
    Adds autocompletion in the tags (ticket 1217)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1679 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding js localization for dates with french translation.
    
    Port by Eric Daspet
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1661 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix the minimal styling (i.e. admin article preview) to not depend on azure anymore, as it didn't work if azure was not the selected theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1358 820eb932-12ee-0310-9ca8-eeb645f39767
    Run rake rails:update
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1307 820eb932-12ee-0310-9ca8-eeb645f39767
    Update Javascript to match Rails 1.1.4
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1119 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated scripts to rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@993 820eb932-12ee-0310-9ca8-eeb645f39767
    Run `update_javascripts` for Rails 1.0.0 upgrade
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@801 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    Configurable sidebars.  (closes #157, #103)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@364 820eb932-12ee-0310-9ca8-eeb645f39767
    updated comment posting to have much better error message handling
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@304 820eb932-12ee-0310-9ca8-eeb645f39767
    updated to rails 0.13
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@274 820eb932-12ee-0310-9ca8-eeb645f39767
    Prototype library from rails 0.12.1.
    Spinner image added during live search.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@200 820eb932-12ee-0310-9ca8-eeb645f39767
    removed config/config.yml, on first request you will be redirected to settings/install to enter the values. This page is currently not protected, need to come up with something
    before next release.
    Added categories to the right hand side
    Fixed the ordering of articles in the categories filtered view
    Added a config manager
    Adjusted html of live preview
    Created settings table
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@93 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes applied to the rails javascript library.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@90 820eb932-12ee-0310-9ca8-eeb645f39767
    Added some new files from 0.11
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@87 820eb932-12ee-0310-9ca8-eeb645f39767
    Changes the CKEditor theme
    Mass-removal of trailing whitespace.
    Removing CKEditor sources
    Improving fck editor
    Replacing FCKEditor 2 with CKEditor 3.
    Reverts back some js_distance_of_time_in_words_to_now thing to make sure it won't break when using static caching system.
    
    I originally wanted to move this as a full plugin, but it appears we can't do it a 'clean' way yet, so this code is back in the core AND still allows users to chose the way they want date and time to be displayed on their blog.
    Removes old js_distance_of_time_to_now which becomes a plugin. To avoid breaking everything the old method is kept and calls the new one.
    Makes all themes support the new way of displaying date and time.
    Makes the new way of displaying date and time "xxx ago" aware.
    Mass-removal of trailing whitespace.
    Reverting javascripts minification, this will be included in the release, till then I still need to hack them
    Minifying and obfuscating JS and CSS files for performances matter. A copy of original files is stored in public/sources
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding js localization for dates with french translation.
    
    Port by Eric Daspet
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1661 820eb932-12ee-0310-9ca8-eeb645f39767
    * Did a bit of javascript tidying. Expect more to come.
    * Fixed an obscure commenting bug that only tripped up
      administrators.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1456 820eb932-12ee-0310-9ca8-eeb645f39767
    Update JS to find comment box by name, not sequence ID
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1209 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on the feedback page.  Seems useful now--we have bulk delete and publish/unpublish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1135 820eb932-12ee-0310-9ca8-eeb645f39767
    Add popup markup helper.  Closes #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1104 820eb932-12ee-0310-9ca8-eeb645f39767
    Commit patch for #682 - should fix AJAX comment effect on Mozilla-based browsers for some themes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@890 820eb932-12ee-0310-9ca8-eeb645f39767
    Add lightbox support as per ticket #651. However, the implementation varies slightly from the patch. The macro is the same, but the script/stylesheet includes are now done automatically whenever you use the {{{<typo:lightbox>}}} macro. This still requires themes to update themselves, but this update is more generalized, and is explained below.
    Textfilters are now passed a model object in addition to the controller object whenever the model object is known. Any custom textfilters will need to be updated. If you do use the model object be sure to check for nil.
    There is now a helper method to provide most of the contents of the {{{<head>}}} tag. Look at Azure for usage. This not only means update-once apply-everywhere, but it ties directly into the next change.
    Textfilters can now add includes to the header via the Content object's whiteboard. For that matter, anything with access to a whiteboard can do this, but it was intended primarily for textfilters. The mechanism for this is by adding a key to the whiteboard called {{{page_header_*}}} where * can be anything. The value of this key is inserted into the {{{<head>}}} tag. The headers of all the rendered content objects are coalesced so if, for example, 2 Articles declare the same includes it will only show up once in the {{{<head>}}} tag. This is a straight equality comparison so don't fall afoul of whitespace. For usage, check out the Lightbox textfilter.
    There are two primary benefits of this change. The first is that any addition, like a textfilter, that needs includes can add them without worrying about updating everybody's theme. Second, includes that aren't necessary will not show up. By this I mean the lightbox javascript/css includes will not show up in {{{<head>}}} unless a rendered Content object actually uses the {{{<typo:lightbox>}}} macro. We may want to consider moving the {{{<typo:code>}}} syntax coloration into a separate CSS file and adding it the same way.
    Also modify register_onload to use prototype's Event.observe - this works around not only a bug in Safari (I think), but also keeps themes like lush from interfering by setting body's onload directly in the layout. I recommend modifying any existing themes that need onload handlers to use register_onload() as well.
    Closes #651.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@848 820eb932-12ee-0310-9ca8-eeb645f39767
    Work around IE oddity supplying 'null' as a string if there's no cookie with the name we ask for (author/url) (closes #391)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@811 820eb932-12ee-0310-9ca8-eeb645f39767
    XHTML compliance commit:
     * Removed non-existant alt="" attribute on delcious sidebar title link
     * Don't display the trackback <ol> if there are no trackbacks to display
     * Render a hidden dummy <li> in the comments <ol> if there are no comments to display. This element is being removed dynamically if a comment is submitted via ajax.
    
    Closes #177
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@583 820eb932-12ee-0310-9ca8-eeb645f39767
    Added comment submission live preview using new filter architecture (closes #331) [anonymous]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@567 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix date display bug.  (closes #269)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@497 820eb932-12ee-0310-9ca8-eeb645f39767
    cDlm's JS date patch.  Fixes validation.  (closes #247)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@477 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed the display of future time deltas (closes #217) [kevin@sb.org]
    NOTE: I'm committing this for now, however a better approach might be to not display articles with a future timestamp at all in order to enable the blog author to effectively pre-post articles to appear at certain times. I'll create a separate ticket for this.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@450 820eb932-12ee-0310-9ca8-eeb645f39767
    updated look&feel&usability of the sidebar admin interface
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@367 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge of of /branches/admin into mainline
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@361 820eb932-12ee-0310-9ca8-eeb645f39767
    Javascript error fixed and removal of vestigial "on" from template.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@346 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes from Eridius: Element escaping problem in cookies.js and fixed call to toLocaleDateString in typo.js
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@345 820eb932-12ee-0310-9ca8-eeb645f39767
    Frontpage now decides weather to display admin links based on a cookie, comment form is prefilled from cookies by JS (Damien Pollet) closes #164, #165
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@344 820eb932-12ee-0310-9ca8-eeb645f39767
    applied static pages updates by Damien Pollet closes #127
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@343 820eb932-12ee-0310-9ca8-eeb645f39767
    local branch
     * Stick the or'ed conditions of the comment form onload function check into parenthesis (fixes #145) [dema]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@320 820eb932-12ee-0310-9ca8-eeb645f39767
    fixes for the email form field.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@319 820eb932-12ee-0310-9ca8-eeb645f39767
    fix for admin control toggle issue
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@315 820eb932-12ee-0310-9ca8-eeb645f39767
     * Nudged the nuke buttons for comments and trackbacks to the right
     * Added hovering to present admin links
     * Present a hovered admin edit link for articles in public
     (closes #141)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@311 820eb932-12ee-0310-9ca8-eeb645f39767
    if you are logged into typo you can now nuke comments and trackbacks right in the blog ui.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@308 820eb932-12ee-0310-9ca8-eeb645f39767
    updated comment posting to have much better error message handling
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@304 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed comments posting javascript and restructured things a bit. fixes #139
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@282 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed broken redirect after install
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@275 820eb932-12ee-0310-9ca8-eeb645f39767
    * Per article comment rss (closes #138)
    * Functional unit tests for xml_controller
    * Move to 0.13 cache sweeper
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@273 820eb932-12ee-0310-9ca8-eeb645f39767
    moved autocomplete="off" tag of the search out of the html. Its now being set by
    javascript from the typo.js. fixes #24
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@198 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a 404 on 2 gifs in the admin. This unfortunately won't fix them when blog uses a sub URI.
    Upgrading lightbox, prototype and scriptaculous to support IE9
    Mass-removal of trailing whitespace.
    Fixes 2 404 on lightbox images
    Updating lightbox to last release and fixing lightbox brocken on current Typo
    Reverting javascripts minification, this will be included in the release, till then I still need to hack them
    Minifying and obfuscating JS and CSS files for performances matter. A copy of original files is stored in public/sources
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    Closes ticket #674
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1495 820eb932-12ee-0310-9ca8-eeb645f39767
    Add lightbox support as per ticket #651. However, the implementation varies slightly from the patch. The macro is the same, but the script/stylesheet includes are now done automatically whenever you use the {{{<typo:lightbox>}}} macro. This still requires themes to update themselves, but this update is more generalized, and is explained below.
    Textfilters are now passed a model object in addition to the controller object whenever the model object is known. Any custom textfilters will need to be updated. If you do use the model object be sure to check for nil.
    There is now a helper method to provide most of the contents of the {{{<head>}}} tag. Look at Azure for usage. This not only means update-once apply-everywhere, but it ties directly into the next change.
    Textfilters can now add includes to the header via the Content object's whiteboard. For that matter, anything with access to a whiteboard can do this, but it was intended primarily for textfilters. The mechanism for this is by adding a key to the whiteboard called {{{page_header_*}}} where * can be anything. The value of this key is inserted into the {{{<head>}}} tag. The headers of all the rendered content objects are coalesced so if, for example, 2 Articles declare the same includes it will only show up once in the {{{<head>}}} tag. This is a straight equality comparison so don't fall afoul of whitespace. For usage, check out the Lightbox textfilter.
    There are two primary benefits of this change. The first is that any addition, like a textfilter, that needs includes can add them without worrying about updating everybody's theme. Second, includes that aren't necessary will not show up. By this I mean the lightbox javascript/css includes will not show up in {{{<head>}}} unless a rendered Content object actually uses the {{{<typo:lightbox>}}} macro. We may want to consider moving the {{{<typo:code>}}} syntax coloration into a separate CSS file and adding it the same way.
    Also modify register_onload to use prototype's Event.observe - this works around not only a bug in Safari (I think), but also keeps themes like lush from interfering by setting body's onload directly in the layout. I recommend modifying any existing themes that need onload handlers to use register_onload() as well.
    Closes #651.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@848 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading lightbox, prototype and scriptaculous to support IE9
    Mass-removal of trailing whitespace.
    Reverting javascripts minification, this will be included in the release, till then I still need to hack them
    Minifying and obfuscating JS and CSS files for performances matter. A copy of original files is stored in public/sources
    Adding autosave capabilities for articles. Works only on simple visual editor for now
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1761 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    New editor for articles
    Making the simple editor a little clearer
    TopLayer in admin is now a full page overlay (reduce miss-click risk). Clicking on it close the overlay. Better CSS (background transparancy)
    Add Category creation on Content creation page (UJS way). Induced some refactorisation in Categories views and model
    Makes simple and visual editor buttons look (more or less) alike.
    Fixes plain editor: Image tag is inserted even if cancel is clicked.
    Mass-removal of trailing whitespace.
    Removing a bit of dead Javascript code
    Fixes a cool bug that just wiped your article at the autosave when using CKEditor. Nice isn't it?
    Updating autosave time
    Adding autosave to FCK Editor w00t, one more ticket close on the road to 5.3
    Allowing to send content from an editor to another and back. I know. It's ugly. Please send a patch if you're better at Javascript than me, I'd be really glad
    Adding growler to autosave and sidebar save
    Reverting javascripts minification, this will be included in the release, till then I still need to hack them
    Minifying and obfuscating JS and CSS files for performances matter. A copy of original files is stored in public/sources
    reactive autosave when use simple editor. Fix bug introduce by Rails 2.2
    Mass-removal of trailing whitespace.
    Renaming carousel file to avoid conflict with people already using carousel.js
    Adds a batter media library, with carousel + Ajax fetch of next elements. Got a strange behavior after ajax loading, but I'll need some help at that point
    Upgrade ckeditor last step
    Hiding file browser button til someone recode it
    Replacing FCKEditor 2 with CKEditor 3.
    initial changes to typo
    Removed ckeditor from gitignore
    Mass-removal of trailing whitespace.
    Removing CKEditor sources
    Improving fck editor
    Replacing FCKEditor 2 with CKEditor 3.
    Upgrade ckeditor last step
    Replacing FCKEditor 2 with CKEditor 3.
    Upgrade ckeditor last step
    Replacing FCKEditor 2 with CKEditor 3.
    Upgrade ckeditor last step
    Replacing FCKEditor 2 with CKEditor 3.
    Upgrade ckeditor last step
    Replacing FCKEditor 2 with CKEditor 3.
    Upgrade ckeditor last step
    Replacing FCKEditor 2 with CKEditor 3.
    Upgrading FCKEditor to 2.6.0 and making some cleaning as well
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1749 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrade ckeditor last step
    Replacing FCKEditor 2 with CKEditor 3.
    initial changes to typo
    Removed ckeditor from gitignore
    Mass-removal of trailing whitespace.
    Removing CKEditor sources
    Improving fck editor
    Replacing FCKEditor 2 with CKEditor 3.
    Upgrade ckeditor last step
    Replacing FCKEditor 2 with CKEditor 3.
    Upgrade ckeditor last step
    Replacing FCKEditor 2 with CKEditor 3.
    Upgrade ckeditor last step
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Improving the editor a little bit. This definitely needs some cleaning and... to be refactored
    Update cKEditor
    Making both simple and advanced editor look alike
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1570 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Update cKEditor second take
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Hiding file browser button til someone recode it
    Update cKEditor
    Update cKEditor
    Update cKEditor
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Update cKEditor
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Update cKEditor
    Update cKEditor
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Update cKEditor
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Update cKEditor
    Update cKEditor
    Update cKEditor
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Update cKEditor
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Update cKEditor
    Update cKEditor
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Update cKEditor
    Update cKEditor
    Update cKEditor
    Update cKEditor
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Update cKEditor
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update cKEditor
    Replacing FCKEditor 2 with CKEditor 3.
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Update calender_date_select resources to version 1.16.1.
    Mass-removal of trailing whitespace.
     Use Calendar_date_select instead_of datetime_select in create article
    
    [#31 state:resolved]
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Mass-removal of trailing whitespace.
     Use Calendar_date_select instead_of datetime_select in create article
    
    [#31 state:resolved]
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Add timezone to calendar_date_select format.
    Update calender_date_select resources to version 1.16.1.
    Mass-removal of trailing whitespace.
     Use Calendar_date_select instead_of datetime_select in create article
    
    [#31 state:resolved]
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Update calender_date_select resources to version 1.16.1.
    Bundling calendar date select because the rails3 gem doesn't exist, and using bundle + git makes passenger crash
    Mass-removal of trailing whitespace.
    Initial Dutch translation.
    
    I'm primarily interested in showing all outside-facing strings, so I
    have not translated the admin part of the site right now, but the
    translation does include support for the Rails locale (which is
    currently not set by default) and the javascript translations.
    
    Signed-off-by: Cyril Mougel <cyril.mougel@gmail.com>
    Translation updates.
    Mass-removal of trailing whitespace.
    Adds 3 classes in the default styles
    Update version number for 5.0.4
    Update README
    Fixes bug 1224 for non MySQL databases
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1695 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    add javascript translate file for traditional chinese in public/javascripts/lang/zh_TW.js
    
    Signed-off-by: Cyril Mougel <cyril.mougel@gmail.com>
    Mass-removal of trailing whitespace.
    Changes version number
    Adds the missing en_US.js file
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1779 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds 3 classes in the default styles
    Update version number for 5.0.4
    Update README
    Fixes bug 1224 for non MySQL databases
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1695 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Adding js localization for dates with french translation.
    
    Port by Eric Daspet
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1661 820eb932-12ee-0310-9ca8-eeb645f39767
    Creating a public/files directory
    Remove rails module so typo uses rails gem
    Use gems instead of plugins
    Declare gems in environment to allow auto-install
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    add will_paginate 2.3.5 by git-submodule
    add rspec and rspec-rails 1.1.9 by git-submodule
    add actionwebservice by submodule
    add rails in submodule
    Remove some unused methods.
    Clean up Content methods.
    
    Simplify html_map so id need not be overridden; Let self.content_fields
    create #content_fields; Remove unused methods.
    
    Also, fix some comments.
    Remove shared Atom feed builder and all #to_atom methods.
    Give comment index Atom and RSS feeds their own templates.
    Replace find_boolean with standard find_all_by_<boolean field>.
    Ditching Jabber notification, amongst other things
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1702 820eb932-12ee-0310-9ca8-eeb645f39767
    More UrlPolicy work.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1669 820eb932-12ee-0310-9ca8-eeb645f39767
    More UrlPolicy work.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1668 820eb932-12ee-0310-9ca8-eeb645f39767
    A bit of rearrangement in views/xml
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1555 820eb932-12ee-0310-9ca8-eeb645f39767
    A few tweaks to feeds
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1506 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    Managed to make Jabber work... at last
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1401 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed the jabber stuff
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1386 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated text filters a bit more.  Cleaner.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1241 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove _html fields from contents.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1238 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Add blockquote to the allowed comment tags.  Closes #1087
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1221 820eb932-12ee-0310-9ca8-eeb645f39767
    Big changes to the state engine for feedback. Feedback now starts off
    in the 'Unclassified' state and moves to either JustPresumedHam or
    PresumedSpam depending on the results of Feedback#classify (the various Just*
    states are there as one shot states to handle sending of notifications or
    registering of spam/ham classification with akismet). JustPresumedHam
    decays to PresumedHam as soon as the feedback has been saved and the
    notifications sent.
    
    And there they rest until the classifications are solidified by the blog
    administrator on the feedback page. Feedback ends up as either Spam or Ham
    with an intermediate 'JustMarkedAs*' step for registering with Akismet.
    
    It should be possible to do some useful filtering on the feedback page
    (for instance, only see those messages whose classification hasn't been
    confirmed), but for that we need to add a couple of boolean fields to the
    contents table.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1188 820eb932-12ee-0310-9ca8-eeb645f39767
    Ditch comment counters.  Closes #1030.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1176 820eb932-12ee-0310-9ca8-eeb645f39767
    Reversed the sense of some test names for clarity. DeMorgan is my friend.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1175 820eb932-12ee-0310-9ca8-eeb645f39767
    More hoisting
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1174 820eb932-12ee-0310-9ca8-eeb645f39767
    o/~ Pull up to the feedback baby... o/~
    
    Pulled up a bunch of methods from Comment and Trackback up into
    Feedback.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1172 820eb932-12ee-0310-9ca8-eeb645f39767
    Added a Feedback class, inherits from Content and is inherited by Comment and Trackback.
    Currently it does nothing, but we shall be pulling methods up into it (and pushing 'em
    down from Content in all probability)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1169 820eb932-12ee-0310-9ca8-eeb645f39767
    Big spam filtering upgrade.
    
    This turns on Akismet filtering for all incoming comments and trackbacks.
    Comments (and trackbacks) that fail the spam check are marked as unpublished
    and can be deleted via the admin feedback page.
    
    In addition, the feedback page's publish/unpublish buttons now send feedback
    to Akismet (when enabled, of course).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1148 820eb932-12ee-0310-9ca8-eeb645f39767
    Add ul/ol/li to allowed comment tags.  Closes #998
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1129 820eb932-12ee-0310-9ca8-eeb645f39767
    Greatly improved XSS filtering for comments.  Closes #551
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1077 820eb932-12ee-0310-9ca8-eeb645f39767
    Done some refactoring of 'send_notifications'
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1050 820eb932-12ee-0310-9ca8-eeb645f39767
    Started the process of moving 'on publication' behaviour out of controllers and
    apis and onto observers. The observer implementations are currently just simple
    callbacks onto the content objects, but that may change in the medium to long
    term.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1043 820eb932-12ee-0310-9ca8-eeb645f39767
    I've havered over doing this for a while now, if only because Rails
    is very strongly of the opinion that models don't need to know about
    url_for.
    
    Which is all very well, but Blog is a model of something that has
    contents accessible through urls.
    
    As always in these matters, the true test of whether something's a
    good idea or not is:
    
      Does it make the code clearer?
    
    And in this case, I think it does. By adding Blog#url_for, and
    especially by allowing it to take an object that responds to
    {{{location(anchor=nil, only_path=true)}}} I've managed to
    refactor out a great deal of repetition.
    
    Since url_for is also the stumbling block which stops us turning
    textfilters back into models, you can also consider this as a
    step along the road to making textfilters a little less weird.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1036 820eb932-12ee-0310-9ca8-eeb645f39767
    Various refactorings
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1033 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Added tests and an associated fix for #742
    
    Also, because case statements are evil (Evil, you hear me, Evil!)
    I've got rid of a big case statement in XmlController
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@969 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix comment notifications. Fixes #689
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@863 820eb932-12ee-0310-9ca8-eeb645f39767
    Do a much better fix for the auto-linking problem. Markdown once again auto-links, but now sanitization and linking is done on the HTML value of the comment, not the source value. This also has the benefit of making auto-linking work on comment previews. Fixes #685
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@862 820eb932-12ee-0310-9ca8-eeb645f39767
     r717@Menhir:  pdcawley | 2005-12-06 10:33:48 +0000
     Moved the "transform" methods onto the String class and loaded transforms in the evironment
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@775 820eb932-12ee-0310-9ca8-eeb645f39767
     r700@Menhir:  pdcawley | 2005-12-05 15:27:08 +0000
     Fixed failing tests
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@770 820eb932-12ee-0310-9ca8-eeb645f39767
     r696@Menhir:  pdcawley | 2005-12-04 15:26:19 +0000
     Added counter_caching for comments and trackbacks
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@769 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    BACK UP YOUR DATABASE BEFORE RUNNING THESE MIGRATIONS.  Merge pdcawley's big superclass patch.  This rolls articles, pages, comments, and trackbacks into one big table, using STI.  This lets us get rid of a huge amount of duplicated code; diffstat shows a net of -148 lines, and the resulting code looks cleaner.  Closes #414
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@660 820eb932-12ee-0310-9ca8-eeb645f39767
    Add GUIDs to comments and trackbacks, and clean up Article GUID code.  Use GUIDs in Atom 1.0 feeds because our old IDs were nasty and not unique.  Still thinking about adding them to RSS 2.0 and Atom 0.3; it'll be user-visible if we change them.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@636 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a user_id field to comments, and stuff it with session[:user].  Also fix over-eager saves triggered by previews
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@627 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    Much improved text_filtering. You can now choose from Markdown, Textile and SmartyPants as well as Markdown + Smartypants both (scott@sigkill.org) fixes #137
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@287 820eb932-12ee-0310-9ca8-eeb645f39767
    humongous refactoring of the config setup. It doesn't suck anymore!
    added that you can specify how many articles you want to show in rss and on the blog (seth@remor.com) closes #133
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@286 820eb932-12ee-0310-9ca8-eeb645f39767
     * Render comments according to the global text_filter option selected
     * Added encoding of HTML tags in submitted comments with a workaround for textile since its :filter_html mode simply doesn't work
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@237 820eb932-12ee-0310-9ca8-eeb645f39767
     * Merged spamprot branch containing DNSRBL blocking, URL count limit, old article auto-close (refs #25)
       MISSING: Moderation options instead of flat out blocking, bayes based blocking, web-interface for blacklist items, auto-close indication
     * Minor fixes from spamprot branch:
       * No more escaping of article titles in articles/_read.rhtml
       * Proper sorting for delicious partial
       * Better semantics for sidebar boxes
    
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@178 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed comment unit test errors.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@112 820eb932-12ee-0310-9ca8-eeb645f39767
    switched commenting to ajax. ob boy is that cool
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@98 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed comments #6 (shane) and fixed sqlite schema
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@76 820eb932-12ee-0310-9ca8-eeb645f39767
    Added some tests for comments and a small comments fixture.
    Also, now doing "nofollow" to the title of comments.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@62 820eb932-12ee-0310-9ca8-eeb645f39767
    Big additions again
    Another big commit.
    
    Additions:
      Trackbacks fully integrated.
      Per article decision to allow trackbacks and comments.
      "transforms" library added for text transforming methods. (
      Google's nofollow fully supported where necessary.
    
    Changes:
      Cleaned up some duplicated code.
      New trackbacks cause the sweeper to go into effect.
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@46 820eb932-12ee-0310-9ca8-eeb645f39767
    improved search and added public exception handling
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@16 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@8 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove shared RSS feed builder and all #to_rss methods.
    Remove shared Atom feed builder and all #to_atom methods.
    refactoring to reduce test execution time
    Homogenize permalink_url behavior.
    Fix creation of redirect.
    Move display name to name sync to Tag model.
    Simplify Tag.get.
    Make Tag.get use correct display name to name conversion.
    
    Use to_url as in the save method.
    Also:
    - simplify the Tag model's interface: finder methods should not create
      objects.
    - Fix article spec to match new naming convention.
    Tag naming convention should use to_url as categories instead of old crappy unsure code
    Our URL policy splits 2 words with a -. Tags should behave the same way
    Fix conversion of multi-word tags to keyword string.
    count number article already published in Tag admin view. Avoid all draft article counting
    Adding subcategories
    Giving Typo some SEO capabilities
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1849 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a stupid behaviour that forces tags display name to be the same as the name in the url. IE : "web 2.0" would display on a page as web2-0 after transformation, which is stupid.
    
    Adds a migration that changes '.' into '-' in tag already in the database. Otherwise, it makes typo crash when accessing that tag.
    
    Allows edition of tag display name in the admin.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1786 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes tag naming brocken when adding a tag with a '.' in it (like in web 2.0). Fixes ticket 1130.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1747 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes ticket #1223 with tags brocken under pgsql.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1690 820eb932-12ee-0310-9ca8-eeb645f39767
    Some more admin enhancement
    Added typo:code stylesheet
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1688 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds tags management to the back office. Still needs tag merging... later
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1683 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug breaking the spellchecker in FCKEditor.
    Adds autocompletion in the tags (ticket 1217)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1679 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few things here and there.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1677 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on rejigging tests and fixtures to solely use symbolic ids for
    fixtures. Also, removed the second blog from the test fixtures as a first
    step towards getting the core back to one blog per database.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1621 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed Tag#permalink_url
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1533 820eb932-12ee-0310-9ca8-eeb645f39767
    A couple of little buglets fixed.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1526 820eb932-12ee-0310-9ca8-eeb645f39767
    Gave user, tag and category semantically meaningful to_param methods.
    
    Fixed the tag and category sidebars to use the new style named routes.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1481 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    Tag.to_prefix should be "tag" not "tags"
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1315 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix tag permalinks.  With test.  Closes #1091
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1236 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Removes a couple of special case search methods from article.rb in
    favour of using some_tag.articles.find_already_published and
    some_category.articles.find_already_published
    
    I don't like special case searches that the framework can handle
    adequately.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@906 820eb932-12ee-0310-9ca8-eeb645f39767
    Closes #222
    
    Which means that you can now post an article with a creation date some time
    in the future and it won't appear in your blog until that point.
    
    For bonus points, so long as you are using action caching instead of page
    caching (and you should be!), the cache will be expired correctly.
    
    Essentially, every cachable request checks for the next article in the future
    and sets response.lifetime to that point. Which means that the cache expires
    just before the article is due to show, et voila!
    
    The admin interface for this is the same as it ever was, you have to click on
    advanced options and set the created_at value appropriately. Patches are
    welcome if you have better interface ideas.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@905 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix mysqlism in SQL
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@867 820eb932-12ee-0310-9ca8-eeb645f39767
    Tags now support the concept of a display name. This is to facility re-naming tags, an interface for which will be provided soon. Tag names are now canonicalized into a lowercase, space-stripped name so "Monty Python" and "montypython" will be the same tag. Please note that display name really should be a reformatted version of the original name - if you change the content, like using "Graham Chapman" for the tag "montypython" you can still get duplicate tag issues where a keyword "grahamchapman" will create a new tag since it will not match either "Graham Chapman" or "montypython".
    Please note that theme writers who override the tag sidebar display will have to modify their themes to use tag.display_name instead of tag.name.
    Also note that the migration was written to try and handle duplicate tags gracefully (currently you can have both "montypython" and "Monty Python" as separate tags but they will both end up as "montypython" after migration), by destroying the latter one and recreating the tag mappings for any affected articles. It was tested, but not extensively, so be careful - as always, back up your database before migrating.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@858 820eb932-12ee-0310-9ca8-eeb645f39767
    Turned Content.published into a real boolean. Which has surprisingly far reaching effects.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@790 820eb932-12ee-0310-9ca8-eeb645f39767
    Add tag/category lists.  Closes #478
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@707 820eb932-12ee-0310-9ca8-eeb645f39767
    Minor performance improvements; change Tag.find_all_with_article_counters to return list sorted by popularitiy, not tag name, and added limit.  Also, cache available sidebar list.  Adds 30% to sidebar performance in my tests.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@668 820eb932-12ee-0310-9ca8-eeb645f39767
    BACK UP YOUR DATABASE BEFORE RUNNING THESE MIGRATIONS.  Merge pdcawley's big superclass patch.  This rolls articles, pages, comments, and trackbacks into one big table, using STI.  This lets us get rid of a huge amount of duplicated code; diffstat shows a net of -148 lines, and the resulting code looks cleaner.  Closes #414
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@660 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix tags to not show unpublished articles.  Add tag tests.  (closes #369)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@593 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix tag sorting (closes #344)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@589 820eb932-12ee-0310-9ca8-eeb645f39767
    Swapped out hardcoded table names in raw SQL statements by more flexible Model.table_name calls allowing the use of Rails' table_name prefix/suffix settings (closes #342) [Jakob S]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@557 820eb932-12ee-0310-9ca8-eeb645f39767
    Tags.  (closes #282)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@533 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few things here and there.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1677 820eb932-12ee-0310-9ca8-eeb645f39767
    Explicitely use no layout for mail.
    Fix deprecations in mailer.
    
    - Use NotificationMailer.comment instead of create_comment.
    - Use NotificationMailer.article instead of create_article.
    - Use instance variables instead of filling @body hash.
    Mass-removal of trailing whitespace.
    Adds login / password email at user's creation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1723 820eb932-12ee-0310-9ca8-eeb645f39767
    * The Content model no longer knows anything about the cache.
    * Reprecated the html helper
    * Implemented the 'html' helper in MailHelper. It turns out that
      ActionMailer doesn't do fragment caching, so in order to keep a
      consistent interface for accessing article html, we've implemented
      a version that doesn't attempt to do caching.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1265 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    add more scope on resource, (combine one) and use them
    add scope to resource and use them when it's possible
    Fixes a bug where attachment thumbnails would not be created at upload from the editor and API.
    
    Moving the thumbnail creation from the controller to the object creation seems more logical and does the trick.
    Fixes file upload, at least until we change our model uploader.
    
    Hedley Robertson submited this workaround on Lighthouse. I'll stick to this until we move to paperclip/whetever that will also allow us to send files to s3
    Remove trailing whitespace.
    Fixes a bug introduced by previous commit.
    
    Since we now generate 2 sizes of thumbnail, we need to move the check on thumb creation from the helper to the model
    Adding a medium sized picture when uploading image.
    Adding a setting for both thumbnail and medium size.
    Fix before_validate call in Resource model.
    Damn syntax changes #@$
    More deprecation
    Removing deprecated RAILS_ROOT
    Remove resource fixtures and replace by factory in specs.
    Mass-removal of trailing whitespace.
    Dropping iTunes metadata support. They will probably come back in the futur as a plugin
    Dropping RMagick support for mini_magick way lighter. RMagick destroyed all the work on memory use we did for the last 6 months
    Adding a basic image viewer on the simple editor
    Seems the way I did it actually broke with random pictures. That one works everytime, so let's go
    Adds a first draft for Typo images library
    Roll back r1527 at Piers's request
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1528 820eb932-12ee-0310-9ca8-eeb645f39767
    Initial commit. Bar is green, but we're a long way from finished.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1527 820eb932-12ee-0310-9ca8-eeb645f39767
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug when trying to upload files via XMLRPC
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1420 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
     r740@Menhir:  pdcawley | 2005-12-08 00:54:14 +0000
     Fixed an embarrassing problem with ArticlesController.include_protected that
     meant some tests failed. I could have sworn I ran them before checkin, but
     apparently not.
    
     Also made boolean handling more consistent (for the known booleans in the
     schema, I shall be attacking the unknown ones later). For the record, booleans
     are set with 'object.boolean_attrib = true/false' and queried with
     'object.boolean_attrib?'. You should not use the '?' form, and you should
     also strive to name boolean attribs so that it's obvious they are booleans.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@787 820eb932-12ee-0310-9ca8-eeb645f39767
    Podcasting, thanks to bingeldac (Grant Schofield).  This also reverts the previous two patches--it's possible that migrations are broken, but that's better then everything else being broken.  There are a few things that I'd like to change here, but by and large it works.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@752 820eb932-12ee-0310-9ca8-eeb645f39767
    Update resources to let joins work right
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@730 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix resource upload when dir doesn't exist.  (closes #372)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@605 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
    added missing Resource model and tests and included MIT-LICENCE (yay)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@6 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    * The Content model no longer knows anything about the cache.
    * Reprecated the html helper
    * Implemented the 'html' helper in MailHelper. It turns out that
      ActionMailer doesn't do fragment caching, so in order to keep a
      consistent interface for accessing article html, we've implemented
      a version that doesn't attempt to do caching.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1265 820eb932-12ee-0310-9ca8-eeb645f39767
    Big changes to the state engine for feedback. Feedback now starts off
    in the 'Unclassified' state and moves to either JustPresumedHam or
    PresumedSpam depending on the results of Feedback#classify (the various Just*
    states are there as one shot states to handle sending of notifications or
    registering of spam/ham classification with akismet). JustPresumedHam
    decays to PresumedHam as soon as the feedback has been saved and the
    notifications sent.
    
    And there they rest until the classifications are solidified by the blog
    administrator on the feedback page. Feedback ends up as either Spam or Ham
    with an intermediate 'JustMarkedAs*' step for registering with Akismet.
    
    It should be possible to do some useful filtering on the feedback page
    (for instance, only see those messages whose classification hasn't been
    confirmed), but for that we need to add a couple of boolean fields to the
    contents table.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1188 820eb932-12ee-0310-9ca8-eeb645f39767
    Started the process of moving 'on publication' behaviour out of controllers and
    apis and onto observers. The observer implementations are currently just simple
    callbacks onto the content objects, but that may change in the medium to long
    term.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1043 820eb932-12ee-0310-9ca8-eeb645f39767
    Simplify zap_pages implementation to avoid stale file descriptors.
    
    The whole move-then-delete stuff is nice, but seems to cause Rails to keep
    writing the cache to the deleted file. This simple version should be fine,
    at least on *nix.
    Require 'page_cache' for sweep task.
    
    This makes the task work in production without dependency loading enabled.
    Make migrations work without loading the actual models.
    
    In the production environment, models are not loaded by default in rake
    tasks. This change makes migrations work regardless, which has the added
    benefit that the real models can change completely without breaking the
    migrations, without having to resort to the BareMigration system. This is
    particularly fortunate, since BareMigration does not support STI, which we
    use with Articles and Contents.
    Removing RAILS_DEFAULT_LOGGER deprecation warning
    Removing deprecated RAILS_ROOT
    Mass-removal of trailing whitespace.
    Replacing old bundled UUID tools by the 2.x maintained gem
    Moves cache to public/cache. Ditches database use for cache storing. Please, read doc/CACHE.SETUP.README to setup the new cache system, otherwise Typo now runs smoothly without cache, I've been running it cacheless for months on a fairly crowded blog without even knowing it
    Fixes brocken cache bug
    fix error in migration if CacheInformation doesn't exist
    Removing a debug trace
    Fixes ticket 96: sweep cache should clear css. This also applies to cache reset
    Adds a try / catch on cache sweeping in order to avoid cycling migration failure
    add cache_informations table in database. Use this table to save all cache
    add file to track all page cache. Delete all by this file when sweep cache
    add sitemap.xml in delete when sweep cache
    Seens I had something wrong with that condition.
    Caches_action_with_params was not properly removed. Seems I forgot some things here and there that actually breaks everything if caches_action_with_params is actually the caching methode
    fixed bug #1291, forget delete archives.* file with static HTML cache
    Fixes a bad clear: left in Typographic\n
    Fixes comments cache issues (Ticket 1218)\n
    Adds a control on comment.save (Ticket 1207)\n
    Adds the forgotten spinner to Typographic
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1744 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverts back a bug introduced in r1710. Sometimes, less is more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1711 820eb932-12ee-0310-9ca8-eeb645f39767
    Another damn cache issue. I knew there was still something rotten there
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1710 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes another cache issue. Are we done now ?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1709 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes an issue with caching not wiping paginated archives. Adds google bogsearch pinping
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1705 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the cache following the removal of /articles
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1704 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes another remaining cache issue
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1691 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes an issue with cache not zapping anymore
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1689 820eb932-12ee-0310-9ca8-eeb645f39767
    PageCache is no longer a subclass of ActiveRecord::Base
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1647 820eb932-12ee-0310-9ca8-eeb645f39767
    Hah! Take that you lousy cache monster!
    
    We no longer attempt to sweep the cache 99 times per request when
    changing blog settings. All the cache deletions are saved up until
    the end of the request so if BlogSweeper#expire_for gets called
    multiple times, the cache still only gets swept once.
    
    Which is nice.
    
    I've turned caching on in the development environment for the time
    being too - I want the debug level logging, and I want to hit problems
    quickly when I'm testing rather than discovering them in a production
    log.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1646 820eb932-12ee-0310-9ca8-eeb645f39767
    Hopefully something to fix the cache sweeping issue
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1629 820eb932-12ee-0310-9ca8-eeb645f39767
    Made the page cache sweep catch everything that needs sweeping.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1624 820eb932-12ee-0310-9ca8-eeb645f39767
    Added extra logging to the cache sweeping
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1613 820eb932-12ee-0310-9ca8-eeb645f39767
    Further attempts to fix the caching code. Should at least stop deleting /tmp now
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1612 820eb932-12ee-0310-9ca8-eeb645f39767
    Made the page cache sweeper a little less aggressive
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1610 820eb932-12ee-0310-9ca8-eeb645f39767
    Cache sweeping successfully sweeps pages now. Page caching no longer touches the database
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1583 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    In which your maintainer has a Sunday morning crisis of confidence... this patch will be back after some more tinkering.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@837 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged the fixed cache branch back to the trunk. Sorry for letting something broken escape like that in the first place
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@836 820eb932-12ee-0310-9ca8-eeb645f39767
    Revert [830] as it should have been applied on a branch
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@831 820eb932-12ee-0310-9ca8-eeb645f39767
    Started down the road to abstemious cache sweeping. Headline change is that
    adding/deleting comments and trackbacks no longer needs to rebuild the world
    
    Most of the magic happens in controllers/application.rb, which is responsible
    for creating PageCache entries and linking them appropriately.
    
    BlogSweeper then makes use of the extra information to do intelligent cache
    sweeping -- as time goes by, expect more intelligence to appear.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@830 820eb932-12ee-0310-9ca8-eeb645f39767
    Rolled back mistaken changes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@821 820eb932-12ee-0310-9ca8-eeb645f39767
     r819@Menhir:  pdcawley | 2006-01-06 10:15:08 +0000
     Getting order screen working again
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@820 820eb932-12ee-0310-9ca8-eeb645f39767
     r711@Menhir:  pdcawley | 2005-12-06 02:39:07 +0000
     Hopefully rolling back 768
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@772 820eb932-12ee-0310-9ca8-eeb645f39767
     r690@Menhir:  pdcawley | 2005-11-26 13:45:14 +0000
     Added tables and relationships to handle cache tracking
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@768 820eb932-12ee-0310-9ca8-eeb645f39767
    Use AC::Base.page_cache_directory instead of 'public/'.  closes #328
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@611 820eb932-12ee-0310-9ca8-eeb645f39767
    renamed the Cache model to PageCache to be more descriptive. Also added unit tests for PageCache
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@387 820eb932-12ee-0310-9ca8-eeb645f39767
    Moves permalink sanitization to String with a new to_permalink method.
    
    Refactores existing code to remove duplicate code entries and not needed mthods when building the permalink from the model.
    Yo dawg, I heard you like typos so I put an epic typo in your typo so you can typo while you typo
    create a Satanizable module, remove duplication about clean accents (by move method in satanizable)...
    Fixes a utf-8 thing with ruby 1.9.2
    Adds post types with admin management.
    
    Author can define multiple post types with associated templates. Default post type is 'read' so existing themes won't break.
    
    I didn't use Rails relational model on purpose as I wanted article to store the post type permalink. This will make theme helpers such as menu helpers easier to write. Maybe there's a cleaner way to do it though.
    Remove shared Atom feed builder and all #to_atom methods.
    Give trackbacks index Atom feed its own template.
    Type in atom_title should be html, not text/html.
    Doing some cleaning removing typo_deprecated lib.
    Introducing new dashboard.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1684 820eb932-12ee-0310-9ca8-eeb645f39767
    A few tweaks to feeds
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1506 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Ditch comment counters.  Closes #1030.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1176 820eb932-12ee-0310-9ca8-eeb645f39767
    Reversed the sense of some test names for clarity. DeMorgan is my friend.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1175 820eb932-12ee-0310-9ca8-eeb645f39767
    More hoisting
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1174 820eb932-12ee-0310-9ca8-eeb645f39767
    o/~ Pull up to the feedback baby... o/~
    
    Pulled up a bunch of methods from Comment and Trackback up into
    Feedback.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1172 820eb932-12ee-0310-9ca8-eeb645f39767
    Added a Feedback class, inherits from Content and is inherited by Comment and Trackback.
    Currently it does nothing, but we shall be pulling methods up into it (and pushing 'em
    down from Content in all probability)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1169 820eb932-12ee-0310-9ca8-eeb645f39767
    Big spam filtering upgrade.
    
    This turns on Akismet filtering for all incoming comments and trackbacks.
    Comments (and trackbacks) that fail the spam check are marked as unpublished
    and can be deleted via the admin feedback page.
    
    In addition, the feedback page's publish/unpublish buttons now send feedback
    to Akismet (when enabled, of course).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1148 820eb932-12ee-0310-9ca8-eeb645f39767
    Add global trackback disable setting.  Closes #860
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1142 820eb932-12ee-0310-9ca8-eeb645f39767
    I've havered over doing this for a while now, if only because Rails
    is very strongly of the opinion that models don't need to know about
    url_for.
    
    Which is all very well, but Blog is a model of something that has
    contents accessible through urls.
    
    As always in these matters, the true test of whether something's a
    good idea or not is:
    
      Does it make the code clearer?
    
    And in this case, I think it does. By adding Blog#url_for, and
    especially by allowing it to take an object that responds to
    {{{location(anchor=nil, only_path=true)}}} I've managed to
    refactor out a great deal of repetition.
    
    Since url_for is also the stumbling block which stops us turning
    textfilters back into models, you can also consider this as a
    step along the road to making textfilters a little less weird.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1036 820eb932-12ee-0310-9ca8-eeb645f39767
    Various refactorings
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1033 820eb932-12ee-0310-9ca8-eeb645f39767
    Add test for trackback-pinging an article.
    Fix trackback pinging so it actually works.
    Move some test helper methods from xml_controller_test into test_helper.
    Fix the XPath helper methods to support non-Element results
    Also fixes #747
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@996 820eb932-12ee-0310-9ca8-eeb645f39767
    Added tests and an associated fix for #742
    
    Also, because case statements are evil (Evil, you hear me, Evil!)
    I've got rid of a big case statement in XmlController
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@969 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Limit trackback excerpts to 250 chars properly
    Formerly it had limited it to 254 after the "..."
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@822 820eb932-12ee-0310-9ca8-eeb645f39767
     r717@Menhir:  pdcawley | 2005-12-06 10:33:48 +0000
     Moved the "transform" methods onto the String class and loaded transforms in the evironment
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@775 820eb932-12ee-0310-9ca8-eeb645f39767
     r696@Menhir:  pdcawley | 2005-12-04 15:26:19 +0000
     Added counter_caching for comments and trackbacks
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@769 820eb932-12ee-0310-9ca8-eeb645f39767
    BACK UP YOUR DATABASE BEFORE RUNNING THESE MIGRATIONS.  Merge pdcawley's big superclass patch.  This rolls articles, pages, comments, and trackbacks into one big table, using STI.  This lets us get rid of a huge amount of duplicated code; diffstat shows a net of -148 lines, and the resulting code looks cleaner.  Closes #414
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@660 820eb932-12ee-0310-9ca8-eeb645f39767
    Add GUIDs to comments and trackbacks, and clean up Article GUID code.  Use GUIDs in Atom 1.0 feeds because our old IDs were nasty and not unique.  Still thinking about adding them to RSS 2.0 and Atom 0.3; it'll be user-visible if we change them.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@636 820eb932-12ee-0310-9ca8-eeb645f39767
     * Merged spamprot branch containing DNSRBL blocking, URL count limit, old article auto-close (refs #25)
       MISSING: Moderation options instead of flat out blocking, bayes based blocking, web-interface for blacklist items, auto-close indication
     * Minor fixes from spamprot branch:
       * No more escaping of article titles in articles/_read.rhtml
       * Proper sorting for delicious partial
       * Better semantics for sidebar boxes
    
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@178 820eb932-12ee-0310-9ca8-eeb645f39767
    Big additions again
    Another big commit.
    
    Additions:
      Trackbacks fully integrated.
      Per article decision to allow trackbacks and comments.
      "transforms" library added for text transforming methods. (
      Google's nofollow fully supported where necessary.
    
    Changes:
      Cleaned up some duplicated code.
      New trackbacks cause the sweeper to go into effect.
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@46 820eb932-12ee-0310-9ca8-eeb645f39767
    Added:
      Support for inbound trackbacks (very little testing) (http://someserver.com/trackback/ping/1)
      Support for the Moveable Type API - seems to work well.
      Support for RSD - autodiscovering of the xmlrpc uri
                      - aka "Autofill" in MarsEdit
                      - I'm not sure what should be returned for Movetype API support though
                        - Maybe MarsEdit just doesn't support it through RSD.
      Added a "Powered by Typo" link to the bottom of the articles.rthml template.
      RSS feed now has support for autodiscovery of trackback url's.
    
    Fixes:
      If a post isn't assigned to any categories, it won't choke now.
      Categories that an article is posted in are now displayed with the article.
    
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@39 820eb932-12ee-0310-9ca8-eeb645f39767
    Allows admin redirects to act like an URL shortener when posting an empty from.
    Fix redirect where to_path is a full URL and the blog is in a sub-URL.
    Remove trailing whitespace.
    Adding an embedded URL shortener. Every page and article gets its shortened URL with a 301 (permanent) redirect. Shortened URL is available to published_content only and is displayed within the administration.
    Initial migration adds shortened URL for existing content.
    
    The set_shortened_url method is duplicated in both conte t and page controller. It should probably move to the content model, not sure about that. Also adding some specs, which makes me think that pages should be rewriten from (almost) scratch.
    Make Redirect model use Blog.default instead of this_blog.
    Clean up ArticleController's redirect action.
    Adding reirects a frontend. Did you know that such a feature existed? I guess I was the only one to use it to replace costy rewrite rules. Doesn't this rock?
    
    Sure it does!
    Add a 'redirect' controller and model to make migrating to Typo easier.  It's set up as the route-of-last-resort
    and tries to redirect whichever URL you used onto an entry in the 'redirects' table.  So, if you put an entry
    into the table with from_path = '/archives/000001.html', to = '/articles/2005/11/08/foo', then anyone who hits
    http://my.shiny.blog/archives/000001.html will get a 301 redirecting them to http://my.shiny.blog/articles/2005/11/08/foo.
    Obviously, converter scripts will need to be updated to use this.  If you care, then go update the converters and leave
    a patch on Trac.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@754 820eb932-12ee-0310-9ca8-eeb645f39767
    Pass array in to zap_pages since string does not respond to each in Ruby 1.9.
    Update TODOs.
    Removing RAILS_DEFAULT_LOGGER deprecation warning
    Make specs pass.
    Fix comparison.
    Don't sweep the cache if we're saving a draft.
    
    Without this change, having the article editor open to write a new article
    will cause the cache to be continuously sweeped without reason.
    Removing old caches_actions_with params, caches_page is enough, less ressource consumming and much better
    optimise cache with sidebar in particulary
    Fixing cache issues when posting comments
    Fixes a bad clear: left in Typographic\n
    Fixes comments cache issues (Ticket 1218)\n
    Adds a control on comment.save (Ticket 1207)\n
    Adds the forgotten spinner to Typographic
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1744 820eb932-12ee-0310-9ca8-eeb645f39767
    Hah! Take that you lousy cache monster!
    
    We no longer attempt to sweep the cache 99 times per request when
    changing blog settings. All the cache deletions are saved up until
    the end of the request so if BlogSweeper#expire_for gets called
    multiple times, the cache still only gets swept once.
    
    Which is nice.
    
    I've turned caching on in the development environment for the time
    being too - I want the debug level logging, and I want to hit problems
    quickly when I'm testing rather than discovering them in a production
    log.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1646 820eb932-12ee-0310-9ca8-eeb645f39767
    Hopefully something to fix the cache sweeping issue
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1629 820eb932-12ee-0310-9ca8-eeb645f39767
    Added extra logging to the cache sweeping
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1613 820eb932-12ee-0310-9ca8-eeb645f39767
    Further attempts to fix the caching code. Should at least stop deleting /tmp now
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1612 820eb932-12ee-0310-9ca8-eeb645f39767
    Made the page cache sweeper a little less aggressive
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1610 820eb932-12ee-0310-9ca8-eeb645f39767
    Cache sweeping successfully sweeps pages now. Page caching no longer touches the database
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1583 820eb932-12ee-0310-9ca8-eeb645f39767
    Much footling with the feedback state machine and various
    caching related things.
    
    I ''think'' cache sweeping should now be happening in all the
    right places, while being reasonably light on the CPU and memory.
    
    If you do come across cases where the cache isn't being emptied
    when it should, please let me know <pdcawley-typo@bofh.org.uk>
    or raise a ticket here and we'll look into it.
    
    Also, we've reinstated fragment caching; page caching comes with
    a whole host of gotchas that I'd rather not think about just now.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1511 820eb932-12ee-0310-9ca8-eeb645f39767
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    * The Content model no longer knows anything about the cache.
    * Reprecated the html helper
    * Implemented the 'html' helper in MailHelper. It turns out that
      ActionMailer doesn't do fragment caching, so in order to keep a
      consistent interface for accessing article html, we've implemented
      a version that doesn't attempt to do caching.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1265 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on effective cache sweeping
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1254 820eb932-12ee-0310-9ca8-eeb645f39767
    All sorts of tweaks and cleanups.
    
    Mainly, the feedback state machine has got a little more complex, allowing
    us to add a 'Content#publication_state_just_changed?' method. And having
    such a method means that there's now a bunch of places where we used to
    sweep the cache unnecessarily, but now we just don't sweep the cache.
    Which is no bad thing. Cache misses are bad m'kay?
    
    Also, I've rejigged the SpamProtection package, applying the Composed
    Method pattern, reordering some of the tests and generally making it try
    to decide quicker.
    
    There's lots more work to do here, but this will do for starters.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1253 820eb932-12ee-0310-9ca8-eeb645f39767
    Make BlogSweeper watch User, too.  Closes #947
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1062 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix for #798
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1021 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds the time-limited action cache discussed on
    http://scottstuff.net/blog/articles/2006/01/20/time-limited-caching-for-rails
    to Typo.  This includes a new fragment cache plugin that allows individual items
    to expire from the cache after a certain deadline, and a replacement for the
    action cache that fixes a few action cache bugs (query param handling and error
    caching) and adds simple support for limiting the lifespan of cached pages.
    
    To add a limited lifespan to any page, just set response.lifetime in any controller
    or component.  See the Flickr sidebar for an example--right now, any Typo page
    that includes the Flickr sidebar will only be cached for 1 hour.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@852 820eb932-12ee-0310-9ca8-eeb645f39767
    In which your maintainer has a Sunday morning crisis of confidence... this patch will be back after some more tinkering.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@837 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged the fixed cache branch back to the trunk. Sorry for letting something broken escape like that in the first place
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@836 820eb932-12ee-0310-9ca8-eeb645f39767
    Revert [830] as it should have been applied on a branch
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@831 820eb932-12ee-0310-9ca8-eeb645f39767
    Started down the road to abstemious cache sweeping. Headline change is that
    adding/deleting comments and trackbacks no longer needs to rebuild the world
    
    Most of the magic happens in controllers/application.rb, which is responsible
    for creating PageCache entries and linking them appropriately.
    
    BlogSweeper then makes use of the extra information to do intelligent cache
    sweeping -- as time goes by, expect more intelligence to appear.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@830 820eb932-12ee-0310-9ca8-eeb645f39767
    Sweep the cache if a category record is changed. (closes #171)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@411 820eb932-12ee-0310-9ca8-eeb645f39767
    Code cleanups, migration to new sweeping system, fixes for new sweeping system
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@400 820eb932-12ee-0310-9ca8-eeb645f39767
    Add static pages.  Also fixes a caching bug (the new PageCache was broken due to :name/:page_name mix).  (closes #181)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@391 820eb932-12ee-0310-9ca8-eeb645f39767
    Added article archives page.  (closes #178)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@356 820eb932-12ee-0310-9ca8-eeb645f39767
    ARGH (fucking closes #169)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@350 820eb932-12ee-0310-9ca8-eeb645f39767
    applied static pages updates by Damien Pollet closes #127
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@343 820eb932-12ee-0310-9ca8-eeb645f39767
    typo is now full static. The entire front end comes from static pages which are swept on commenting, trackbacks, new article posts and category changes.
    This means we cannot do the "posted 25 minutes ago" business but we can easily serve in excess of 1k pages per second so this should be worth it.
    
    closes #127, #21
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@337 820eb932-12ee-0310-9ca8-eeb645f39767
    trackback rss
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@317 820eb932-12ee-0310-9ca8-eeb645f39767
    corrects sweeper base class
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@277 820eb932-12ee-0310-9ca8-eeb645f39767
    * Per article comment rss (closes #138)
    * Functional unit tests for xml_controller
    * Move to 0.13 cache sweeper
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@273 820eb932-12ee-0310-9ca8-eeb645f39767
    Added proper sweeping for backend files triggered by admin interface actions (fixes #69)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@243 820eb932-12ee-0310-9ca8-eeb645f39767
    Big additions again
    Another big commit.
    
    Additions:
      Trackbacks fully integrated.
      Per article decision to allow trackbacks and comments.
      "transforms" library added for text transforming methods. (
      Google's nofollow fully supported where necessary.
    
    Changes:
      Cleaned up some duplicated code.
      New trackbacks cause the sweeper to go into effect.
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@46 820eb932-12ee-0310-9ca8-eeb645f39767
    removed full page caching for read page
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@22 820eb932-12ee-0310-9ca8-eeb645f39767
    bug in sweeper, would always expire articles/read/4 instad of real article name
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@21 820eb932-12ee-0310-9ca8-eeb645f39767
    added commentrss (so i see when people write something)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@20 820eb932-12ee-0310-9ca8-eeb645f39767
    added caching
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@18 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Web notifications (trackbacks, pingbacks that stuff) are now triggered from
    the WebNotifier content observer.
    
    Note that we've now added a new setting to Blog 'default_server_url' as a
    fallback for finding the blog's base url. If you're experiencing problems
    (I don't think you should be, it's only currently an issue in the tests and
    our blog fixtures has an appropriate url set), go to your /admin page and
    set the default url there (it should pick up a sensible default, so you can
    just check that for sanity and hit save if you like).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1046 820eb932-12ee-0310-9ca8-eeb645f39767
    Any content can have redirections.
    Adding an embedded URL shortener. Every page and article gets its shortened URL with a 301 (permanent) redirect. Shortened URL is available to published_content only and is displayed within the administration.
    Initial migration adds shortened URL for existing content.
    
    The set_shortened_url method is duplicated in both conte t and page controller. It should probably move to the content model, not sure about that. Also adding some specs, which makes me think that pages should be rewriten from (almost) scratch.
    Make settings writers work during #initialize.
    Do not autosave when setting a setting.
    Fixed up canonicalization of boolean settings.
    Added a test to make sure I don't screw it up again.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@936 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrade Typo to run with Rails 0.14.1 (AKA 1.0rc2)
    
    This required a few minor changes, and I took the opportunity to do a bit of
    refactoring that I'd been avoiding for a while--text filters no longer use
    render() to do their filtering.  That was broken with 1.0, and I've been
    meaning to fix it anyway.
    
    All tests now pass for me, but I haven't tested it extensively outside of
    the unit test system, so be careful.
    
    This may or may not work with 0.13.1--there's no reason why it shouldn't, but
    it's untested.  I'm going to include a few 1.0rc2-specific cleanups soon, so
    the days of the trunk working with 0.13.1 are numbered.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@685 820eb932-12ee-0310-9ca8-eeb645f39767
    Work-around for config setting issue.  For now, is_ok? only triggers when blog_name is unset.  Any other unset value is treated as a default and allowed.  This isn't an ideal long-term solution, but it closes #223 and #227.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@458 820eb932-12ee-0310-9ca8-eeb645f39767
    humongous refactoring of the config setup. It doesn't suck anymore!
    added that you can specify how many articles you want to show in rss and on the blog (seth@remor.com) closes #133
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@286 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged /branches/aws to /trunk. Three cheers for Patrick Lenz's fantastic work in this branch
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@132 820eb932-12ee-0310-9ca8-eeb645f39767
    removed config/config.yml, on first request you will be redirected to settings/install to enter the values. This page is currently not protected, need to come up with something
    before next release.
    Added categories to the right hand side
    Fixed the ordering of articles in the categories filtered view
    Added a config manager
    Adjusted html of live preview
    Created settings table
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@93 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes permalink not being correctly updated when updating a permalink. closes #62
    
    The old behavior was rather buggy as it created a new redirect everytime an article or page permalink was updated. This shortened URL was never displayed because we only called the first redirect instead of the last one.
    
    This commit:
    
    * Fixes existing old shortened URL showing when multiple shorten URLS exist
    * Fixes this behavior by updating the existing shortened URL when a published article or page permalink is updated
    * Moves the shortened URL creation from controller to model
    * Removes duplicate code between admin/content_controller and admin/page_controller
    * Adds specs as this part was never tested before
    * Tells a story about a young farm boy, a princess called Buttercup (silly name if you want my opinion), true love and high adventure, pirates, princess, giants, miracles, fencing, and rodents of unusual size.
    Remove useless calls to #changed.
    
    The intent of this code seems to have been to avoid model objects being
    marked dirty when the new value is the same as the old. However, this code
    didn't do that since #changed just returns the names of the changed
    attributes. Also, current ActiveRecord already avoids marking models as
    dirty when the new value is the same as the old.
    Clean up Content methods.
    
    Simplify html_map so id need not be overridden; Let self.content_fields
    create #content_fields; Remove unused methods.
    
    Also, fix some comments.
    This one fixes the way articles are displayed in the administration and repairs pagination. I need a way to test this, YAF?
    
    Default index scope would show posts with no draft status ordered by creation date. Expected behavior is to display them ordered by publication date, otherwise to be published posts would never show where they should be.
    
    This needs to be completely rewriten because:
    – Drafts should be in the posts listing, but ordered by creation date as they do not have a publication date.
    – There should be a way to filter on drafts, published, withdrawn and publication pending posts.
    
    Good point: this would mean lots of code simplification, and I like it.
    Remove trailing whitespace.
    Remove shared RSS feed builder and all #to_rss methods.
    Remove shared Atom feed builder and all #to_atom methods.
    Adds options to articles and pages.
    
    They make both models extendable by plugins creators without adding new fields and therefore should be considered like Wordpress custom fields. Only password was migrated because we may consider it as an optionnal field.
    
    Next step is to add a custom fields part in the editor, but I don't know how to do it yet.
    Speed up article specs.
    Fix Content#short_url for sub-uri blogs.
    Remove trailing whitespace.
    Turns "Show extended on RSS" into "Hide extended on RSS".
    
    Asking user to opt in to display the whole post in the feed instead of hiding it is one of the most stupid behavior I've seen for a while and is the exact opposite of the software default's behavior.
    
    Included migration sets the new behavior accordingly to the blog default one.
    Adding an embedded URL shortener. Every page and article gets its shortened URL with a 301 (permanent) redirect. Shortened URL is available to published_content only and is displayed within the administration.
    Initial migration adds shortened URL for existing content.
    
    The set_shortened_url method is duplicated in both conte t and page controller. It should probably move to the content model, not sure about that. Also adding some specs, which makes me think that pages should be rewriten from (almost) scratch.
    Makes the RSS description editable from the admin.
    
    This feature uses the same tags format as permalink definition %tag%. Available tags are:
    %author%: author name
    %blog_url%: blog base url
    %blog_name%: blog title
    %permalink_url%: permalink url
    
    This also does a little bit of cleaning as rss_description was duplicated in both Article and Content models. I need to find a way to add tests to this, both in the model and controller parts.
    
    [#165 state:resolved]
    Remove unused order scope that redefined order method.
    
    This scope declaration caused the following message to appear in the log:
    
      Creating scope :order. Overwriting existing method Content.order.
    Replacing deprecated named_scope
    Replace Object#returning with Object#tap.
    
    Object#returning is deprecated. Some instances were replaced with #tap,
    some pathological cases were removed and replaced with a simple return.
    Mass-removal of trailing whitespace.
    Fixes some nasty bugs with password protection. I need to add tests in the views
    Adding password protected posts. Things are done 100% AJAX because of the static cache. Logged in users are considered as being able to see a protected post. Protected posts content is removed from RSS feed. Need to add some specs, it's curious to see that they didn't break
    Fix spec about cache_support
    Fixes a bug in the admin / content search that made articles filtering break if the search string was empty
    Speed up Article#to_rss:
      - cache Content#blog
      - cache normalized url
      - do not calculate 'original article' text if not used
    count number article already published in Tag admin view. Avoid all draft article counting
    Fix escaping in feed for comments.
    Convert IRIs to URIs for inclusion in RSS feed.
    after upgrading a Typo 4.0.3 blog to 5.3.x the blog was "getting ActionView::TemplateError: undefined method `mail_to' for ContentTextHelpers" errors for any rss request, mail_to is in ActionView::Helpers::UrlHelper
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Correct some text
    change published_at mode SQL compiliant with PostgreSQL 8.3 by example
    Doing some cleaning removing typo_deprecated lib.
    Oooops
    Fixes a crash in the post RSS feed
    Fixing ticket 84: unpublished pages are listed
    fix bug about live_search with pouype
    fix bug #74. No feed rss generate if trackback in article
    change SQL specifique MySQL
    Fixes ticket 47 + search routing issue
    factorisation of page search in admin part like content search
    Fixing a bug in RSS when displaying comments RSS, adding the RSS description in ATOM as well
    Fixes a small issue in the rss copyright
    Adding RSS copyright information and appropriate settings
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes ticket 1244 error with postgresql database when accessing admin/content
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1783 820eb932-12ee-0310-9ca8-eeb645f39767
    Ditching Jabber notification, amongst other things
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1702 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds 3 classes in the default styles
    Update version number for 5.0.4
    Update README
    Fixes bug 1224 for non MySQL databases
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1695 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a couple of bugs, closing ticket 1224
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1694 820eb932-12ee-0310-9ca8-eeb645f39767
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweaked the atom feed to use the proper namespace
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1638 820eb932-12ee-0310-9ca8-eeb645f39767
    Got rid of some explicit &block arguments and replaced a call to send_file when caching with a redirect.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1637 820eb932-12ee-0310-9ca8-eeb645f39767
    Tests passing. Rails 2.0.2 required. I think we may be good to go for 5.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1602 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Much footling with the feedback state machine and various
    caching related things.
    
    I ''think'' cache sweeping should now be happening in all the
    right places, while being reasonably light on the CPU and memory.
    
    If you do come across cases where the cache isn't being emptied
    when it should, please let me know <pdcawley-typo@bofh.org.uk>
    or raise a ticket here and we'll look into it.
    
    Also, we've reinstated fragment caching; page caching comes with
    a whole host of gotchas that I'd rather not think about just now.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1511 820eb932-12ee-0310-9ca8-eeb645f39767
    A few tweaks to feeds
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1506 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    A big cleanup of the way content and feedback state is handled:
    
     * The ContentState:: namespace is gone. States now appear in the
       Article::States and Feedback::States namespace (or anywhere else
       that would be found through normal namespace resolution)
     * The magic now happens in lib/stateful.rb, which sets up the
      'has_state' declaration. Look at article.rb and feedback.rb for
       examples of it in use. Documentation and pluginification will happen.
       Eventually.
    
    Also, I've done a bit of spring cleaning on various content related
    classes and (shock!) added tests for Article#comment_closed?. Did
    _you_ know that wasn't being tested? Me neither.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1438 820eb932-12ee-0310-9ca8-eeb645f39767
    Turned of html fragment caching (ie, html generated by text filters)
    It turns out caching fragments meant whiteboards weren't getting
    generated properly and bad things were happening.
    
    And two layers of caching was a bit excessive.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1342 820eb932-12ee-0310-9ca8-eeb645f39767
    Assorted tweaks.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1301 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Mmm... instance caching... you know you *want* it!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1280 820eb932-12ee-0310-9ca8-eeb645f39767
    * The Content model no longer knows anything about the cache.
    * Reprecated the html helper
    * Implemented the 'html' helper in MailHelper. It turns out that
      ActionMailer doesn't do fragment caching, so in order to keep a
      consistent interface for accessing article html, we've implemented
      a version that doesn't attempt to do caching.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1265 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on effective cache sweeping
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1254 820eb932-12ee-0310-9ca8-eeb645f39767
    All sorts of tweaks and cleanups.
    
    Mainly, the feedback state machine has got a little more complex, allowing
    us to add a 'Content#publication_state_just_changed?' method. And having
    such a method means that there's now a bunch of places where we used to
    sweep the cache unnecessarily, but now we just don't sweep the cache.
    Which is no bad thing. Cache misses are bad m'kay?
    
    Also, I've rejigged the SpamProtection package, applying the Composed
    Method pattern, reordering some of the tests and generally making it try
    to decide quicker.
    
    There's lots more work to do here, but this will do for starters.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1253 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed some caching issues
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1248 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated text filters a bit more.  Cleaner.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1241 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Fall back to the "none" text filter by default.  Closes #1076
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1198 820eb932-12ee-0310-9ca8-eeb645f39767
    Big changes to the state engine for feedback. Feedback now starts off
    in the 'Unclassified' state and moves to either JustPresumedHam or
    PresumedSpam depending on the results of Feedback#classify (the various Just*
    states are there as one shot states to handle sending of notifications or
    registering of spam/ham classification with akismet). JustPresumedHam
    decays to PresumedHam as soon as the feedback has been saved and the
    notifications sent.
    
    And there they rest until the classifications are solidified by the blog
    administrator on the feedback page. Feedback ends up as either Spam or Ham
    with an intermediate 'JustMarkedAs*' step for registering with Akismet.
    
    It should be possible to do some useful filtering on the feedback page
    (for instance, only see those messages whose classification hasn't been
    confirmed), but for that we need to add a couple of boolean fields to the
    contents table.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1188 820eb932-12ee-0310-9ca8-eeb645f39767
    More hoisting
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1174 820eb932-12ee-0310-9ca8-eeb645f39767
    Tidying up the Content state machine, prior to implementing a feedback
    specific set of states.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1168 820eb932-12ee-0310-9ca8-eeb645f39767
    Made the content state an explicit field. The 'published' flag should now be
    thought of as a useful memoization for searching, but the state is authoritative.
    
    Making the state explicit paves the way to introducing feedback specific state
    machines and other goodies.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1159 820eb932-12ee-0310-9ca8-eeb645f39767
    Renaming Akismet.rb to akismet.rb.  Part 3 of 2
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1158 820eb932-12ee-0310-9ca8-eeb645f39767
    Add an extra require
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1149 820eb932-12ee-0310-9ca8-eeb645f39767
    Big spam filtering upgrade.
    
    This turns on Akismet filtering for all incoming comments and trackbacks.
    Comments (and trackbacks) that fail the spam check are marked as unpublished
    and can be deleted via the admin feedback page.
    
    In addition, the feedback page's publish/unpublish buttons now send feedback
    to Akismet (when enabled, of course).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1148 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix text_filter/text_filter_id issue.  Closes #948, #1005
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1146 820eb932-12ee-0310-9ca8-eeb645f39767
    Added #withdraw and #withdraw! to the content model which will correctly unpublish comments
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1134 820eb932-12ee-0310-9ca8-eeb645f39767
    A bunch of performance fixes (and also a couple created_at/published_at fixes).
    
    This drops our render time on my big DB from ~12 seconds to ~1 second.  That's still
    *way* too slow, but we're moving in the right direction.  We're down to ~40 queries
    for a 15-entry index page now, down from *300*.  And, half of the remaining queries
    are basically Blog.find(1).  I'm not sure why the eager loading on Articles isn't
    helping with this.
    
    This also closes #851--the archive sidebar was one of the big contenders, eating
    6 or 7 seconds per query.  It's down to a few ms now.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1086 820eb932-12ee-0310-9ca8-eeb645f39767
    Correctly handle blog_id == 0.  Closes #950
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1060 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a default blog_id to all content objects.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1058 820eb932-12ee-0310-9ca8-eeb645f39767
    Done some refactoring of 'send_notifications'
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1050 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed up some views and made 'published_at' fall back to 'created_at'.
    
    Everything publicly visible will be published, so falling back only
    affects the admin pages, where I think it's probably okay.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1049 820eb932-12ee-0310-9ca8-eeb645f39767
    Okay, this is the big, scary patch.
    
    Content is now using a state object to handle transitions between
    'new', 'draft', 'just_published', 'published' and 'publication_pending'
    states. The interesting states in that lot are:
    
      * just_published -- this is a transient state, nothing gets fetched
        from the object store in this state. content is marked as just
        published so that various things that should only happen when an
        article is just published (notifications, pings, etc) only happen
        once.
    
      * publication_pending -- this is when content is due to be published
        in the future. It generally means there's a trigger hanging about
        in the triggers table waiting to publish the article.
    
    At the moment the publication state isn't stored in the database, but derived
    from the 'published' flag and the 'published_at' field. I think we can
    survive like this for a while, but we may end up getting rid of the 'published'
    flag and replacing it with a publication_state field holding a simple
    memento that we can use to reconstruct the state object. (We can't just
    use slaird's {{{acts_as_state}}} plugin because that doesn't appear
    to use 'real' state objects that we can hang behaviour off, and I've
    switched us to using the state pattern precisely so I can hang behaviour
    off the states -- check out {{{ContentState::JustPublished}}} for an
    example of the kind of thing the state pattern lets you do.)
    
    Also, I've switched all the views I could find over to using
    {{{published_at}}} rather than {{{created_at}}}; if you're a theme author
    you might like to do the same.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1047 820eb932-12ee-0310-9ca8-eeb645f39767
    Deleting content before publication will now delete the trigger
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1044 820eb932-12ee-0310-9ca8-eeb645f39767
    Started the process of moving 'on publication' behaviour out of controllers and
    apis and onto observers. The observer implementations are currently just simple
    callbacks onto the content objects, but that may change in the medium to long
    term.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1043 820eb932-12ee-0310-9ca8-eeb645f39767
    The beginnings of some serious reworking of the way article publication,
    notifications, remote pings and (possibly) caching will work. After this patch
    an article's 'published' flag will never be set before its 'published_at' time.
    
    This is handled by introducing a 'triggers' table which holds a list of actions
    to perform on objects in the future. Every time the rails system gets a request,
    it performs any pending trigger actions. That way, although a message may well
    not be 'really' published until some time after its published_at time, it will
    appear as if it was.
    
    Next up, moving various 'on save' actions out of duplicated code in controllers
    
    NB: There's a bug in Rails that means that migration 45 shouldn't work with
    mysql or sqlite, hence the utterly gruesome monkey patch in
    lib/rails_patch/active_record.rb -- I look
    forward to the next release of Rails when I can get rid of those monstrosities.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1042 820eb932-12ee-0310-9ca8-eeb645f39767
    Various refactorings
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1033 820eb932-12ee-0310-9ca8-eeb645f39767
    Sing, muse the joy of pdcawley as he puts the monstrosity {{{article_url}}} and
    all its spawn to his sure swift sword and casts the tiny pieces down, down,
    ye even unto the very depths of The Pit.
    
    Bear witness as {{{Content#full_html}}} returns to the fray, trailing clouds of
    glory, renewing the vigour of old themes left withering in the TypoGarden.
    
    For, verily, I have returned the sensible API to its rightful place.
    
    (Oh, and if you ''must'' use them, {{{article_url}}} et al. will continue to work
    for the forseeable future, but I will insist on treating them like red headed
    stepchildren.)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1004 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Added tests and an associated fix for #742
    
    Also, because case statements are evil (Evil, you hear me, Evil!)
    I've got rid of a big case statement in XmlController
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@969 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix mysql/postgres problems with blog code--Blog.find(:first) doesn't always return Blog #1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@951 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix failing test on Postgres
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@909 820eb932-12ee-0310-9ca8-eeb645f39767
    Removes a couple of special case search methods from article.rb in
    favour of using some_tag.articles.find_already_published and
    some_category.articles.find_already_published
    
    I don't like special case searches that the framework can handle
    adequately.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@906 820eb932-12ee-0310-9ca8-eeb645f39767
    Integrated patch 526
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@872 820eb932-12ee-0310-9ca8-eeb645f39767
    Do a much better fix for the auto-linking problem. Markdown once again auto-links, but now sanitization and linking is done on the HTML value of the comment, not the source value. This also has the benefit of making auto-linking work on comment previews. Fixes #685
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@862 820eb932-12ee-0310-9ca8-eeb645f39767
    Add lightbox support as per ticket #651. However, the implementation varies slightly from the patch. The macro is the same, but the script/stylesheet includes are now done automatically whenever you use the {{{<typo:lightbox>}}} macro. This still requires themes to update themselves, but this update is more generalized, and is explained below.
    Textfilters are now passed a model object in addition to the controller object whenever the model object is known. Any custom textfilters will need to be updated. If you do use the model object be sure to check for nil.
    There is now a helper method to provide most of the contents of the {{{<head>}}} tag. Look at Azure for usage. This not only means update-once apply-everywhere, but it ties directly into the next change.
    Textfilters can now add includes to the header via the Content object's whiteboard. For that matter, anything with access to a whiteboard can do this, but it was intended primarily for textfilters. The mechanism for this is by adding a key to the whiteboard called {{{page_header_*}}} where * can be anything. The value of this key is inserted into the {{{<head>}}} tag. The headers of all the rendered content objects are coalesced so if, for example, 2 Articles declare the same includes it will only show up once in the {{{<head>}}} tag. This is a straight equality comparison so don't fall afoul of whitespace. For usage, check out the Lightbox textfilter.
    There are two primary benefits of this change. The first is that any addition, like a textfilter, that needs includes can add them without worrying about updating everybody's theme. Second, includes that aren't necessary will not show up. By this I mean the lightbox javascript/css includes will not show up in {{{<head>}}} unless a rendered Content object actually uses the {{{<typo:lightbox>}}} macro. We may want to consider moving the {{{<typo:code>}}} syntax coloration into a separate CSS file and adding it the same way.
    Also modify register_onload to use prototype's Event.observe - this works around not only a bug in Safari (I think), but also keeps themes like lush from interfering by setting body's onload directly in the layout. I recommend modifying any existing themes that need onload handlers to use register_onload() as well.
    Closes #651.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@848 820eb932-12ee-0310-9ca8-eeb645f39767
    In which your maintainer has a Sunday morning crisis of confidence... this patch will be back after some more tinkering.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@837 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged the fixed cache branch back to the trunk. Sorry for letting something broken escape like that in the first place
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@836 820eb932-12ee-0310-9ca8-eeb645f39767
    Revert [830] as it should have been applied on a branch
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@831 820eb932-12ee-0310-9ca8-eeb645f39767
    Started down the road to abstemious cache sweeping. Headline change is that
    adding/deleting comments and trackbacks no longer needs to rebuild the world
    
    Most of the magic happens in controllers/application.rb, which is responsible
    for creating PageCache entries and linking them appropriately.
    
    BlogSweeper then makes use of the extra information to do intelligent cache
    sweeping -- as time goes by, expect more intelligence to appear.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@830 820eb932-12ee-0310-9ca8-eeb645f39767
    Rolled back mistaken changes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@821 820eb932-12ee-0310-9ca8-eeb645f39767
     r819@Menhir:  pdcawley | 2006-01-06 10:15:08 +0000
     Getting order screen working again
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@820 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@819 820eb932-12ee-0310-9ca8-eeb645f39767
    Turned Content.published into a real boolean. Which has surprisingly far reaching effects.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@790 820eb932-12ee-0310-9ca8-eeb645f39767
     r711@Menhir:  pdcawley | 2005-12-06 02:39:07 +0000
     Hopefully rolling back 768
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@772 820eb932-12ee-0310-9ca8-eeb645f39767
     r696@Menhir:  pdcawley | 2005-12-04 15:26:19 +0000
     Added counter_caching for comments and trackbacks
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@769 820eb932-12ee-0310-9ca8-eeb645f39767
     r690@Menhir:  pdcawley | 2005-11-26 13:45:14 +0000
     Added tables and relationships to handle cache tracking
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@768 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    More filtering cleanup.  Closes #459
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@699 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrade Typo to run with Rails 0.14.1 (AKA 1.0rc2)
    
    This required a few minor changes, and I took the opportunity to do a bit of
    refactoring that I'd been avoiding for a while--text filters no longer use
    render() to do their filtering.  That was broken with 1.0, and I've been
    meaning to fix it anyway.
    
    All tests now pass for me, but I haven't tested it extensively outside of
    the unit test system, so be careful.
    
    This may or may not work with 0.13.1--there's no reason why it shouldn't, but
    it's untested.  I'm going to include a few 1.0rc2-specific cleanups soon, so
    the days of the trunk working with 0.13.1 are numbered.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@685 820eb932-12ee-0310-9ca8-eeb645f39767
    pdcawley's article preview fix.  closes #430
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@665 820eb932-12ee-0310-9ca8-eeb645f39767
    The second half of the previous merge.  Oops.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@661 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds permalink field to category creation
    Force categories to use to_permalink
    Removing useless Javascript based category reorder interface. Categories will now be ordered by name, which looks like the most likely way to do it. This is a first step to sub categories as the order interface prevented from having them.
    
    Helpers will probably come later to chose the way people want the categories to be displayed.
    Remove shared RSS feed builder and all #to_rss methods.
    Remove shared Atom feed builder and all #to_atom methods.
    fix spec error in category model, fix order with rails override default_scope method
    Homogenize permalink_url behavior.
    count number article already published in Tag admin view. Avoid all draft article counting
    fix error in categories has_many. Maybe a postgreSQL issue. Test with MySQL please
    Adding subcategories
    Giving Typo some SEO capabilities
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1849 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on rejigging tests and fixtures to solely use symbolic ids for
    fixtures. Also, removed the second blog from the test fixtures as a first
    step towards getting the core back to one blog per database.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1621 820eb932-12ee-0310-9ca8-eeb645f39767
    A couple of little buglets fixed.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1526 820eb932-12ee-0310-9ca8-eeb645f39767
    Right ho, /articles/category now redirects to /articles/categories,
    which is a resource now.
    
    Eventually, CategoriesController will take on the duties of
    Admin::CategoriesController, but not quite yet, for now it just handles
    index and show.
    
    Note that we've also introduced a new type of resource, the 'inflected_resource'
    which uses /articles/categories/... for its collection methods, but
    /articles/category/whatever for its members. This means that you we can
    have a category with a permalink of 'new' and it won't clash with with the
    admin form for creating a new category.
    
    Isn't that lovely?
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1510 820eb932-12ee-0310-9ca8-eeb645f39767
    Gave user, tag and category semantically meaningful to_param methods.
    
    Fixed the tag and category sidebars to use the new style named routes.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1481 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    fix a stupid typo and add more functionnalities in the rich editor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1406 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the text filters not loading bug
    Changes the design destination menu from themes to sidebar
    Reverts the changeset 1403 : including the whole contents tables was really a bad idea and made every posts crash with a fairly decent blog.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1405 820eb932-12ee-0310-9ca8-eeb645f39767
    replace a ugly sql query with the magic of :include
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1403 820eb932-12ee-0310-9ca8-eeb645f39767
    * Fixed a couple of broken tests introduced by the changes in title_prefix
    * Nailed a few other issues brought up while porting tests to RSpec
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1323 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Same fix, but for categories.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1237 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    The beginnings of some serious reworking of the way article publication,
    notifications, remote pings and (possibly) caching will work. After this patch
    an article's 'published' flag will never be set before its 'published_at' time.
    
    This is handled by introducing a 'triggers' table which holds a list of actions
    to perform on objects in the future. Every time the rails system gets a request,
    it performs any pending trigger actions. That way, although a message may well
    not be 'really' published until some time after its published_at time, it will
    appear as if it was.
    
    Next up, moving various 'on save' actions out of duplicated code in controllers
    
    NB: There's a bug in Rails that means that migration 45 shouldn't work with
    mysql or sqlite, hence the utterly gruesome monkey patch in
    lib/rails_patch/active_record.rb -- I look
    forward to the next release of Rails when I can get rid of those monstrosities.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1042 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Was this *really* necessary?.  Send is nice, but it's not exactly clear.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@910 820eb932-12ee-0310-9ca8-eeb645f39767
    Removes a couple of special case search methods from article.rb in
    favour of using some_tag.articles.find_already_published and
    some_category.articles.find_already_published
    
    I don't like special case searches that the framework can handle
    adequately.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@906 820eb932-12ee-0310-9ca8-eeb645f39767
    Closes #222
    
    Which means that you can now post an article with a creation date some time
    in the future and it won't appear in your blog until that point.
    
    For bonus points, so long as you are using action caching instead of page
    caching (and you should be!), the cache will be expired correctly.
    
    Essentially, every cachable request checks for the next article in the future
    and sets response.lifetime to that point. Which means that the cache expires
    just before the article is due to show, et voila!
    
    The admin interface for this is the same as it ever was, you have to click on
    advanced options and set the created_at value appropriately. Patches are
    welcome if you have better interface ideas.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@905 820eb932-12ee-0310-9ca8-eeb645f39767
    Turned Content.published into a real boolean. Which has surprisingly far reaching effects.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@790 820eb932-12ee-0310-9ca8-eeb645f39767
    Add tag/category lists.  Closes #478
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@707 820eb932-12ee-0310-9ca8-eeb645f39767
     * Fixed Category::find_all_with_article_counters to include empty categories again (closes #377)
     * Fixed category sidebar configuration to actually update the settings properly if neither of the checkboxes are checked (closes #396)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@645 820eb932-12ee-0310-9ca8-eeb645f39767
    Make categories sort case-insensitively
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@617 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix category list to not show unpublished articles.  Fix category tests to actually test using fixtures.  (closes #377)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@604 820eb932-12ee-0310-9ca8-eeb645f39767
    Made categories drag'n'drop sortable in category admin, also provides a quick and easy way to one-click sort them alphabetically (closes #308) [atmos]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@564 820eb932-12ee-0310-9ca8-eeb645f39767
    Swapped out hardcoded table names in raw SQL statements by more flexible Model.table_name calls allowing the use of Rails' table_name prefix/suffix settings (closes #342) [Jakob S]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@557 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix category sort order to work correctly w/ mixed upper and lower case categories.  (closes #322)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@544 820eb932-12ee-0310-9ca8-eeb645f39767
    Change the category list to be ordered by name, not position.  (closes #305)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@522 820eb932-12ee-0310-9ca8-eeb645f39767
    Closes #201.  Also adds validations on models
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@447 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix category sidebar on Postgres
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@428 820eb932-12ee-0310-9ca8-eeb645f39767
    Select permalink in find_all_with_article_counters
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@404 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged permalink patch which no longer breaks links when the blog author changes an article title. It also allows for custom permalinks by editing it via the content admin. Storing permalinks in the database also means we're no longer doing nasty string comparisons for permalink-accessed articles since we're able to do a direct SQL query on that column. (closes #147)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@394 820eb932-12ee-0310-9ca8-eeb645f39767
     * Changes in [324] broke Pgsql, fixed by this commit (closes #150) [wac+typo@carrel.org]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@325 820eb932-12ee-0310-9ca8-eeb645f39767
     * Removed SQLite incompatibility in Category::find_all_with_article_counters (fixes #150)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@324 820eb932-12ee-0310-9ca8-eeb645f39767
     * Fix for category counter showing 1 for empty categories
     * Default to name based ordering if position is 0
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@321 820eb932-12ee-0310-9ca8-eeb645f39767
     * Added count for articles within each category displayed in categories partial (closes #70)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@318 820eb932-12ee-0310-9ca8-eeb645f39767
    added categories admin. fixes #20
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@210 820eb932-12ee-0310-9ca8-eeb645f39767
    removed config/config.yml, on first request you will be redirected to settings/install to enter the values. This page is currently not protected, need to come up with something
    before next release.
    Added categories to the right hand side
    Fixed the ordering of articles in the categories filtered view
    Added a config manager
    Adjusted html of live preview
    Created settings table
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@93 820eb932-12ee-0310-9ca8-eeb645f39767
    Article trackback inbound and outbound should be fully working now.
    Category trackback coming soon.
    Some small code cleanups.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@83 820eb932-12ee-0310-9ca8-eeb645f39767
    added patch for categories support
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@34 820eb932-12ee-0310-9ca8-eeb645f39767
    Make sure a blog object is available for page specs.
    Fixes permalink not being correctly updated when updating a permalink. closes #62
    
    The old behavior was rather buggy as it created a new redirect everytime an article or page permalink was updated. This shortened URL was never displayed because we only called the first redirect instead of the last one.
    
    This commit:
    
    * Fixes existing old shortened URL showing when multiple shorten URLS exist
    * Fixes this behavior by updating the existing shortened URL when a published article or page permalink is updated
    * Moves the shortened URL creation from controller to model
    * Removes duplicate code between admin/content_controller and admin/page_controller
    * Adds specs as this part was never tested before
    * Tells a story about a young farm boy, a princess called Buttercup (silly name if you want my opinion), true love and high adventure, pirates, princess, giants, miracles, fencing, and rodents of unusual size.
    Moves permalink sanitization to String with a new to_permalink method.
    
    Refactores existing code to remove duplicate code entries and not needed mthods when building the permalink from the model.
    Get behind me, Satan!
    Remove some unused methods.
    Remove unused extend ActiveSupport::Memoizable.
    This one fixes the way articles are displayed in the administration and repairs pagination. I need a way to test this, YAF?
    
    Default index scope would show posts with no draft status ordered by creation date. Expected behavior is to display them ordered by publication date, otherwise to be published posts would never show where they should be.
    
    This needs to be completely rewriten because:
    – Drafts should be in the posts listing, but ordered by creation date as they do not have a publication date.
    – There should be a way to filter on drafts, published, withdrawn and publication pending posts.
    
    Good point: this would mean lots of code simplification, and I like it.
    Replacing old will_paginate with scope based Kaminari.
    Yo dawg, I heard you like typos so I put an epic typo in your typo so you can typo while you typo
    create a Satanizable module, remove duplication about clean accents (by move method in satanizable)...
    Adds options to articles and pages.
    
    They make both models extendable by plugins creators without adding new fields and therefore should be considered like Wordpress custom fields. Only password was migrated because we may consider it as an optionnal field.
    
    Next step is to add a custom fields part in the editor, but I don't know how to do it yet.
    Mass-removal of trailing whitespace.
    Fix Blog#url_for for sub-uri deployments
    Doing some cleaning removing typo_deprecated lib.
    factorisation of page search in admin part like content search
    Fixes a couple of bugs, closing ticket 1224
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1694 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    – Fixed a few bugs
    – Added the week in refactoring patch
    – Added the rights table and the profile to rights one.
    – Populated the new tables.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1494 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated text filters a bit more.  Cleaner.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1241 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    I've havered over doing this for a while now, if only because Rails
    is very strongly of the opinion that models don't need to know about
    url_for.
    
    Which is all very well, but Blog is a model of something that has
    contents accessible through urls.
    
    As always in these matters, the true test of whether something's a
    good idea or not is:
    
      Does it make the code clearer?
    
    And in this case, I think it does. By adding Blog#url_for, and
    especially by allowing it to take an object that responds to
    {{{location(anchor=nil, only_path=true)}}} I've managed to
    refactor out a great deal of repetition.
    
    Since url_for is also the stumbling block which stops us turning
    textfilters back into models, you can also consider this as a
    step along the road to making textfilters a little less weird.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1036 820eb932-12ee-0310-9ca8-eeb645f39767
    Various refactorings
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1033 820eb932-12ee-0310-9ca8-eeb645f39767
    Added tests and an associated fix for #742
    
    Also, because case statements are evil (Evil, you hear me, Evil!)
    I've got rid of a big case statement in XmlController
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@969 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    BACK UP YOUR DATABASE BEFORE RUNNING THESE MIGRATIONS.  Merge pdcawley's big superclass patch.  This rolls articles, pages, comments, and trackbacks into one big table, using STI.  This lets us get rid of a huge amount of duplicated code; diffstat shows a net of -148 lines, and the resulting code looks cleaner.  Closes #414
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@660 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
     * Added title attributes to static pages and the name of the page in question to the page destroy page (closes #236) [atmos]
     * Also fixed label for values to match the corresponding fields
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@464 820eb932-12ee-0310-9ca8-eeb645f39767
    polish for the (Static-) Pages admin controller.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@402 820eb932-12ee-0310-9ca8-eeb645f39767
    Add static pages.  Also fixes a caching bug (the new PageCache was broken due to :name/:page_name mix).  (closes #181)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@391 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove outdated comment.
    Fixes comment moderation when using Akismet
    some refactoring to remove unuse code
    Expect web URLs to start with http or https, not just http.
    
    This fixes bug [#200].
    Clean up state triggers.
    
    In the State classes, before_save and friends were generating deprecation
    warnings. Rename these methods and remove them if unused.
    Fix some more deprecations.
    Replace Object#returning with Object#tap.
    
    Object#returning is deprecated. Some instances were replaced with #tap,
    some pathological cases were removed and replaced with a simple return.
    When sent by an authenticated user, commens should be marked as ham even with comment moderation enabled.
    Make only_path mean what it says, instead of the opposite.
    Fixing a bug stupid bug
    Adds try / catch to feedback classification in order to avoir Akismet timeout
    simplify the validation of feedback
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    UrlPolicy refactoring
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1670 820eb932-12ee-0310-9ca8-eeb645f39767
    More UrlPolicy work.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1669 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Much footling with the feedback state machine and various
    caching related things.
    
    I ''think'' cache sweeping should now be happening in all the
    right places, while being reasonably light on the CPU and memory.
    
    If you do come across cases where the cache isn't being emptied
    when it should, please let me know <pdcawley-typo@bofh.org.uk>
    or raise a ticket here and we'll look into it.
    
    Also, we've reinstated fragment caching; page caching comes with
    a whole host of gotchas that I'd rather not think about just now.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1511 820eb932-12ee-0310-9ca8-eeb645f39767
    More smallish refactorings. Just easing my way back
    into the code.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1508 820eb932-12ee-0310-9ca8-eeb645f39767
    A big cleanup of the way content and feedback state is handled:
    
     * The ContentState:: namespace is gone. States now appear in the
       Article::States and Feedback::States namespace (or anywhere else
       that would be found through normal namespace resolution)
     * The magic now happens in lib/stateful.rb, which sets up the
      'has_state' declaration. Look at article.rb and feedback.rb for
       examples of it in use. Documentation and pluginification will happen.
       Eventually.
    
    Also, I've done a bit of spring cleaning on various content related
    classes and (shock!) added tests for Article#comment_closed?. Did
    _you_ know that wasn't being tested? Me neither.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1438 820eb932-12ee-0310-9ca8-eeb645f39767
    Added default sitewide comments and trackback moderation
    Removed blogs now running Mephisto from the Static sidebar plugin
    Added mine. Blogging is just a question of ego isn't it ?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1373 820eb932-12ee-0310-9ca8-eeb645f39767
    Reduced 'commenter facing' spam classification timeouts. A ten minute total
    timeout means people *will* be aborting requests.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1328 820eb932-12ee-0310-9ca8-eeb645f39767
    First step on a long needed refactoring. We're splitting the contents table into
    two. We now have a contents table, which contains Pages and Articles, and a
    Feedback table, which contains Comments and Trackbacks. There's still a bunch of
    null columns in each table, and the indexing needs tweaking, but it's a start.
    
    NB: The migration is untested on anything but my Mysql installation and if it
    goes wrong you stand to lose all your feedback. So take a backup before you
    try it. The Migration itself throws an exception by default to remind you to do the
    backup. Comment it out once you're safe (or brave/foolhardy).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1302 820eb932-12ee-0310-9ca8-eeb645f39767
    All sorts of tweaks and cleanups.
    
    Mainly, the feedback state machine has got a little more complex, allowing
    us to add a 'Content#publication_state_just_changed?' method. And having
    such a method means that there's now a bunch of places where we used to
    sweep the cache unnecessarily, but now we just don't sweep the cache.
    Which is no bad thing. Cache misses are bad m'kay?
    
    Also, I've rejigged the SpamProtection package, applying the Composed
    Method pattern, reordering some of the tests and generally making it try
    to decide quicker.
    
    There's lots more work to do here, but this will do for starters.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1253 820eb932-12ee-0310-9ca8-eeb645f39767
    Made views respect the published/unpublished state of any feedback
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1249 820eb932-12ee-0310-9ca8-eeb645f39767
    More 4.1 cleanups.  Complete move from serialized canonical_server_url to non-serialized base_url.
    Add a bunch of rdoc.  More deprecations and cleanups.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1242 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Added some filtering to the feedback page. You can now limit the listing to get rid
    of articles whose classification you have confirmed as well as a simple spam/ham
    filter.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1218 820eb932-12ee-0310-9ca8-eeb645f39767
    Bloody editor autocompletion! I hates it sometimes I tell you.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1189 820eb932-12ee-0310-9ca8-eeb645f39767
    Big changes to the state engine for feedback. Feedback now starts off
    in the 'Unclassified' state and moves to either JustPresumedHam or
    PresumedSpam depending on the results of Feedback#classify (the various Just*
    states are there as one shot states to handle sending of notifications or
    registering of spam/ham classification with akismet). JustPresumedHam
    decays to PresumedHam as soon as the feedback has been saved and the
    notifications sent.
    
    And there they rest until the classifications are solidified by the blog
    administrator on the feedback page. Feedback ends up as either Spam or Ham
    with an intermediate 'JustMarkedAs*' step for registering with Akismet.
    
    It should be possible to do some useful filtering on the feedback page
    (for instance, only see those messages whose classification hasn't been
    confirmed), but for that we need to add a couple of boolean fields to the
    contents table.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1188 820eb932-12ee-0310-9ca8-eeb645f39767
    Reversed the sense of some test names for clarity. DeMorgan is my friend.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1175 820eb932-12ee-0310-9ca8-eeb645f39767
    More hoisting
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1174 820eb932-12ee-0310-9ca8-eeb645f39767
    o/~ Pull up to the feedback baby... o/~
    
    Pulled up a bunch of methods from Comment and Trackback up into
    Feedback.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1172 820eb932-12ee-0310-9ca8-eeb645f39767
    Added a Feedback class, inherits from Content and is inherited by Comment and Trackback.
    Currently it does nothing, but we shall be pulling methods up into it (and pushing 'em
    down from Content in all probability)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1169 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes broken login and user creation.
    
    Seems like the class_attribute method actually needs a method to return. That's the reason why a simple salt='foodbar' followed by a class_attribute :salt returned nil. I've added a simple test to ensure that User.salt is never nil, but shouldn't this be protected?
    Clean up User model.
    Remove unused extend ActiveSupport::Memoizable.
    Setting up things so we can soon (or later) add a second administration color stylesheet (or two, or three...). I have some nice ideas you can easily imagine for that one
    Add simple_editor? to user, and clean user_spec.
    Remove trailing whitespace.
    Fix User#permalink_url: There is no UsersController.
    Migrating users to the same config manager we're using for blogs.
    
    The goal is to be able to dynamically extend users with new settings without adding a new collumn each time.
    
    The migration is a bit ugly.
    
    Problem: settings names overlap fields names.
    Solution: rename columns, migrate, remove columns.
    
    There must be a better way to do it but...
    1. I didn't find it.
    2. I'm lost in the countryside where I need to go to the back of the
    garden to have a phone connection and in the middle of a field to have
     a chance to get my emails. So asking for help / advice on the interweb was not possible.
    
    At least it works
    
    Some fields were not migrated because we do some User.find on them :
    – notify_via_email
    – notify_on_new_articles
    – notify_on_comments
    Law of Demeter fix for User.profile.label.
    Small Law of Demeter fix (eases mocking for view specs).
    Homogenize permalink_url behavior.
    Replace deprecated save(false).
    Fix ActionMailer deprecations.
    
    - #deliver is an instance method now.
    - #create_notif_user is replaced by #notif_user.
    Replace Object#returning with Object#tap.
    
    Object#returning is deprecated. Some instances were replaced with #tap,
    some pathological cases were removed and replaced with a simple return.
    Mass-removal of trailing whitespace.
    Adds a restriction on unique email (how come didn't it already exist, [#170,solved]
    Adds a better setup, some things may need some refactoring (like moving generated password in the model, but can't make it without having specs failing)
    Fix double save bug in User.
    Adding a recover password functionnality (better late than never huh ?
    Fix testability of accounts controller
    
    Refactor time update code into user model from
    controller.
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Removes a useless debug string
    Adjust model to make password handling specs pass.
    Removing cached_model + memcache, useless since we're now doing static caching. First step for Typo diet
    Users creation simplification. Users have now their password generated, and display name is set as login
    Introduces users deactivation. Needs some fine tuning to be really good
    Added text filters back on pages nd articles forms, moved text filters to users instead of global configuration
    add security where a publisher can't delete feedback to article not own. Spec write with it
    Rejiged login and signup forms.
    Added 'remember me' functinnality (at last)
    Brings back the per users  page. Need a bit of cleaning, but this starts looking good
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1809 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds login / password email at user's creation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1723 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the issue with a user profile not getting set.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1608 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug in user model
    Fixes ticket 560
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1580 820eb932-12ee-0310-9ca8-eeb645f39767
    More refactoring of the groupings - the individual groupings_controllers have now
    almost completely disappeared...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1522 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix a typo beaking the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1491 820eb932-12ee-0310-9ca8-eeb645f39767
    Enables the users profiles
    Fix a bug breaking users editing
    Refactors the user list displays
    
    Next step is : add rights, link profiles to right (statically), links actions to rights and here we go for multiusers
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1489 820eb932-12ee-0310-9ca8-eeb645f39767
    Gave user, tag and category semantically meaningful to_param methods.
    
    Fixed the tag and category sidebars to use the new style named routes.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1481 820eb932-12ee-0310-9ca8-eeb645f39767
    adding a bit of multi users this and that
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1472 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Mmm... instance caching... you know you *want* it!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1280 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Added an /articles/author/whoever action for listing articles by a given author
    (based on #825). Nothing's linking to it in the default theme though.
    
    /articles will list the authors, obviously.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1027 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
     r875@obelisk:  pdcawley | 2005-12-07 13:56:22 +0000
     Tweaked user to eliminate a little weirdness about setting passwords.
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@817 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Allow the user to change their email address or displayed name without changing their password.  Fixes unit tests, as pointed out in [357].  Also fixes BloggerAPI.newPost to pass functional tests.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@360 820eb932-12ee-0310-9ca8-eeb645f39767
     * Changes in [324] broke Pgsql, fixed by this commit (closes #150) [wac+typo@carrel.org]
    
     * Implemented BloggerAPI.newPost (closes #185, #79)
     * Added test coverage for BloggerAPI.getUserInfo
     * Reverted (accidential?) changes to User model in [354], making User tests pass again
     * Added test coverage for [354] and [355] making Configuration tests pass again
       Scott: Please be sure to run rake before committing and adjust tests according to your changes. Thanks.
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@357 820eb932-12ee-0310-9ca8-eeb645f39767
    Provide an optional mailto: link on article author names. (closes #156)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@354 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Updating sidebar interface
    Deprecate use of view_root in sidebar plugins.
    
    My vision is for the FooSidebar partial to live in
    
      vendor/plugins/foo_sidebar/views/foo_sidebar/_content.html.erb
    
    which means it can be rendered by just specifying
    
      render "/foo_sidebar/content"
    
    since Rails will add all plugins' views directories to the view path.
    Clean up sidebars table if it contains a record with an invalid type.
    Fixes on sidebar admin
    Rebuilds sidebar selection. Closes ticket #35
    remove text area escaping becuase done automaticly in rails 2.3.3.
    fix bulk feedback checkbox bug caused by change in processing order
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    Got rid of some explicit &block arguments and replaced a call to send_file when caching with a redirect.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1637 820eb932-12ee-0310-9ca8-eeb645f39767
    Take advantage of the blog/sidebar links
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1251 820eb932-12ee-0310-9ca8-eeb645f39767
    * Moved sidebar views into the correct plugin directory
    * Linked sidebars to the blog
    * Added better diagnostics to migration 54
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1246 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    I continue to pick away at the Sidebar system. In this patch we:
    
      * Pull Sidebars::Plugin out into lib
      * Add a Sidebars::!ComponentPlugin which all component based sidebars
        inherit from (not that there are any other sorts of sidebar yet. Bear
        with me
      * Pulled !SidebarController out of components and into app/controllers
      * Lay groundwork for eliminating {{{staged_position}}} from the Sidebar
        model
    
    We've also got the beginnings of a sidebar preview here, /sidebar will
    show you a dummy article with a sidebar -- eventually this should work
    to show you a preview of the staged sidebar configuration.
    
    Coming up, a way of calling actions other than 'configure' and 'content'
    on your sidebars -- a necessity for advanced navigation tools for
    instance.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1002 820eb932-12ee-0310-9ca8-eeb645f39767
    More sidebar jiggery pokery. The new Admin::SidebarController means that we don't need staged and
    active configs on the Sidebar object any more, just a straightforward 'config'. Isn't that cute?
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@991 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Configurable sidebars.  (closes #157, #103)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@364 820eb932-12ee-0310-9ca8-eeb645f39767
    Added explicit require to text_filter.rb
    clean around text_filter (spec)
    Doing some cleaning removing typo_deprecated lib.
    Removing cached_model + memcache, useless since we're now doing static caching. First step for Typo diet
    A bit of rearrangement in views/xml
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1555 820eb932-12ee-0310-9ca8-eeb645f39767
    Mmm... instance caching... you know you *want* it!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1280 820eb932-12ee-0310-9ca8-eeb645f39767
    * The Content model no longer knows anything about the cache.
    * Reprecated the html helper
    * Implemented the 'html' helper in MailHelper. It turns out that
      ActionMailer doesn't do fragment caching, so in order to keep a
      consistent interface for accessing article html, we've implemented
      a version that doesn't attempt to do caching.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1265 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Flatten filter help text.  Avoids bug.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1154 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Add lightbox support as per ticket #651. However, the implementation varies slightly from the patch. The macro is the same, but the script/stylesheet includes are now done automatically whenever you use the {{{<typo:lightbox>}}} macro. This still requires themes to update themselves, but this update is more generalized, and is explained below.
    Textfilters are now passed a model object in addition to the controller object whenever the model object is known. Any custom textfilters will need to be updated. If you do use the model object be sure to check for nil.
    There is now a helper method to provide most of the contents of the {{{<head>}}} tag. Look at Azure for usage. This not only means update-once apply-everywhere, but it ties directly into the next change.
    Textfilters can now add includes to the header via the Content object's whiteboard. For that matter, anything with access to a whiteboard can do this, but it was intended primarily for textfilters. The mechanism for this is by adding a key to the whiteboard called {{{page_header_*}}} where * can be anything. The value of this key is inserted into the {{{<head>}}} tag. The headers of all the rendered content objects are coalesced so if, for example, 2 Articles declare the same includes it will only show up once in the {{{<head>}}} tag. This is a straight equality comparison so don't fall afoul of whitespace. For usage, check out the Lightbox textfilter.
    There are two primary benefits of this change. The first is that any addition, like a textfilter, that needs includes can add them without worrying about updating everybody's theme. Second, includes that aren't necessary will not show up. By this I mean the lightbox javascript/css includes will not show up in {{{<head>}}} unless a rendered Content object actually uses the {{{<typo:lightbox>}}} macro. We may want to consider moving the {{{<typo:code>}}} syntax coloration into a separate CSS file and adding it the same way.
    Also modify register_onload to use prototype's Event.observe - this works around not only a bug in Safari (I think), but also keeps themes like lush from interfering by setting body's onload directly in the layout. I recommend modifying any existing themes that need onload handlers to use register_onload() as well.
    Closes #651.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@848 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@819 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix filter parameter passing.  Closes #474
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@706 820eb932-12ee-0310-9ca8-eeb645f39767
    More filtering cleanup.  Closes #459
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@699 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrade Typo to run with Rails 0.14.1 (AKA 1.0rc2)
    
    This required a few minor changes, and I took the opportunity to do a bit of
    refactoring that I'd been avoiding for a while--text filters no longer use
    render() to do their filtering.  That was broken with 1.0, and I've been
    meaning to fix it anyway.
    
    All tests now pass for me, but I haven't tested it extensively outside of
    the unit test system, so be careful.
    
    This may or may not work with 0.13.1--there's no reason why it shouldn't, but
    it's untested.  I'm going to include a few 1.0rc2-specific cleanups soon, so
    the days of the trunk working with 0.13.1 are numbered.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@685 820eb932-12ee-0310-9ca8-eeb645f39767
    BACK UP YOUR DATABASE BEFORE RUNNING THESE MIGRATIONS.  Merge pdcawley's big superclass patch.  This rolls articles, pages, comments, and trackbacks into one big table, using STI.  This lets us get rid of a huge amount of duplicated code; diffstat shows a net of -148 lines, and the resulting code looks cleaner.  Closes #414
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@660 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    Clean up User model.
    Mass-removal of trailing whitespace.
    add security where a publisher can't delete feedback to article not own. Spec write with it
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few things here and there.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1677 820eb932-12ee-0310-9ca8-eeb645f39767
    adding a bit of multi users this and that
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1472 820eb932-12ee-0310-9ca8-eeb645f39767
    comments concat
    comment changes
    changed models
    fixes for comments
    merge creating new article
    first cucumber test passing
    Fixes issue 55: ActionView::Template::Error (settings was supposed to be a Hash, but was a String)
    
    Thank you to Georges Arnould for finding out and fixing.
    Fixes permalink not being correctly updated when updating a permalink. closes #62
    
    The old behavior was rather buggy as it created a new redirect everytime an article or page permalink was updated. This shortened URL was never displayed because we only called the first redirect instead of the last one.
    
    This commit:
    
    * Fixes existing old shortened URL showing when multiple shorten URLS exist
    * Fixes this behavior by updating the existing shortened URL when a published article or page permalink is updated
    * Moves the shortened URL creation from controller to model
    * Removes duplicate code between admin/content_controller and admin/page_controller
    * Adds specs as this part was never tested before
    * Tells a story about a young farm boy, a princess called Buttercup (silly name if you want my opinion), true love and high adventure, pirates, princess, giants, miracles, fencing, and rodents of unusual size.
    Moves the permalink generation to model
    Moves permalink sanitization to String with a new to_permalink method.
    
    Refactores existing code to remove duplicate code entries and not needed mthods when building the permalink from the model.
    Fixes issue 55: ActionView::Template::Error (settings was supposed to be a Hash, but was a String)
    
    Thank you to Georges Arnould for finding out and fixing.
    Use Sanitizable in the Article model.
    
    Removes the existing duplicate implementation of the same functionality.
    Remove useless calls to #changed.
    
    The intent of this code seems to have been to avoid model objects being
    marked dirty when the new value is the same as the old. However, this code
    didn't do that since #changed just returns the names of the changed
    attributes. Also, current ActiveRecord already avoids marking models as
    dirty when the new value is the same as the old.
    Clean up Content methods.
    
    Simplify html_map so id need not be overridden; Let self.content_fields
    create #content_fields; Remove unused methods.
    
    Also, fix some comments.
    Remove unused extend ActiveSupport::Memoizable.
    One should run spec before commiting
    Drafts should be displayed like every other article
    Drafts should be displayed like every other article
    Adding per state filtering on articles listing + better display for drafts.
    - default: everything but draft.
    - published articles
    - drafts
    - publication pending
    - withdrawn
    This one fixes the way articles are displayed in the administration and repairs pagination. I need a way to test this, YAF?
    
    Default index scope would show posts with no draft status ordered by creation date. Expected behavior is to display them ordered by publication date, otherwise to be published posts would never show where they should be.
    
    This needs to be completely rewriten because:
    – Drafts should be in the posts listing, but ordered by creation date as they do not have a publication date.
    – There should be a way to filter on drafts, published, withdrawn and publication pending posts.
    
    Good point: this would mean lots of code simplification, and I like it.
    Fixes a bug setting up a post as published everytime you edit it even for a draft
    Replacing old will_paginate with scope based Kaminari.
    Move get_or_build article to Article model (from content_controller). I hope it's a better place...
    use published_at, not created_at to determine when comments shall be closed
    use named scope for selecting published articles
    Remove shared RSS feed builder and all #to_rss methods.
    Remove shared Atom feed builder and all #to_atom methods.
    Protect password-protected articles in Atom feed (again).
    Test atom feed view partial for articles with tags, categories and resources.
    
    Adjusted call to xm.link to use xm.tag! because link is a method in Rake's
    DSL triggering Rake deprecation warnings and wrong number of argument errors.
    Adds options to articles and pages.
    
    They make both models extendable by plugins creators without adding new fields and therefore should be considered like Wordpress custom fields. Only password was migrated because we may consider it as an optionnal field.
    
    Next step is to add a custom fields part in the editor, but I don't know how to do it yet.
    Remove trailing whitespace.
    Turns "Show extended on RSS" into "Hide extended on RSS".
    
    Asking user to opt in to display the whole post in the feed instead of hiding it is one of the most stupid behavior I've seen for a while and is the exact opposite of the software default's behavior.
    
    Included migration sets the new behavior accordingly to the blog default one.
    When finding articles by permalink, use UTC date.
    
    Up to typo 5.5, the dates as found in the article permalink URLs
    corresponded exactly with the publication date as stored in the database,
    and these dates were in the local timezone.
    
    Starting with Rails 3 however, datetimes as stored in the database are
    interpreted as having zone UTC, breaking existing URLs and causing a
    mismatch between the generated URLs (which due to how they are programmed
    were immune to this change) and the permalink finder method.
    
    This commit restores the old behavior, i.e., the permalink dates correspond
    again to the dates as stored on disk.
    
    However, the dates continue to be interpreted as UTC, which means the
    publication times for old articles (originally stored as local time) have
    an offset compared to the publication times for new articles (stored as
    UTC).
    
    Some tests had to be adjusted to be more specific about the generated
    publication datetime.
    Makes the RSS description editable from the admin.
    
    This feature uses the same tags format as permalink definition %tag%. Available tags are:
    %author%: author name
    %blog_url%: blog base url
    %blog_name%: blog title
    %permalink_url%: permalink url
    
    This also does a little bit of cleaning as rss_description was duplicated in both Article and Content models. I need to find a way to add tests to this, both in the model and controller parts.
    
    [#165 state:resolved]
    Add coding comment for non-ascii files.
    
    Part of the Ruby 1.9 compatibility effort.
    Use correct path component escape mechanism for article permalinks.
    
    In URIs, path components are encoded using the percent-encoding mechanism.
    Contrary to CGI parameters, this does not include the replacement of spaces
    with plus signs. Instead, spaces are encoded as %20, while plusses remain
    as-is.
    Replace find_boolean with standard find_all_by_<boolean field>.
    Comprehensively fix bug #192: multi-byte permalinks.
    
    - Do not escape the title upon conversion to permalink slug.
    - Escape permalink sluk upon creation of permalink url.
    - Search article by permalink and by escaped permalink to support legacy
      permalink slugs.
    Move configuration for Article to start of file; fix resources dep.
    
    Moving config makes it more clear. Has_many has a :dependent => :nullify
    options, so we don't have to program it ourselves.
    Add new tags to article in one go.
    Remove extra baggage from link from articles to categeries.
    
    The existing has_many specification caused enormous overhead when counting
    the number of categories for an article. This change reduces the spec
    running time by about 17%.
    Clean up state triggers.
    
    In the State classes, before_save and friends were generating deprecation
    warnings. Rename these methods and remove them if unused.
    Replacing deprecated named_scope
    Replace Object#returning with Object#tap.
    
    Object#returning is deprecated. Some instances were replaced with #tap,
    some pathological cases were removed and replaced with a simple return.
    Mass-removal of trailing whitespace.
    Strip all Ping URLs immediately.
    No need to re-collect existing pings inside ping sending loop.
    Fixes some nasty bugs with password protection. I need to add tests in the views
    Adding password protected posts. Things are done 100% AJAX because of the static cache. Logged in users are considered as being able to see a protected post. Protected posts content is removed from RSS feed. Need to add some specs, it's curious to see that they didn't break
    Solves ticket #175: Lift 255-char tag list limit. Not sure it's the best way to do it, don't mind reverting if needed
    Sorting articles by publication date and not creation date in the admin
    escape some tag in Rdoc. Now rdoc can be compiled in success
    Speed up Article#to_rss:
      - cache Content#blog
      - cache normalized url
      - do not calculate 'original article' text if not used
    Spec out and fix Article#html_urls
    Make only_path mean what it says, instead of the opposite.
    Fixes ticket #68: Atom feed has duplicated content. According to atom spec,  It is not advisable for the atom:summary element to duplicate atom:title or atom:content because Atom Processors might assume there is a useful summary when there is none. Since summary is not mandatory and may have nasty effects on some brocken atom readers, I put everything as content (body + extended if extended)
    little refactoring
    see the last draft in preview about an article
    only list all draft without parent_id in edit/new content creation
    Reuse the last draft with parent_id with autosave. Avoid create another draft each autosave
    Embed contents as type html rather than xhtml: This solves both the case of
    &eacute; and of &lt; in the body.
    Convert IRIs to URIs for inclusion in RSS feed.
    fix compatibility with several database. Test with Mysql PostgreSQL and SQLite3
    fix error in categories has_many. Maybe a postgreSQL issue. Test with MySQL please
    Reverts ticket 104 since it's going to break existing
    little refactorisation
    Fixes ticket 104
    Doing some cleaning removing typo_deprecated lib.
    fix bug #85 with no only_path in comment_url
    fix reopen bug #53. cgi escape only when you want see. Not save escape
    change url generation in feed_url method
    cgi escape all title fixed #53
    Fix all spec
    fix error with assignation by reference. get big error
    fix some test on redirect controller and fix some error if no current_user
    search article with different formating
    fix some issue in trackback system
    add support of extra variable in your url string
    start to use a format url define in blog setting
    fix spec in xmlcontroller
    start using same formating but only define by a string
    try to clean some url construction
    Add pings_closed? method to Article, analogous to comments_closed?
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    fix #3, now ATOM feed valid even with &eacute in our database insert by FCKEditor
    doesn't display the comment form if the auto_close comment is activate. It's made on all official theme. User @article.comments_closed? if you want check that. Not only @article.allow_comment?. Starting fixing issue #1303
    fix bug #1278 and improvement search page render, with less sql interrogation
    factorisation of page search in admin part like content search
    move search_no_draft_paginate function in better place and fix some spec
    refactor with names_scope the search article. I think is more lisible and more use about SKINNY controller, FAT Model
    add security where a publisher can't delete feedback to article not own. Spec write with it
    Modify Article to have proper body_and_extended field
    
    Instead of having merge_... and extract_... methods, let's just make this a
    virtual field.  This requires changing the field name in the view, too, but
    it simplifies the controller code considerably.
    Fixing a bug in RSS when displaying comments RSS, adding the RSS description in ATOM as well
    Fix various issues in new-style extended content handling
    
    Once upon a time, the Typo web interface allowed you to separately edit the
    "body" and the "extended content" of an article.  Now, the two different
    types of text are stored in a single body field, and separated by
    "<!--more-->".  This change has not yet been pushed through to the
    underlying database.
    
    This patch doesn't attempt to address any of the larger design or
    implementation issues, but it does fix a number of minor problems:
    
      - The build_extended and get_extended methods on ContentController were
        public, which actually made them callable for users on the web.  This
        kind of helper method should generally be protected or private in a
        controller.
      - The build_extended method would silently discard data if the user
        accidentally inserted two copies of '<!--more-->' in an article.
      - The build_extended method didn't remove the newlines inserted by the
        get_extended method, which would cause the article to pick up two extra
        newlines each time it was saved.
    
    The patch moves the merging/extracting code into the article model, fixes
    the data-loss bug, makes sure that articles can be edited without any
    inadvertent changes, and adds a number of unit tests to make sure that
    everything works.
    add restrict right to edit comment if user is publisher and it's not own article
    add filter of comment in view of articles's comment
    light admin/feedback controller
    view only comment selected like ham? and ham in admin content view list
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes 2 nasty bugs with autosave
    – the first one broke autosave when no title was set. We now set a default title
    – the second one was overriding permalink with a void string when post was autosaved because the permalink field was empty after autosave.
    
    For autosave: If no title is given, Typo gives it a title like "Article Draft + post_id". When publishing, every article-draft-something permalink is just replaced with the article title crafted permalink.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1795 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding drafts capabilities
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1755 820eb932-12ee-0310-9ca8-eeb645f39767
    Ditching Jabber notification, amongst other things
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1702 820eb932-12ee-0310-9ca8-eeb645f39767
    Oops, I broke something
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1698 820eb932-12ee-0310-9ca8-eeb645f39767
    Getting rid of /articles in the URL. Still need to add a redirect from old to new url. method exists in article controller, however, must find the best way to call it (routes for every possible url ?).
    
    Don't want to have it done by the web server anyway
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1697 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a couple of bugs, closing ticket 1224
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1694 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    Some article refactorings...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1676 820eb932-12ee-0310-9ca8-eeb645f39767
    UrlPolicy refactoring
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1670 820eb932-12ee-0310-9ca8-eeb645f39767
    Started work on UrlPolicy object - not even slightly integrated with anything yet though
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1666 820eb932-12ee-0310-9ca8-eeb645f39767
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweaked the atom feed to use the proper namespace
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1638 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few bugs
    Adds patch 1168
    Adds patch 1165
    Closes ticket 1166
    Closes ticket 1164
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1587 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes ticket 1160
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1579 820eb932-12ee-0310-9ca8-eeb645f39767
    Another bit of admin tweaking :
    
    – Added by column sorting on posts and pages admin (always useful)
    – Revamped the categories/show/id to look like the contents/list and
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1544 820eb932-12ee-0310-9ca8-eeb645f39767
    Strips accentuated characters from articles permalinks (useful for people like me heh).
    
    Fixes bug 1150 (thank you Nertzy, you're the one)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1543 820eb932-12ee-0310-9ca8-eeb645f39767
    Roll back r1527 at Piers's request
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1528 820eb932-12ee-0310-9ca8-eeb645f39767
    Initial commit. Bar is green, but we're a long way from finished.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1527 820eb932-12ee-0310-9ca8-eeb645f39767
    More decomposition of the monolith that it ArticlesController into
    per resource controllers. Trackbacks get their own controller this time.
    
    Also, work continues on pushing behaviour out of controllers and into
    models.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1514 820eb932-12ee-0310-9ca8-eeb645f39767
    Much footling with the feedback state machine and various
    caching related things.
    
    I ''think'' cache sweeping should now be happening in all the
    right places, while being reasonably light on the CPU and memory.
    
    If you do come across cases where the cache isn't being emptied
    when it should, please let me know <pdcawley-typo@bofh.org.uk>
    or raise a ticket here and we'll look into it.
    
    Also, we've reinstated fragment caching; page caching comes with
    a whole host of gotchas that I'd rather not think about just now.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1511 820eb932-12ee-0310-9ca8-eeb645f39767
    Slowly moving behaviour from the controllers to the models by
    applying the Law of Demeter.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1509 820eb932-12ee-0310-9ca8-eeb645f39767
    A few tweaks to feeds
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1506 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed the issue which meant that it was impossible to unpublish an article.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1499 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed a cockup in Article which meant that atom feeds broke if any
    article in them had an enclosure (Article knows about blog, only
    controllers and views know about this_blog)
    
    Also, restored limits to the article feed. Because not everyone (anyone)
    wants to get every single article that ever appeared on a blog
    in their feed. That would be bad.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1476 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed ordering of published_comments; removed duplicate declaratino from the blog
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1474 820eb932-12ee-0310-9ca8-eeb645f39767
    Another boneheaded mistake in article.rb that really should have been caught by a test. Expect a spec to be checked in over the weekend as well.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1473 820eb932-12ee-0310-9ca8-eeb645f39767
    A surprisingly convoluted fix for the broken 'nuke' admin tool.
    It turns out that datestamped_resources didn't quite do the
    right thing when building paths.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1469 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    Completed temporary roll back of r1463
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1466 820eb932-12ee-0310-9ca8-eeb645f39767
    At some point in any refactoring you have to trust your gut and check
    it in.
    
    This point has now been reached...
    
    New things:
    * routes.rb continues to get shorter, ArticlesController is now declared
      with 'map.datestamped_resource :articles' plus a few extra actions that
      will eventually move to other controllers
    * Comment posting is now handled by the shiny new CommentsController, which
      is resourceful. However, because we don't want to break too many themes
      yet, it's still rendering templates from the articles directory
    * If you want to make your themes work better with the new scheme, you
      should alter your comment form url to be:
      {{{ :url => comments_path(@article) }}}
      If you're linking to the preview action, that becomes
      {{{ preview_new_comment_path(@article) }}}
    * This breaks #1463 rather hard. I shall be rolling #1463 all the way back
      for the time being, at least until I've got the controllers working
      restfully. Once that's done, it should be relatively trivial to change
      the routes file from using {{{datestamped_resources(:articles)}}} to using
      {{{resources(:articles)}}}
    * Deprecation warnings for badly placed controller actions aren't yet
      in place. I need to work out some way of having those warnings show
      up on the admin pages...
    * This may break things horribly. I've run it against the test suite,
      I've walked through most stuff on my test blog, but (always) there
      is the niggling feeling that I've missed something.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1465 820eb932-12ee-0310-9ca8-eeb645f39767
    Added a bunch of things for seo permalinks friendly
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1463 820eb932-12ee-0310-9ca8-eeb645f39767
    Slowly moving towards a more Resourceful setup. Added (and started to test)
    a CommentsController class and its associated views.
    
    We aren't actually using it from anything yet, but it's only a matter of time.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1461 820eb932-12ee-0310-9ca8-eeb645f39767
    A big cleanup of the way content and feedback state is handled:
    
     * The ContentState:: namespace is gone. States now appear in the
       Article::States and Feedback::States namespace (or anywhere else
       that would be found through normal namespace resolution)
     * The magic now happens in lib/stateful.rb, which sets up the
      'has_state' declaration. Look at article.rb and feedback.rb for
       examples of it in use. Documentation and pluginification will happen.
       Eventually.
    
    Also, I've done a bit of spring cleaning on various content related
    classes and (shock!) added tests for Article#comment_closed?. Did
    _you_ know that wasn't being tested? Me neither.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1438 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved creation of the notify_users list to after_create.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1344 820eb932-12ee-0310-9ca8-eeb645f39767
    Assorted tweaks.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1301 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Mmm... instance caching... you know you *want* it!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1280 820eb932-12ee-0310-9ca8-eeb645f39767
    * The Content model no longer knows anything about the cache.
    * Reprecated the html helper
    * Implemented the 'html' helper in MailHelper. It turns out that
      ActionMailer doesn't do fragment caching, so in order to keep a
      consistent interface for accessing article html, we've implemented
      a version that doesn't attempt to do caching.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1265 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on effective cache sweeping
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1254 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    More 4.1 cleanups.  Complete move from serialized canonical_server_url to non-serialized base_url.
    Add a bunch of rdoc.  More deprecations and cleanups.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1242 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated text filters a bit more.  Cleaner.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1241 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Added some filtering to the feedback page. You can now limit the listing to get rid
    of articles whose classification you have confirmed as well as a simple spam/ham
    filter.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1218 820eb932-12ee-0310-9ca8-eeb645f39767
    Update jabber code slightly.  May still be broken; I'll revisit after 4.0.1.  Closes #1061
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1201 820eb932-12ee-0310-9ca8-eeb645f39767
    Big changes to the state engine for feedback. Feedback now starts off
    in the 'Unclassified' state and moves to either JustPresumedHam or
    PresumedSpam depending on the results of Feedback#classify (the various Just*
    states are there as one shot states to handle sending of notifications or
    registering of spam/ham classification with akismet). JustPresumedHam
    decays to PresumedHam as soon as the feedback has been saved and the
    notifications sent.
    
    And there they rest until the classifications are solidified by the blog
    administrator on the feedback page. Feedback ends up as either Spam or Ham
    with an intermediate 'JustMarkedAs*' step for registering with Akismet.
    
    It should be possible to do some useful filtering on the feedback page
    (for instance, only see those messages whose classification hasn't been
    confirmed), but for that we need to add a couple of boolean fields to the
    contents table.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1188 820eb932-12ee-0310-9ca8-eeb645f39767
    Commit #1053
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1186 820eb932-12ee-0310-9ca8-eeb645f39767
    Oops! Always run the tests! Made tests pass and, well, made typo work...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1184 820eb932-12ee-0310-9ca8-eeb645f39767
    Ditch comment counters.  Closes #1030.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1176 820eb932-12ee-0310-9ca8-eeb645f39767
    Corrected a long standing silly mistake. Thanks to wulffeld on #typo for pointing it out.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1166 820eb932-12ee-0310-9ca8-eeb645f39767
    Hide comment form for old articles.  Closes #954
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1140 820eb932-12ee-0310-9ca8-eeb645f39767
    Force-set published_at.  Closes #931
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1121 820eb932-12ee-0310-9ca8-eeb645f39767
    Add '.' to the list of valid tag characters.  Closes #986
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1110 820eb932-12ee-0310-9ca8-eeb645f39767
    A bunch of performance fixes (and also a couple created_at/published_at fixes).
    
    This drops our render time on my big DB from ~12 seconds to ~1 second.  That's still
    *way* too slow, but we're moving in the right direction.  We're down to ~40 queries
    for a 15-entry index page now, down from *300*.  And, half of the remaining queries
    are basically Blog.find(1).  I'm not sure why the eager loading on Articles isn't
    helping with this.
    
    This also closes #851--the archive sidebar was one of the big contenders, eating
    6 or 7 seconds per query.  It's down to a few ms now.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1086 820eb932-12ee-0310-9ca8-eeb645f39767
    Whee! Now we really do only send pings on publication.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1053 820eb932-12ee-0310-9ca8-eeb645f39767
    Done some refactoring of 'send_notifications'
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1050 820eb932-12ee-0310-9ca8-eeb645f39767
    Okay, this is the big, scary patch.
    
    Content is now using a state object to handle transitions between
    'new', 'draft', 'just_published', 'published' and 'publication_pending'
    states. The interesting states in that lot are:
    
      * just_published -- this is a transient state, nothing gets fetched
        from the object store in this state. content is marked as just
        published so that various things that should only happen when an
        article is just published (notifications, pings, etc) only happen
        once.
    
      * publication_pending -- this is when content is due to be published
        in the future. It generally means there's a trigger hanging about
        in the triggers table waiting to publish the article.
    
    At the moment the publication state isn't stored in the database, but derived
    from the 'published' flag and the 'published_at' field. I think we can
    survive like this for a while, but we may end up getting rid of the 'published'
    flag and replacing it with a publication_state field holding a simple
    memento that we can use to reconstruct the state object. (We can't just
    use slaird's {{{acts_as_state}}} plugin because that doesn't appear
    to use 'real' state objects that we can hang behaviour off, and I've
    switched us to using the state pattern precisely so I can hang behaviour
    off the states -- check out {{{ContentState::JustPublished}}} for an
    example of the kind of thing the state pattern lets you do.)
    
    Also, I've switched all the views I could find over to using
    {{{published_at}}} rather than {{{created_at}}}; if you're a theme author
    you might like to do the same.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1047 820eb932-12ee-0310-9ca8-eeb645f39767
    Web notifications (trackbacks, pingbacks that stuff) are now triggered from
    the WebNotifier content observer.
    
    Note that we've now added a new setting to Blog 'default_server_url' as a
    fallback for finding the blog's base url. If you're experiencing problems
    (I don't think you should be, it's only currently an issue in the tests and
    our blog fixtures has an appropriate url set), go to your /admin page and
    set the default url there (it should pick up a sensible default, so you can
    just check that for sanity and hit save if you like).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1046 820eb932-12ee-0310-9ca8-eeb645f39767
    Started the process of moving 'on publication' behaviour out of controllers and
    apis and onto observers. The observer implementations are currently just simple
    callbacks onto the content objects, but that may change in the medium to long
    term.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1043 820eb932-12ee-0310-9ca8-eeb645f39767
    The beginnings of some serious reworking of the way article publication,
    notifications, remote pings and (possibly) caching will work. After this patch
    an article's 'published' flag will never be set before its 'published_at' time.
    
    This is handled by introducing a 'triggers' table which holds a list of actions
    to perform on objects in the future. Every time the rails system gets a request,
    it performs any pending trigger actions. That way, although a message may well
    not be 'really' published until some time after its published_at time, it will
    appear as if it was.
    
    Next up, moving various 'on save' actions out of duplicated code in controllers
    
    NB: There's a bug in Rails that means that migration 45 shouldn't work with
    mysql or sqlite, hence the utterly gruesome monkey patch in
    lib/rails_patch/active_record.rb -- I look
    forward to the next release of Rails when I can get rid of those monstrosities.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1042 820eb932-12ee-0310-9ca8-eeb645f39767
    I've havered over doing this for a while now, if only because Rails
    is very strongly of the opinion that models don't need to know about
    url_for.
    
    Which is all very well, but Blog is a model of something that has
    contents accessible through urls.
    
    As always in these matters, the true test of whether something's a
    good idea or not is:
    
      Does it make the code clearer?
    
    And in this case, I think it does. By adding Blog#url_for, and
    especially by allowing it to take an object that responds to
    {{{location(anchor=nil, only_path=true)}}} I've managed to
    refactor out a great deal of repetition.
    
    Since url_for is also the stumbling block which stops us turning
    textfilters back into models, you can also consider this as a
    step along the road to making textfilters a little less weird.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1036 820eb932-12ee-0310-9ca8-eeb645f39767
    Various refactorings
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1033 820eb932-12ee-0310-9ca8-eeb645f39767
    Sing, muse the joy of pdcawley as he puts the monstrosity {{{article_url}}} and
    all its spawn to his sure swift sword and casts the tiny pieces down, down,
    ye even unto the very depths of The Pit.
    
    Bear witness as {{{Content#full_html}}} returns to the fray, trailing clouds of
    glory, renewing the vigour of old themes left withering in the TypoGarden.
    
    For, verily, I have returned the sensible API to its rightful place.
    
    (Oh, and if you ''must'' use them, {{{article_url}}} et al. will continue to work
    for the forseeable future, but I will insist on treating them like red headed
    stepchildren.)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1004 820eb932-12ee-0310-9ca8-eeb645f39767
    Allow connector characters in tags (e.g. _)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@998 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes #755
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@978 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Removes a couple of special case search methods from article.rb in
    favour of using some_tag.articles.find_already_published and
    some_category.articles.find_already_published
    
    I don't like special case searches that the framework can handle
    adequately.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@906 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove 1 second from end of Article#time_delta range
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@895 820eb932-12ee-0310-9ca8-eeb645f39767
    Commit patch for #698 - fixes Article.time_delta to be accurate
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@883 820eb932-12ee-0310-9ca8-eeb645f39767
    Integrated patch 526
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@872 820eb932-12ee-0310-9ca8-eeb645f39767
    Implement multi-word tags using single or double quotes. Fixes #674.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@856 820eb932-12ee-0310-9ca8-eeb645f39767
    In which your maintainer has a Sunday morning crisis of confidence... this patch will be back after some more tinkering.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@837 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged the fixed cache branch back to the trunk. Sorry for letting something broken escape like that in the first place
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@836 820eb932-12ee-0310-9ca8-eeb645f39767
    Revert [830] as it should have been applied on a branch
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@831 820eb932-12ee-0310-9ca8-eeb645f39767
    Started down the road to abstemious cache sweeping. Headline change is that
    adding/deleting comments and trackbacks no longer needs to rebuild the world
    
    Most of the magic happens in controllers/application.rb, which is responsible
    for creating PageCache entries and linking them appropriately.
    
    BlogSweeper then makes use of the extra information to do intelligent cache
    sweeping -- as time goes by, expect more intelligence to appear.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@830 820eb932-12ee-0310-9ca8-eeb645f39767
    Update keywords on article update, slightly reworked Article#schema_version (closes #605)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@803 820eb932-12ee-0310-9ca8-eeb645f39767
    Turned Content.published into a real boolean. Which has surprisingly far reaching effects.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@790 820eb932-12ee-0310-9ca8-eeb645f39767
     r740@Menhir:  pdcawley | 2005-12-08 00:54:14 +0000
     Fixed an embarrassing problem with ArticlesController.include_protected that
     meant some tests failed. I could have sworn I ran them before checkin, but
     apparently not.
    
     Also made boolean handling more consistent (for the known booleans in the
     schema, I shall be attacking the unknown ones later). For the record, booleans
     are set with 'object.boolean_attrib = true/false' and queried with
     'object.boolean_attrib?'. You should not use the '?' form, and you should
     also strive to name boolean attribs so that it's obvious they are booleans.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@787 820eb932-12ee-0310-9ca8-eeb645f39767
     r696@Menhir:  pdcawley | 2005-12-04 15:26:19 +0000
     Added counter_caching for comments and trackbacks
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@769 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix really dumb jabber notification bug.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@765 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove HTML tags from permalink
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@749 820eb932-12ee-0310-9ca8-eeb645f39767
    Update resources to let joins work right
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@730 820eb932-12ee-0310-9ca8-eeb645f39767
    Add previous/next helpers.  Closes #506.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@725 820eb932-12ee-0310-9ca8-eeb645f39767
    Add :readonly => false to tag/category searches.  Closes #470
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@714 820eb932-12ee-0310-9ca8-eeb645f39767
    Add enclosure support for podcasting.  Thanks bingeldac.  Closes #463
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@694 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a bit of STI logic to Artcie.search.  Closes #451
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@675 820eb932-12ee-0310-9ca8-eeb645f39767
    BACK UP YOUR DATABASE BEFORE RUNNING THESE MIGRATIONS.  Merge pdcawley's big superclass patch.  This rolls articles, pages, comments, and trackbacks into one big table, using STI.  This lets us get rid of a huge amount of duplicated code; diffstat shows a net of -148 lines, and the resulting code looks cleaner.  Closes #414
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@660 820eb932-12ee-0310-9ca8-eeb645f39767
    Make pings actually work right.  This is sort of a work in progress, but I want to commit this before I make deeper changes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@641 820eb932-12ee-0310-9ca8-eeb645f39767
    Add support for pinging certain sites during every update.  This will make us play better with Technorati, etc.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@638 820eb932-12ee-0310-9ca8-eeb645f39767
    Add GUIDs to comments and trackbacks, and clean up Article GUID code.  Use GUIDs in Atom 1.0 feeds because our old IDs were nasty and not unique.  Still thinking about adding them to RSS 2.0 and Atom 0.3; it'll be user-visible if we change them.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@636 820eb932-12ee-0310-9ca8-eeb645f39767
    Clean up category and tag finding code, fix the order in category and tag feeds, as per Aitor Garcia Ray's suggestion on the mailing list
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@633 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved body_html and friends from push to pull.  See http://scottstuff.net/blog/articles/2005/09/04/push-me-pull-me
    for details.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@622 820eb932-12ee-0310-9ca8-eeb645f39767
     * Bundle syntax module (closes #350)
     * Explicitly require 'application' in TextfilterController, otherwise script/console is broken because of the inability to require 'application_controller' (derived from the TextfilterController inheritance)
     * Wrap text_filter_id assignment in Article#set_defaults in a schema_version check to fix migrations from farther back
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@571 820eb932-12ee-0310-9ca8-eeb645f39767
    Revert meta_weblog_service's :dateCreated field back to :time, as ecto croaks when it's :string.  Apparently :string breaks that MT API.  Also, minor article.rb cleanups
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@570 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    Swapped out hardcoded table names in raw SQL statements by more flexible Model.table_name calls allowing the use of Rails' table_name prefix/suffix settings (closes #342) [Jakob S]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@557 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix tag removal bug. (closes #335)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@541 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
    Tags.  (closes #282)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@533 820eb932-12ee-0310-9ca8-eeb645f39767
    Swap config[] for $config[]--$config only works after config has been called, which breaks in migrations.  Plus $config is ugly.  (closes #296)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@520 820eb932-12ee-0310-9ca8-eeb645f39767
    Changed MD5 to Digest::MD5.  I'd love to know why MD5.new worked for everyone before 2.5.0 came out, but not now
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@507 820eb932-12ee-0310-9ca8-eeb645f39767
    Undoing database.yml breakage, again
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@506 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed readme--it said that Postgres wasn't supported
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@505 820eb932-12ee-0310-9ca8-eeb645f39767
    Added GUID to articles, as per xal's request
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@482 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix month archives to include postings from the final day of the month.  (closes #251)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@481 820eb932-12ee-0310-9ca8-eeb645f39767
    Closes #201.  Also adds validations on models
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@447 820eb932-12ee-0310-9ca8-eeb645f39767
    Swap before_save filter order around to issue the transform *after* text_filter potentially inherited from defaults.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@445 820eb932-12ee-0310-9ca8-eeb645f39767
     * Move the test salt setting of the User model into test_helper
     * Implemented <category> extraction for blogger.newPost
     * Inherit text_filter for new articles posted via backend from blog config
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@444 820eb932-12ee-0310-9ca8-eeb645f39767
     * Updated migrate rake target to take a VERSION argument
     * Fixed down migrations 2, 3, and 5 to actually do valid things
     * Explicitly call Article.reset_column_information before doing the permalink migration to make sure the permalink column is available in the column cache
     * Fail gracefully in the Article before_filter if the permalink column is not yet available (migration from v1 would fail otherwise)
     * Added a fix_permalinks script in db/scripts to be called manually if you already migrated to v7 without this changeset applied
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@396 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged permalink patch which no longer breaks links when the blog author changes an article title. It also allows for custom permalinks by editing it via the content admin. Storing permalinks in the database also means we're no longer doing nasty string comparisons for permalink-accessed articles since we're able to do a direct SQL query on that column. (closes #147)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@394 820eb932-12ee-0310-9ca8-eeb645f39767
    Articles can now be posted without being published (closes #104)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@370 820eb932-12ee-0310-9ca8-eeb645f39767
    Provide an optional mailto: link on article author names. (closes #156)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@354 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes for articles.published.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@348 820eb932-12ee-0310-9ca8-eeb645f39767
    typo is now full static. The entire front end comes from static pages which are swept on commenting, trackbacks, new article posts and category changes.
    This means we cannot do the "posted 25 minutes ago" business but we can easily serve in excess of 1k pages per second so this should be worth it.
    
    closes #127, #21
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@337 820eb932-12ee-0310-9ca8-eeb645f39767
     * Slice find_by_date results in memory instead of using the unsupported :limit/:offset parameters for eager loaded associations (fixes #146)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@322 820eb932-12ee-0310-9ca8-eeb645f39767
    fix shebangs in all of typo
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@309 820eb932-12ee-0310-9ca8-eeb645f39767
     * Improved Article.strip_title to remove quotes before removing non alphanumeric chars by dashes (fixes #125)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@303 820eb932-12ee-0310-9ca8-eeb645f39767
    added extended entries support and fixed search (kevin@sb.org) closes #44, #129
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@300 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed comments posting javascript and restructured things a bit. fixes #139
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@282 820eb932-12ee-0310-9ca8-eeb645f39767
    Add call to LOWER() back in for Article#search since PostgreSQL has a case sensitive LIKE
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@267 820eb932-12ee-0310-9ca8-eeb645f39767
    Force published to 1 if it's unset before saving. Fixes issues with posting from the admin interface when using PostgreSQL
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@266 820eb932-12ee-0310-9ca8-eeb645f39767
    Added dupe check before sending pings (fixes #85)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@259 820eb932-12ee-0310-9ca8-eeb645f39767
    Search title and body for matching strings
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@252 820eb932-12ee-0310-9ca8-eeb645f39767
    a few optimisations
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@204 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@138 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed ordering of comments, trackbacks and pings
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@136 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged /branches/aws to /trunk. Three cheers for Patrick Lenz's fantastic work in this branch
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@132 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix for problem with blank searches in a live search.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@123 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed aggregations, improved permalinks a bit (/04/22 instad of /4/22), moved send_ping method to the ping model and added permalinks the xml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@109 820eb932-12ee-0310-9ca8-eeb645f39767
    added test coverage for sending pings
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@108 820eb932-12ee-0310-9ca8-eeb645f39767
    added perma urls like /articles/2005/03/22/what-the-hell but also /articles/2005/02 to see all february posts and such
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@102 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed #16
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@96 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed #17
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@95 820eb932-12ee-0310-9ca8-eeb645f39767
    made article search case insensitive
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@94 820eb932-12ee-0310-9ca8-eeb645f39767
    removed config/config.yml, on first request you will be redirected to settings/install to enter the values. This page is currently not protected, need to come up with something
    before next release.
    Added categories to the right hand side
    Fixed the ordering of articles in the categories filtered view
    Added a config manager
    Adjusted html of live preview
    Created settings table
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@93 820eb932-12ee-0310-9ca8-eeb645f39767
    fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@85 820eb932-12ee-0310-9ca8-eeb645f39767
    Article trackback inbound and outbound should be fully working now.
    Category trackback coming soon.
    Some small code cleanups.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@83 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed packaging
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@74 820eb932-12ee-0310-9ca8-eeb645f39767
    compatibility with rails 0.10.0 and the first stab at pretty urls ( for xmls so far )
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@63 820eb932-12ee-0310-9ca8-eeb645f39767
    Added:
      Support for inbound trackbacks (very little testing) (http://someserver.com/trackback/ping/1)
      Support for the Moveable Type API - seems to work well.
      Support for RSD - autodiscovering of the xmlrpc uri
                      - aka "Autofill" in MarsEdit
                      - I'm not sure what should be returned for Movetype API support though
                        - Maybe MarsEdit just doesn't support it through RSD.
      Added a "Powered by Typo" link to the bottom of the articles.rthml template.
      RSS feed now has support for autodiscovery of trackback url's.
    
    Fixes:
      If a post isn't assigned to any categories, it won't choke now.
      Categories that an article is posted in are now displayed with the article.
    
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@39 820eb932-12ee-0310-9ca8-eeb645f39767
    added patch for categories support
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@34 820eb932-12ee-0310-9ca8-eeb645f39767
    improved search and added public exception handling
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@16 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@8 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Make ping threading.
    
    This keeps pings that time out from delaying article save immensely.
    Remove client code from action_web_service.
    
    The client part of action_web_service was not used.
    
    Since the Ping model relies on XMLRPC::Client, we need to now require the
    standard Ruby 'xmlrpc/client' explicitely there.
    when trackback in article creation, we delete all formating part even in markdown [#59 state:resolved]
    add some test in Ping model
    Fixes ticket 1161 (trackbacks brocken)
    Fixes specs
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1590 820eb932-12ee-0310-9ca8-eeb645f39767
    – Fixed a few bugs
    – Added the week in refactoring patch
    – Added the rights table and the profile to rights one.
    – Populated the new tables.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1494 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved auto feedback classification to before_save (I'm not sure why it was
    ever after_save; I think I might have been paranoid about dropping data.
    Then I remembered, it's feedback, if it gets dropped it's a pain, but it's not
    the end of the world)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1326 820eb932-12ee-0310-9ca8-eeb645f39767
    Turned concurrency back off and made the ping code not touch the database within its subthreads.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1255 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix trackback encoding.  Closes #1007
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1141 820eb932-12ee-0310-9ca8-eeb645f39767
    Ping in the background.  Thanks Eric.  Closes #866
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1094 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Commit tweak by peter@fleecelabs.se for proper XMLRPC calling
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@897 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweaked the ping code to be a little more composed by pulling some behaviour into a
    private Pinger class. I love it when the meat of a method called 'send_pingback_or_trackback'
    becomes 'send_pingback or send_trackback'.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@874 820eb932-12ee-0310-9ca8-eeb645f39767
    Integrated patch 526
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@872 820eb932-12ee-0310-9ca8-eeb645f39767
     r717@Menhir:  pdcawley | 2005-12-06 10:33:48 +0000
     Moved the "transform" methods onto the String class and loaded transforms in the evironment
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@775 820eb932-12ee-0310-9ca8-eeb645f39767
    Add timeout handling to pings.  Closes #453
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@683 820eb932-12ee-0310-9ca8-eeb645f39767
    Finish mocking pings
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@643 820eb932-12ee-0310-9ca8-eeb645f39767
    Make pings actually work right.  This is sort of a work in progress, but I want to commit this before I make deeper changes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@641 820eb932-12ee-0310-9ca8-eeb645f39767
    follow rails style closely by using symbols where ever possible
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@310 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed a bug that the configuration was only available after a web request was issuered to typo (scoop)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@113 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed aggregations, improved permalinks a bit (/04/22 instad of /4/22), moved send_ping method to the ping model and added permalinks the xml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@109 820eb932-12ee-0310-9ca8-eeb645f39767
    Article trackback inbound and outbound should be fully working now.
    Category trackback coming soon.
    Some small code cleanups.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@83 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Adds customizable 404 pages with optionnal messages in the admin. Next: 500
    Fixes a bug in the meta title generation.
    
    Added specs. Need more specs on this. Need specs on grouping controller. Will add both at the same time when fixing a regression on template rendering
    Feature request: add a custom tracking field for people not using Google Analytics.
    
    This field content is displayed in the <head> part of every page.
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Fixing a buggy behavior where a permalink could not contain a unique ID.
    
    Until we add the id as an URL parametre, title must be in the permalinks structure.
    Remove trailing whitespace.
    Fixes a buggy default setting that desindexes tags pages.
    
    Adds missing specs on blog default settings.
    Speed up article specs.
    Remove trailing whitespace.
    Add validation on Blog#blog_name.
    
    This will be used to avoid having to hand-validate input to SetupController.
    Adding a "use meta tags option", enabled by default. Changing the grouping controller behavior to add the blog meta keywords to the categories and tags when their keywords are empty (always for tags). Adding specs.
    Changes the settings behavior for nofollowify, index categories and index tags. Comes with migration. Adds missing specs.
    
    Current settings behavior were beyond stupidity : every feature were enabled by default and admin had to uncheck them to disable them:
    Unchecking nofollowify was enabling dofollow.
    Unchecking index categories was removing categories from search engine index
    Unchecking index tags was removing categories from search engine tags.
    
    New behavior:
    Checking dofollowify actually enables dofollow
    Checking unindex categories removes categories from search engine index
    Checking unindex tags removes tags from search engine index
    
    TODO :
    Allow unindex / index by category.
    Allow unindex / index by tag.
    Turns "Show extended on RSS" into "Hide extended on RSS".
    
    Asking user to opt in to display the whole post in the feed instead of hiding it is one of the most stupid behavior I've seen for a while and is the exact opposite of the software default's behavior.
    
    Included migration sets the new behavior accordingly to the blog default one.
    Adding support for rel='canonical' in pages header to avoid duplicate content.
    
    A canonical page is the preferred version of a set of pages with highly similar content.
    
    It's common for a site to have several pages listing the same set of products. For example, one page might display products sorted in alphabetical order, while other pages display the same products listed by price or by rating. For example:
    
    http://www.example.com/product.php?item=swedish-fish&trackingid=1234567&sort=alpha&sessionid=5678asfasdfasfd
    http://www.example.com/product.php?item=swedish-fish&trackingid=1234567&sort=price&sessionid=5678asfasdfasfd
    If Google knows that these pages have the same content, we may index only one version for our search results. Our algorithms select the page we think best answers the user's query. Now, however, users can specify a canonical page to search engines by adding a <link> element with the attribute rel="canonical" to the <head> section of the non-canonical version of the page. Adding this link and attribute lets site owners identify sets of identical content and suggest to Google: "Of all these pages with identical content, this page is the most useful. Please prioritize it in search results."
    Added reCaptcha support in backend
    Adding a medium sized picture when uploading image.
    Adding a setting for both thumbnail and medium size.
    Makes the RSS description editable from the admin.
    
    This feature uses the same tags format as permalink definition %tag%. Available tags are:
    %author%: author name
    %blog_url%: blog base url
    %blog_name%: blog title
    %permalink_url%: permalink url
    
    This also does a little bit of cleaning as rss_description was duplicated in both Article and Content models. I need to find a way to add tests to this, both in the model and controller parts.
    
    [#165 state:resolved]
    Adding various date and time display support.
    
    Date support are: 21/01/2011, 01/21/2011, Jan 21 2011 and 21 January 2011
    Time support are: 11h10, 11:10 and 11:10AM
    
    TODO: internationalization support, custom format support, and "xxxx ago" support even though I believe this one deserves to be a pluginas it's not the most usefule thing ever.
    Adding a no/do follow policy on the whole blog. Admin can now chose between nofollow and dofollow in the comments and comments author URL.
    
    For now this is a bit "raw" and may need some improvement:
    1- allow admin to chose after how many comments a visitor is dofollowed, for example 3, but this would have an impact on performances: each time a comment is rendered, Typo would do a select count(*) based on the author email address.
    2- improve comment moderation to have an email sent even though the comment was not published, or any other way to moderate comments. I need to think about it without breaking / recoding our state machine.
    
    Oh, and this indeed come with a bunch of tests that shows I haven't broken anything.
    Oups! Forgotten change in Blog.settings default
    Replace deprecated Errors#add_to_base(msg) with Errors#add(:base, msg).
    Use the blog's root path in redirects instead of relative_url_root.
    
    This changes the behavior slightly when accessing the blog from outside its
    base_url.
    Use alias_method_chain to avoid need for helper class.
    Fix Blog.url_for
    
    ActionController::Base.relative_url_root is both deprecated and read_only.
    Use the new provided way to include url helpers to re-implement
    Blog#url_for.
    Fix some more deprecations.
    Move stuff about a little in the Blog.url_for system.
    Adds support for the google verification link [#182 state:resolved]
    cleaning blog options
    Dropping iTunes metadata support. They will probably come back in the futur as a plugin
    Fix Blog#url_for for sub-uri deployments
    Make only_path mean what it says, instead of the opposite.
    Remove unused find_blog and update comments to reflect single-blog nature
    of typo.
    Removing the filter on AJAX / non AJAX comments since now some themes (including default theme...) comes without AJAX enabled by default. This will prevent some well known issues...
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Update messages:
    - Undo earlier fix for %d problem;
      (undoes commit 1efca32ec6de96458acf1907f34ba5bd78a62636)
    - Improve English permalink format error messages.
    fix problem in spec because override %d to {{count}}
    Removing more dead code
    Doing some cleaning removing typo_deprecated lib.
    Removing cached_model + memcache, useless since we're now doing static caching. First step for Typo diet
    Adding an option to chose how many items to display in the admin
    add system to add .rss or .atom in feed_url. Define like rss or atom system
    add validation of permalink_format with good format. Failed if bad format
    Adding feedburner support
    Some editor refactoring, it really needed it after yesterday's change.
    
    I've made a migration to make User.editor manipulation easier (simple / visual is better than 0,2). That allowed me to ditch lot of duplicate code. Cool.
    Allow on demand search removal for tags and categories. This adds noindex follow headers on related pages, and removes them from sitemap.xml
    Adding configurable robots.txt in settings
    fix some issue in trackback system
    start using same formating but only define by a string
    try to clean some url construction
    Fix grammar and spacing issues
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    fix bug #1278 and improvement search page render, with less sql interrogation
     Fix bug report #1301 with patch submit by Matijs van Zuijlen
    fix bug #1295. Now in production mode you can change theme without restart server
    optimise cache with sidebar in particulary
    fix issue with cache_classe=true in production environnement if you create fresh installation with rake db:migrate
    Adding RSS copyright information and appropriate settings
    Adding Google analytics support to Typo
    Adding subcategories
    Giving Typo some SEO capabilities
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1849 820eb932-12ee-0310-9ca8-eeb645f39767
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes an issue with caching not wiping paginated archives. Adds google bogsearch pinping
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1705 820eb932-12ee-0310-9ca8-eeb645f39767
    Ditching Jabber notification, amongst other things
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1702 820eb932-12ee-0310-9ca8-eeb645f39767
    Getting rid of /articles in the URL. Still need to add a redirect from old to new url. method exists in article controller, however, must find the best way to call it (routes for every possible url ?).
    
    Don't want to have it done by the web server anyway
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1697 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed a couple of helper methods on the blog. Should probably change the call sites eventually
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1667 820eb932-12ee-0310-9ca8-eeb645f39767
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    changing default cache
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1654 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the localization issue
    Removes the simple / advanced admin
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1648 820eb932-12ee-0310-9ca8-eeb645f39767
    Few changes in back office
    Fixes 1184
    Few bug fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1614 820eb932-12ee-0310-9ca8-eeb645f39767
    Various fixes for the 5.0 release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1601 820eb932-12ee-0310-9ca8-eeb645f39767
    Makes the theme selector easier to use.
    Changes the default cache to caches_action_with_params
    Changes some typos in the admin
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1595 820eb932-12ee-0310-9ca8-eeb645f39767
    Let users choose their cache model between caches_page and caches_action_with_params with proper explanation of what they do and when not to use it.
    
    This should solve a long commit / revert game we had these days
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1591 820eb932-12ee-0310-9ca8-eeb645f39767
    Changes the default theme following azure removal
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1568 820eb932-12ee-0310-9ca8-eeb645f39767
    Introduces the concept of  simple / advanced administration
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1561 820eb932-12ee-0310-9ca8-eeb645f39767
    Language is now set from the admin pannel and not from environment.rb anymore
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1560 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed a heinous cockup which breaks comment and trackback feeds.
    
    Slap me, I'm an idiot.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1518 820eb932-12ee-0310-9ca8-eeb645f39767
    More decomposition of the monolith that it ArticlesController into
    per resource controllers. Trackbacks get their own controller this time.
    
    Also, work continues on pushing behaviour out of controllers and into
    models.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1514 820eb932-12ee-0310-9ca8-eeb645f39767
    Much footling with the feedback state machine and various
    caching related things.
    
    I ''think'' cache sweeping should now be happening in all the
    right places, while being reasonably light on the CPU and memory.
    
    If you do come across cases where the cache isn't being emptied
    when it should, please let me know <pdcawley-typo@bofh.org.uk>
    or raise a ticket here and we'll look into it.
    
    Also, we've reinstated fragment caching; page caching comes with
    a whole host of gotchas that I'd rather not think about just now.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1511 820eb932-12ee-0310-9ca8-eeb645f39767
    Slowly moving behaviour from the controllers to the models by
    applying the Law of Demeter.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1509 820eb932-12ee-0310-9ca8-eeb645f39767
    More smallish refactorings. Just easing my way back
    into the code.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1508 820eb932-12ee-0310-9ca8-eeb645f39767
    A little bit of housekeeping. Starting to follow the law of demeter
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1507 820eb932-12ee-0310-9ca8-eeb645f39767
    – Fixed a few bugs
    – Added the week in refactoring patch
    – Added the rights table and the profile to rights one.
    – Populated the new tables.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1494 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed ordering of published_comments; removed duplicate declaratino from the blog
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1474 820eb932-12ee-0310-9ca8-eeb645f39767
    Completed temporary roll back of r1463
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1466 820eb932-12ee-0310-9ca8-eeb645f39767
    Added a bunch of things for seo permalinks friendly
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1463 820eb932-12ee-0310-9ca8-eeb645f39767
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    Added deprecation warning for plugins removal. Smells like release is close isn't it ?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1437 820eb932-12ee-0310-9ca8-eeb645f39767
    – Added Rich visual editor in the admin
    – Updated the settings to add the choice between :
            – visual text editor
            – simple text editor + live preview
            – simple text editor without live preview (the live preview is cool but overloads the servers with constant requests on articles)
    – Corrected a few things
    
    Simple editor + live preview is enabled by default
    
    I plan to let users choose their editor in the second time, and enable different visual editors according to personnal users settings. This will be useful when we go multiusers
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1398 820eb932-12ee-0310-9ca8-eeb645f39767
    Reduces the impact of an attempt trackback ping when trackbacks are
    disabled. I'm not sure if it's actually faster, but it dumps way less
    stuff in your logs, which can't be bad.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1393 820eb932-12ee-0310-9ca8-eeb645f39767
    Added default sitewide comments and trackback moderation
    Removed blogs now running Mephisto from the Static sidebar plugin
    Added mine. Blogging is just a question of ego isn't it ?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1373 820eb932-12ee-0310-9ca8-eeb645f39767
    * Fixed a couple of broken tests introduced by the changes in title_prefix
    * Nailed a few other issues brought up while porting tests to RSpec
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1323 820eb932-12ee-0310-9ca8-eeb645f39767
    Add option to postfix page title with blog name instead of prefix
    Adds a new migration 061 about this
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1318 820eb932-12ee-0310-9ca8-eeb645f39767
    Assorted tweaks.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1301 820eb932-12ee-0310-9ca8-eeb645f39767
    Mmm... instance caching... you know you *want* it!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1280 820eb932-12ee-0310-9ca8-eeb645f39767
    Take advantage of the blog/sidebar links
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1251 820eb932-12ee-0310-9ca8-eeb645f39767
    * Moved sidebar views into the correct plugin directory
    * Linked sidebars to the blog
    * Added better diagnostics to migration 54
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1246 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Oops--forgot to commit
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1244 820eb932-12ee-0310-9ca8-eeb645f39767
    More 4.1 cleanups.  Complete move from serialized canonical_server_url to non-serialized base_url.
    Add a bunch of rdoc.  More deprecations and cleanups.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1242 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated text filters a bit more.  Cleaner.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1241 820eb932-12ee-0310-9ca8-eeb645f39767
    A bit of multi-blog code.  It doesn't work yet.  via GPRS :-).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1240 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Eliminated the :controller/:action/:id default route, which works around
    the big nasty Rails Security Hole.
    
    It turns out we relied on it in all sorts of strange places. So I fixed that
    too.
    
    Expect a new Typo release real soon now.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1210 820eb932-12ee-0310-9ca8-eeb645f39767
    Commit #489 - option to prefix page title with blog name
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1191 820eb932-12ee-0310-9ca8-eeb645f39767
    Big changes to the state engine for feedback. Feedback now starts off
    in the 'Unclassified' state and moves to either JustPresumedHam or
    PresumedSpam depending on the results of Feedback#classify (the various Just*
    states are there as one shot states to handle sending of notifications or
    registering of spam/ham classification with akismet). JustPresumedHam
    decays to PresumedHam as soon as the feedback has been saved and the
    notifications sent.
    
    And there they rest until the classifications are solidified by the blog
    administrator on the feedback page. Feedback ends up as either Spam or Ham
    with an intermediate 'JustMarkedAs*' step for registering with Akismet.
    
    It should be possible to do some useful filtering on the feedback page
    (for instance, only see those messages whose classification hasn't been
    confirmed), but for that we need to add a couple of boolean fields to the
    contents table.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1188 820eb932-12ee-0310-9ca8-eeb645f39767
    (disabled) code to replace the whole controller mess in Blog.  Base url_for on canonical_server_url
    instead of the current controller object.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1150 820eb932-12ee-0310-9ca8-eeb645f39767
    Big spam filtering upgrade.
    
    This turns on Akismet filtering for all incoming comments and trackbacks.
    Comments (and trackbacks) that fail the spam check are marked as unpublished
    and can be deleted via the admin feedback page.
    
    In addition, the feedback page's publish/unpublish buttons now send feedback
    to Akismet (when enabled, of course).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1148 820eb932-12ee-0310-9ca8-eeb645f39767
    Add global trackback disable setting.  Closes #860
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1142 820eb932-12ee-0310-9ca8-eeb645f39767
    Add spam setting for Akismet key.  I still need to write the Akismet glue code, but it won't work without a key.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1136 820eb932-12ee-0310-9ca8-eeb645f39767
    Use published_at instead of created_at for permalinks.  Since published_at is new and it's initialized from created_at, this should be safe.  Closes #920
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1079 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix for #849
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1052 820eb932-12ee-0310-9ca8-eeb645f39767
    Web notifications (trackbacks, pingbacks that stuff) are now triggered from
    the WebNotifier content observer.
    
    Note that we've now added a new setting to Blog 'default_server_url' as a
    fallback for finding the blog's base url. If you're experiencing problems
    (I don't think you should be, it's only currently an issue in the tests and
    our blog fixtures has an appropriate url set), go to your /admin page and
    set the default url there (it should pick up a sensible default, so you can
    just check that for sanity and hit save if you like).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1046 820eb932-12ee-0310-9ca8-eeb645f39767
    The beginnings of some serious reworking of the way article publication,
    notifications, remote pings and (possibly) caching will work. After this patch
    an article's 'published' flag will never be set before its 'published_at' time.
    
    This is handled by introducing a 'triggers' table which holds a list of actions
    to perform on objects in the future. Every time the rails system gets a request,
    it performs any pending trigger actions. That way, although a message may well
    not be 'really' published until some time after its published_at time, it will
    appear as if it was.
    
    Next up, moving various 'on save' actions out of duplicated code in controllers
    
    NB: There's a bug in Rails that means that migration 45 shouldn't work with
    mysql or sqlite, hence the utterly gruesome monkey patch in
    lib/rails_patch/active_record.rb -- I look
    forward to the next release of Rails when I can get rid of those monstrosities.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1042 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed up Blog#url_for to have a slightly more sensible default
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1040 820eb932-12ee-0310-9ca8-eeb645f39767
    I've havered over doing this for a while now, if only because Rails
    is very strongly of the opinion that models don't need to know about
    url_for.
    
    Which is all very well, but Blog is a model of something that has
    contents accessible through urls.
    
    As always in these matters, the true test of whether something's a
    good idea or not is:
    
      Does it make the code clearer?
    
    And in this case, I think it does. By adding Blog#url_for, and
    especially by allowing it to take an object that responds to
    {{{location(anchor=nil, only_path=true)}}} I've managed to
    refactor out a great deal of repetition.
    
    Since url_for is also the stumbling block which stops us turning
    textfilters back into models, you can also consider this as a
    step along the road to making textfilters a little less weird.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1036 820eb932-12ee-0310-9ca8-eeb645f39767
    This leads to some unexpected mail in my inbox.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1030 820eb932-12ee-0310-9ca8-eeb645f39767
    Sing, muse the joy of pdcawley as he puts the monstrosity {{{article_url}}} and
    all its spawn to his sure swift sword and casts the tiny pieces down, down,
    ye even unto the very depths of The Pit.
    
    Bear witness as {{{Content#full_html}}} returns to the fray, trailing clouds of
    glory, renewing the vigour of old themes left withering in the TypoGarden.
    
    For, verily, I have returned the sensible API to its rightful place.
    
    (Oh, and if you ''must'' use them, {{{article_url}}} et al. will continue to work
    for the forseeable future, but I will insist on treating them like red headed
    stepchildren.)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1004 820eb932-12ee-0310-9ca8-eeb645f39767
    Add test for trackback-pinging an article.
    Fix trackback pinging so it actually works.
    Move some test helper methods from xml_controller_test into test_helper.
    Fix the XPath helper methods to support non-Element results
    Also fixes #747
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@996 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix mysql/postgres problems with blog code--Blog.find(:first) doesn't always return Blog #1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@951 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes for #731 and another potential bug I noticed
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@942 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove DEFAULT_BLOG_ID, it won't be useful when we have actual multi-blog support, and for now since we only have one Blog instance it also isn't useful.
    Fix the this_blog.blog_name issue. My guess is redirect_to, for whatever reason, avoids running after_filters, and so $blog was never getting reaped, and a stale Blog object somehow loses its settings methods. The before_filter now explicitly finds/creates a new Blog instance
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@937 820eb932-12ee-0310-9ca8-eeb645f39767
    Making legacy themes work again; I knew there was something I'd missed...
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@929 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Replace inject([]) with map.
    
    Hat tip to William T. Nelson: https://github.com/fdv/typo/pull/22
    Speed up specs by explicitely setting layout in each admin controller.
    Move theme layouts under their views directory.
    
    This way, we can specify the layout using a relative path, which will avoid
    looking for it in all plugins' view paths.
    Removing deprecated RAILS_ROOT
    convert prohibited relative to absolute paths
    add default argument to layout
    Fixing a bug on the new layout defined pages
    Solves ticket #41 : allows to define a secondary layout for Pages (ie a sidebar less layout)
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    More 4.1 cleanups.  Complete move from serialized canonical_server_url to non-serialized base_url.
    Add a bunch of rdoc.  More deprecations and cleanups.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1242 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove - and _ as valid characters to start a theme directory name. Fixes #678
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@893 820eb932-12ee-0310-9ca8-eeb645f39767
    Change how Typo finds themes--they must have an about.markdown file now.  Closes #533
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@758 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    Add default for theme about.markdown.  (closes #412)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@651 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
     * Allow additional characters in theme names (Now a full case insensitive \w plus dashes, implemented in the glob with character ranges) (closes #233)
     * Added a bunch of unit tests for the Theme model, including a mockup directory for potentially weird theme directory names (which includes a symlink to the main theme directory's azure)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@463 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed theme bug.  (closes #210)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@438 820eb932-12ee-0310-9ca8-eeb645f39767
    removed ugly theme_system.rb in favor of a proper Theme model
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@437 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding a quick and dirty fix to users won't have to ssh and run initial migration: if the fire triggers fails it's most probably because the database was not loaded, so we run the migration engine as a rescue.
    Update before_destroy to new syntax in Trigger model.
    Replace Object#returning with Object#tap.
    
    Object#returning is deprecated. Some instances were replaced with #tap,
    some pathological cases were removed and replaced with a simple return.
    At some point in any refactoring you have to trust your gut and check
    it in.
    
    This point has now been reached...
    
    New things:
    * routes.rb continues to get shorter, ArticlesController is now declared
      with 'map.datestamped_resource :articles' plus a few extra actions that
      will eventually move to other controllers
    * Comment posting is now handled by the shiny new CommentsController, which
      is resourceful. However, because we don't want to break too many themes
      yet, it's still rendering templates from the articles directory
    * If you want to make your themes work better with the new scheme, you
      should alter your comment form url to be:
      {{{ :url => comments_path(@article) }}}
      If you're linking to the preview action, that becomes
      {{{ preview_new_comment_path(@article) }}}
    * This breaks #1463 rather hard. I shall be rolling #1463 all the way back
      for the time being, at least until I've got the controllers working
      restfully. Once that's done, it should be relatively trivial to change
      the routes file from using {{{datestamped_resources(:articles)}}} to using
      {{{resources(:articles)}}}
    * Deprecation warnings for badly placed controller actions aren't yet
      in place. I need to work out some way of having those warnings show
      up on the admin pages...
    * This may break things horribly. I've run it against the test suite,
      I've walked through most stuff on my test blog, but (always) there
      is the niggling feeling that I've missed something.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1465 820eb932-12ee-0310-9ca8-eeb645f39767
    Why do I always find the bug *after* I've committed the damned changeset?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1048 820eb932-12ee-0310-9ca8-eeb645f39767
    Okay, this is the big, scary patch.
    
    Content is now using a state object to handle transitions between
    'new', 'draft', 'just_published', 'published' and 'publication_pending'
    states. The interesting states in that lot are:
    
      * just_published -- this is a transient state, nothing gets fetched
        from the object store in this state. content is marked as just
        published so that various things that should only happen when an
        article is just published (notifications, pings, etc) only happen
        once.
    
      * publication_pending -- this is when content is due to be published
        in the future. It generally means there's a trigger hanging about
        in the triggers table waiting to publish the article.
    
    At the moment the publication state isn't stored in the database, but derived
    from the 'published' flag and the 'published_at' field. I think we can
    survive like this for a while, but we may end up getting rid of the 'published'
    flag and replacing it with a publication_state field holding a simple
    memento that we can use to reconstruct the state object. (We can't just
    use slaird's {{{acts_as_state}}} plugin because that doesn't appear
    to use 'real' state objects that we can hang behaviour off, and I've
    switched us to using the state pattern precisely so I can hang behaviour
    off the states -- check out {{{ContentState::JustPublished}}} for an
    example of the kind of thing the state pattern lets you do.)
    
    Also, I've switched all the views I could find over to using
    {{{published_at}}} rather than {{{created_at}}}; if you're a theme author
    you might like to do the same.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1047 820eb932-12ee-0310-9ca8-eeb645f39767
    The beginnings of some serious reworking of the way article publication,
    notifications, remote pings and (possibly) caching will work. After this patch
    an article's 'published' flag will never be set before its 'published_at' time.
    
    This is handled by introducing a 'triggers' table which holds a list of actions
    to perform on objects in the future. Every time the rails system gets a request,
    it performs any pending trigger actions. That way, although a message may well
    not be 'really' published until some time after its published_at time, it will
    appear as if it was.
    
    Next up, moving various 'on save' actions out of duplicated code in controllers
    
    NB: There's a bug in Rails that means that migration 45 shouldn't work with
    mysql or sqlite, hence the utterly gruesome monkey patch in
    lib/rails_patch/active_record.rb -- I look
    forward to the next release of Rails when I can get rid of those monstrosities.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1042 820eb932-12ee-0310-9ca8-eeb645f39767
    I'm pretty sure someone will be able to tell me why we translated the spam states straight into the state machine, because I f%$#g don't see the point. Plus it breaks all the filterings and display admin side.
    
    Seriously, would you add HTML code within a controller?
    Clean up state triggers.
    
    In the State classes, before_save and friends were generating deprecation
    warnings. Rename these methods and remove them if unused.
    Replace Object#returning with Object#tap.
    
    Object#returning is deprecated. Some instances were replaced with #tap,
    some pathological cases were removed and replaced with a simple return.
    When sent by an authenticated user, commens should be marked as ham even with comment moderation enabled.
    fix bug on selected selector on feedback admin part
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Much footling with the feedback state machine and various
    caching related things.
    
    I ''think'' cache sweeping should now be happening in all the
    right places, while being reasonably light on the CPU and memory.
    
    If you do come across cases where the cache isn't being emptied
    when it should, please let me know <pdcawley-typo@bofh.org.uk>
    or raise a ticket here and we'll look into it.
    
    Also, we've reinstated fragment caching; page caching comes with
    a whole host of gotchas that I'd rather not think about just now.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1511 820eb932-12ee-0310-9ca8-eeb645f39767
    More smallish refactorings. Just easing my way back
    into the code.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1508 820eb932-12ee-0310-9ca8-eeb645f39767
    A big cleanup of the way content and feedback state is handled:
    
     * The ContentState:: namespace is gone. States now appear in the
       Article::States and Feedback::States namespace (or anywhere else
       that would be found through normal namespace resolution)
     * The magic now happens in lib/stateful.rb, which sets up the
      'has_state' declaration. Look at article.rb and feedback.rb for
       examples of it in use. Documentation and pluginification will happen.
       Eventually.
    
    Also, I've done a bit of spring cleaning on various content related
    classes and (shock!) added tests for Article#comment_closed?. Did
    _you_ know that wasn't being tested? Me neither.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1438 820eb932-12ee-0310-9ca8-eeb645f39767
    Clean up state triggers.
    
    In the State classes, before_save and friends were generating deprecation
    warnings. Rename these methods and remove them if unused.
    Removing RAILS_DEFAULT_LOGGER deprecation warning
    Replace Object#returning with Object#tap.
    
    Object#returning is deprecated. Some instances were replaced with #tap,
    some pathological cases were removed and replaced with a simple return.
    A big cleanup of the way content and feedback state is handled:
    
     * The ContentState:: namespace is gone. States now appear in the
       Article::States and Feedback::States namespace (or anywhere else
       that would be found through normal namespace resolution)
     * The magic now happens in lib/stateful.rb, which sets up the
      'has_state' declaration. Look at article.rb and feedback.rb for
       examples of it in use. Documentation and pluginification will happen.
       Eventually.
    
    Also, I've done a bit of spring cleaning on various content related
    classes and (shock!) added tests for Article#comment_closed?. Did
    _you_ know that wasn't being tested? Me neither.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1438 820eb932-12ee-0310-9ca8-eeb645f39767
    Added view partials and helpers from bootstrap into main area
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Mass-removal of trailing whitespace.
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Added view partials and helpers from bootstrap into main area
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Added view partials and helpers from bootstrap into main area
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Replacing old will_paginate with scope based Kaminari.
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Some cleaning and a bit of refactoring
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Cleaning some code, removing some unshared partials.
    Porting post types to Bootstrap
    Adds post types with admin management.
    
    Author can define multiple post types with associated templates. Default post type is 'read' so existing themes won't break.
    
    I didn't use Rails relational model on purpose as I wanted article to store the post type permalink. This will make theme helpers such as menu helpers easier to write. Maybe there's a cleaner way to do it though.
    Fix admin category#new view
    Reorganizes admin menus and submenus.
    
    Write tabs disappears for a more convenient "New Article" button.
    Contents becomes articles and has submenus for:
      – Articles
      – New article
      – Comments
      – Categories
      – Tags
    Pages becomes an independant tab with:
      – Pages
      – New page
    Resources becomes media (thank you Wordpress for helping me find a word)
    Remove trailing whitespace.
    Merging categories listing and creation form.
    
    Neither of them are wide enough to justify being on a single page. Having the category listing on the same page as the form improves readability when adding and managing categories.
    Getting read of deprecated ERB calls
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Fixing a stupid typo, makes the tests pass clean
    Mark up strings so that it works for translations.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Some more admin tweaking, mostly the sidebars, some things here and there... Looking better
    Adding subcategories
    Giving Typo some SEO capabilities
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1849 820eb932-12ee-0310-9ca8-eeb645f39767
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin cleaning :\n
    – removing admin for cache sweeping since no one knew it existed.\n
    – removing preview for articles and pages since they have been replaced long ago.\n
    – confirmation pop up for everything instead of going to destroy page. Destroy page has been kept for accessibility purpose.\n
    – Comments.new template removed since it's now on the comments list\n
    – Trackbacks.new admin removed : building a trackback on your own blog is a nonsense.\n
    Some more images cleaining.\n
    Removed unused tests.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1728 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    – Changed a few things in the UI
    – Now you can edit and view comments from the discuss page
    – Started Sitealizer integration
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1396 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on making the admin interface pretty. Main focus was user controller
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@365 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge of of /branches/admin into mainline
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@361 820eb932-12ee-0310-9ca8-eeb645f39767
    added categories admin. fixes #20
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@210 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Restyling dashboard
    Moves Dashboard to bootstrap
    Making the dashboard a little bit clearer, and the info style a little less flashy
    Remove trailing whitespace.
    Cleaning Dashboard CSS.
    
    This is the first step to a major CSS rework from JQuery UI generated stylesheet to something cleaner and more maintainable.
    * Less classes
    * Less code
    
    Step 2 will be splitting in 2 between structure and colors so we can offer various themes.
    Improves the dashboard usability and lisibility.
    
    Adds links to the various part of admin targeted by contents and feedback overview.
    Improves listing display.
    Adds articles summaries and time information where they were missing.
    Adds comments moderation directly within the dashboard.
    Adds the number of posts from Typo blog.
    Fixes the date display where getting information from RSS.
    Mass-removal of trailing whitespace.
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Fixing dashboard style
    add rescue on inbound and typo_links in dashboard if you haven't internet connection
    Adding inbound links and typosphere feed to the dashboard
    Restyling dashboard
    Moves Dashboard to bootstrap
    Making the dashboard a little bit clearer, and the info style a little less flashy
    Cleaning Dashboard CSS.
    
    This is the first step to a major CSS rework from JQuery UI generated stylesheet to something cleaner and more maintainable.
    * Less classes
    * Less code
    
    Step 2 will be splitting in 2 between structure and colors so we can offer various themes.
    Improves the dashboard usability and lisibility.
    
    Adds links to the various part of admin targeted by contents and feedback overview.
    Improves listing display.
    Adds articles summaries and time information where they were missing.
    Adds comments moderation directly within the dashboard.
    Adds the number of posts from Typo blog.
    Fixes the date display where getting information from RSS.
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Fix grammar and spacing issues
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Fixing dashboard style
    Adding theme catalogue
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Some other admin tweaking
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1692 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing new dashboard.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1684 820eb932-12ee-0310-9ca8-eeb645f39767
    Moves Dashboard to bootstrap
    Making the dashboard a little bit clearer, and the info style a little less flashy
    Adds useful links in the dashboard:
    - Documentation
    - Bug report
    - Theme catalogue
    - Sidebar plugins
    - In page plugins
    
    This was motivated by the fact tha we changed the bug tracker today.
    Simplify render in views: admin.
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    Mass-removal of trailing whitespace.
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Adding some links into dashboard, and a profile link
    Getting rid of the worse piece of code ever, multiplies Typo perfs by 10 when calling articles/index (see http://t37.net/ya-pas-comme-un-truc-qui-vous-fait-hurler-li)
    Getting rid of classic pagination for will_paginate
    Revamping the dashboard, step 1
    Revamping login form step 1
    cleaning admin/css step 1
    migrating default themes to will_paginate
    Adding last news from typo blog and last inbound links to dashboard
    Revert "Finishing Coderay integration"
    
    This reverts commit deb30cbde9448d2028050c70a7f60f0178e3017c.
    Finishing Coderay integration
    Refactoring and removing dead code made my day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1847 820eb932-12ee-0310-9ca8-eeb645f39767
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    Some other admin tweaking
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1692 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing new dashboard.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1684 820eb932-12ee-0310-9ca8-eeb645f39767
    A few translation and labelisation tweaking
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1634 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix typo in admin dashboard
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1619 820eb932-12ee-0310-9ca8-eeb645f39767
    Language is now set from the admin pannel and not from environment.rb anymore
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1560 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing new admin theme
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1556 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Strips accentuated characters from articles permalinks (useful for people like me heh).
    
    Fixes bug 1150 (thank you Nertzy, you're the one)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1543 820eb932-12ee-0310-9ca8-eeb645f39767
    Added user's dashboard.
    Enabled dashboard at login time.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1535 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing crash bug when you follow the 'Your posts' link from the admin
    dashboard.
    Restyling dashboard
    Moves Dashboard to bootstrap
    Making the dashboard a little bit clearer, and the info style a little less flashy
    Remove trailing whitespace.
    Cleaning Dashboard CSS.
    
    This is the first step to a major CSS rework from JQuery UI generated stylesheet to something cleaner and more maintainable.
    * Less classes
    * Less code
    
    Step 2 will be splitting in 2 between structure and colors so we can offer various themes.
    Adding a version checking.
    When displaying dashboard, typo will check for the latest release and will display a message accordingly:
    * A notice if Typo's just a minor version behind.
    * A warning if Typo's a sub version behind.
    * An error message if Typo's a major version behind
    Improves the dashboard usability and lisibility.
    
    Adds links to the various part of admin targeted by contents and feedback overview.
    Improves listing display.
    Adds articles summaries and time information where they were missing.
    Adds comments moderation directly within the dashboard.
    Adds the number of posts from Typo blog.
    Fixes the date display where getting information from RSS.
    Improving dashboard adding some figures about spam
    Mass-removal of trailing whitespace.
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing new dashboard.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1684 820eb932-12ee-0310-9ca8-eeb645f39767
    Restyling dashboard
    Moves Dashboard to bootstrap
    Making the dashboard a little bit clearer, and the info style a little less flashy
    Cleaning Dashboard CSS.
    
    This is the first step to a major CSS rework from JQuery UI generated stylesheet to something cleaner and more maintainable.
    * Less classes
    * Less code
    
    Step 2 will be splitting in 2 between structure and colors so we can offer various themes.
    Improves the dashboard usability and lisibility.
    
    Adds links to the various part of admin targeted by contents and feedback overview.
    Improves listing display.
    Adds articles summaries and time information where they were missing.
    Adds comments moderation directly within the dashboard.
    Adds the number of posts from Typo blog.
    Fixes the date display where getting information from RSS.
    Fixes the admin sidebar controller crashing, adding missing specs, removing useless dead partials.
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Fix grammar and spacing issues
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Fixing dashboard style
    add rescue on inbound and typo_links in dashboard if you haven't internet connection
    Adding inbound links and typosphere feed to the dashboard
    Restyling dashboard
    Moves Dashboard to bootstrap
    Making the dashboard a little bit clearer, and the info style a little less flashy
    Cleaning Dashboard CSS.
    
    This is the first step to a major CSS rework from JQuery UI generated stylesheet to something cleaner and more maintainable.
    * Less classes
    * Less code
    
    Step 2 will be splitting in 2 between structure and colors so we can offer various themes.
    Improves the dashboard usability and lisibility.
    
    Adds links to the various part of admin targeted by contents and feedback overview.
    Improves listing display.
    Adds articles summaries and time information where they were missing.
    Adds comments moderation directly within the dashboard.
    Adds the number of posts from Typo blog.
    Fixes the date display where getting information from RSS.
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Fixing dashboard style
    Introducing new dashboard.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1684 820eb932-12ee-0310-9ca8-eeb645f39767
    Restyling dashboard
    Moves Dashboard to bootstrap
    Making the dashboard a little bit clearer, and the info style a little less flashy
    Remove trailing whitespace.
    typo in filemanager include, what if post has no body?
    Cleaning Dashboard CSS.
    
    This is the first step to a major CSS rework from JQuery UI generated stylesheet to something cleaner and more maintainable.
    * Less classes
    * Less code
    
    Step 2 will be splitting in 2 between structure and colors so we can offer various themes.
    Improves the dashboard usability and lisibility.
    
    Adds links to the various part of admin targeted by contents and feedback overview.
    Improves listing display.
    Adds articles summaries and time information where they were missing.
    Adds comments moderation directly within the dashboard.
    Adds the number of posts from Typo blog.
    Fixes the date display where getting information from RSS.
    Fixes a bug making the admin dashboard crashing because of Rails 3 new behavior
    Mass-removal of trailing whitespace.
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Fix grammar and spacing issues
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Fixing dashboard style
    Some other admin tweaking
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1692 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing new dashboard.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1684 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug in the dashboard
    Removing theme catalogue and mentions of Typogarden.
    
    Theme catalogue now returns a 404 and is not maintained anymore.
    We've lost typogarden.org (I actually forgot to renew it) and most themes were not supported anymore.
    
    We'll need to find a way to display themes, maybe using themes.typosphere.org with a statically cached blog, I need to think about this first.
    Moves Dashboard to bootstrap
    Cleaning Dashboard CSS.
    
    This is the first step to a major CSS rework from JQuery UI generated stylesheet to something cleaner and more maintainable.
    * Less classes
    * Less code
    
    Step 2 will be splitting in 2 between structure and colors so we can offer various themes.
    Dashboard internationalization
    fix link to 'write a page' problem on dashboard
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Fix grammar and spacing issues
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing new dashboard.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1684 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds permalink field to category creation
    Cleaning some code, removing some unshared partials.
    Fixes categories views
    Categories now
    Add Category creation on Content creation page (UJS way). Induced some refactorisation in Categories views and model
    Fix admin category#new view
    Reorganizes admin menus and submenus.
    
    Write tabs disappears for a more convenient "New Article" button.
    Contents becomes articles and has submenus for:
      – Articles
      – New article
      – Comments
      – Categories
      – Tags
    Pages becomes an independant tab with:
      – Pages
      – New page
    Resources becomes media (thank you Wordpress for helping me find a word)
    Remove trailing whitespace.
    Merging categories listing and creation form.
    
    Neither of them are wide enough to justify being on a single page. Having the category listing on the same page as the form improves readability when adding and managing categories.
    Getting read of deprecated ERB calls
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Fixing a stupid typo, makes the tests pass clean
    Mark up strings so that it works for translations.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Some more admin tweaking, mostly the sidebars, some things here and there... Looking better
    Adding subcategories
    Giving Typo some SEO capabilities
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1849 820eb932-12ee-0310-9ca8-eeb645f39767
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin cleaning :\n
    – removing admin for cache sweeping since no one knew it existed.\n
    – removing preview for articles and pages since they have been replaced long ago.\n
    – confirmation pop up for everything instead of going to destroy page. Destroy page has been kept for accessibility purpose.\n
    – Comments.new template removed since it's now on the comments list\n
    – Trackbacks.new admin removed : building a trackback on your own blog is a nonsense.\n
    Some more images cleaining.\n
    Removed unused tests.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1728 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    – Changed a few things in the UI
    – Now you can edit and view comments from the discuss page
    – Started Sitealizer integration
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1396 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on making the admin interface pretty. Main focus was user controller
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@365 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge of of /branches/admin into mainline
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@361 820eb932-12ee-0310-9ca8-eeb645f39767
    added categories admin. fixes #20
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@210 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    TopLayer in admin is now a full page overlay (reduce miss-click risk). Clicking on it close the overlay. Better CSS (background transparancy)
    Add Category creation on Content creation page (UJS way). Induced some refactorisation in Categories views and model
    Removing legacy use of subtabs_for
    Moving pages to Bootstrap
    Reorganizes admin menus and submenus.
    
    Write tabs disappears for a more convenient "New Article" button.
    Contents becomes articles and has submenus for:
      – Articles
      – New article
      – Comments
      – Categories
      – Tags
    Pages becomes an independant tab with:
      – Pages
      – New page
    Resources becomes media (thank you Wordpress for helping me find a word)
    Simplify render in views: admin.
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    fix in the 'create new page' link
    Better UI for items listing table
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds tags management to the back office. Still needs tag merging... later
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1683 820eb932-12ee-0310-9ca8-eeb645f39767
    A few translation and labelisation tweaking
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1634 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1529 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Applies administration regorganisation patch + adds some new icons from famfamfam.com
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1364 820eb932-12ee-0310-9ca8-eeb645f39767
    Add static pages.  Also fixes a caching bug (the new PageCache was broken due to :name/:page_name mix).  (closes #181)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@391 820eb932-12ee-0310-9ca8-eeb645f39767
    Expanded the quick post system to categories and blacklists
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@384 820eb932-12ee-0310-9ca8-eeb645f39767
    Added Quick Post functionality
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@379 820eb932-12ee-0310-9ca8-eeb645f39767
    Articles can now be posted without being published (closes #104)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@370 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge of of /branches/admin into mainline
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@361 820eb932-12ee-0310-9ca8-eeb645f39767
    Added sidebar boxes for recent comments and trackbacks. This partial is currently only rendered for admin/content/list for the lack of the welcome page discussed on IRC
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@218 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes switching back and fort between simple and visual editor.
    
    When switching back and fort from visual editor to simple editor, data would still appear in the ckeditor but was never sent to server. It seems that using CKEDITOR.instances.page__body_editor.setData() was not enough as the page__body_editor hidden textarea had to be filled in first.
    Mass-removal of trailing whitespace.
    Adding image browsing to static pages as well
    Fixes a critical bug in the visual editor on both pages and articles. What basically happened was that simple editor was always added to the HTML code. This caused the form to have 2 body_and_extended elements: first, the visual editor, then the simple one, not displayed. That caused the form to send the empty content instead of the good one. Thank David N. Welton for finding the bug and mentionning it. We need to release something quick because of this
    Fixing the page editor bug
    Fixes a bug greaking the switch between RTE and simple editor
    Updating layout and helpers with CKEditor
    Fixing are a few remaining bugs in the editor I did not see at first glance because I use a very permissive crappy browser to develop (ie. Firefox).
    
    A misclosed div breaks the editor in Safari, causing a style bug and making the tag field disappear when you switch editor.
    
    Editor should have rounded corner, using border-radiud, moz-border-radius and webkit-border-radius
    
    Save block style is brocken (need a line break) on page editor
    
    On pages, optionnal settings are displayed on new post. This is the contrary of what's expected
    Allowing to send content from an editor to another and back. I know. It's ugly. Please send a patch if you're better at Javascript than me, I'd be really glad
    Some editor refactoring, it really needed it after yesterday's change.
    
    I've made a migration to make User.editor manipulation easier (simple / visual is better than 0,2). That allowed me to ditch lot of duplicate code. Cool.
    Adding editor switching to pages. This needs a few refactoring and tests too
    First attempt of switching editor from the editing form
    
    TODO:
    * Allow to switch between editors. For some reasons I've been stuck with FCKEditor API for a while now.
    * Add this to pages as well
    * Clean the code
    * Add tests (I commit without tests because it's 1am and I can't even read my screen anymore, but I don't wanna lose this now that it's working)
    * Make the switching behaviour better (remove links form active tabs...)
    Adding image browsing to static pages as well
    Hides the image carousel in visual editor mode since we now have a dedicated browser in visual mode
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Moving the image viewer from the editor to a partial. Displaying only when there are actually pictures to show
    Better UI for items listing table
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    keep the published choice when filter page by published
    Some more code cleaning.
    Fixes a bug in tags
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1850 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding subcategories
    Giving Typo some SEO capabilities
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1849 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    – Cleans some views by moving condition statements to a helper
    – Fix a draft + autosave behavior bug: if I save an autosaved article as a draft, it is duplicated as the autosaved article id is not taken into account in the draft saving process.
    – Moves the autosave delay to 30 seconds to cut the server a little slack
    – Removes comments creation from protect_from_forgery to avoid crash with caches_page when adding comments
    – Fixes a bug with the contributor role tha prevents contributors to access anything in the admin
    – Adds draft deletion (useful heh ?)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1778 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds filtering on edit / delete to content for non administrative users
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1754 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing a bug which prevented pages having multiple / in them to be displayed
    Fixing a bug that would redirect page creation to show instead of list
    Removing link to preview on unpublished page and articles unless I find a better solution for this.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1750 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin cleaning :\n
    – removing admin for cache sweeping since no one knew it existed.\n
    – removing preview for articles and pages since they have been replaced long ago.\n
    – confirmation pop up for everything instead of going to destroy page. Destroy page has been kept for accessibility purpose.\n
    – Comments.new template removed since it's now on the comments list\n
    – Trackbacks.new admin removed : building a trackback on your own blog is a nonsense.\n
    Some more images cleaining.\n
    Removed unused tests.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1728 820eb932-12ee-0310-9ca8-eeb645f39767
    Some more admin enhancement
    Added typo:code stylesheet
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1688 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    A few translation and labelisation tweaking
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1634 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing new admin theme
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1556 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Another bit of admin tweaking :
    
    – Added by column sorting on posts and pages admin (always useful)
    – Revamped the categories/show/id to look like the contents/list and
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1544 820eb932-12ee-0310-9ca8-eeb645f39767
    Did a bit of cleaning in the images directory. Moved admin specific pictures in images/admin and removed lots of useless garbage that should not have been here.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1537 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1529 820eb932-12ee-0310-9ca8-eeb645f39767
    Revamped some things in the admin + fixed ticket 1118
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1482 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Rebuild the content and pages list
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1366 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
     * Added title attributes to static pages and the name of the page in question to the page destroy page (closes #236) [atmos]
     * Also fixed label for values to match the corresponding fields
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@464 820eb932-12ee-0310-9ca8-eeb645f39767
    Add static pages.  Also fixes a caching bug (the new PageCache was broken due to :name/:page_name mix).  (closes #181)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@391 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing legacy use of subtabs_for
    Reorganizes admin menus and submenus.
    
    Write tabs disappears for a more convenient "New Article" button.
    Contents becomes articles and has submenus for:
      – Articles
      – New article
      – Comments
      – Categories
      – Tags
    Pages becomes an independant tab with:
      – Pages
      – New page
    Resources becomes media (thank you Wordpress for helping me find a word)
    Simplify render in views: admin.
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    A few translation and labelisation tweaking
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1634 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1529 820eb932-12ee-0310-9ca8-eeb645f39767
    Few bug fixes, translated the plugins frontends, added some things here and there. The CSS code in the template is done on prpose, otherwise it doesn't work
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1391 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Revamped both article/new and page/new forms (and indeed edit forms)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1369 820eb932-12ee-0310-9ca8-eeb645f39767
    Applies administration regorganisation patch + adds some new icons from famfamfam.com
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1364 820eb932-12ee-0310-9ca8-eeb645f39767
    DRY up a bit more - articles and pages editing now share a single partial for the preview work
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1336 820eb932-12ee-0310-9ca8-eeb645f39767
    DRY up the pages editing as well.
    Also introduce the new iframe technique used by article previews
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1335 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Swap out field observers in article and pages creation/editing forms for a single form observer (fixes #230)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@461 820eb932-12ee-0310-9ca8-eeb645f39767
    Should fix rendering issue in  #197
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@413 820eb932-12ee-0310-9ca8-eeb645f39767
    Add static pages.  Also fixes a caching bug (the new PageCache was broken due to :name/:page_name mix).  (closes #181)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@391 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on making the admin interface pretty. Main focus was user controller
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@365 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge of of /branches/admin into mainline
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@361 820eb932-12ee-0310-9ca8-eeb645f39767
    improve the articles entry form
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@316 820eb932-12ee-0310-9ca8-eeb645f39767
    added live preview while typing a new article in the html admin interface (madrobby) fixes #60
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@215 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing legacy use of subtabs_for
    Reorganizes admin menus and submenus.
    
    Write tabs disappears for a more convenient "New Article" button.
    Contents becomes articles and has submenus for:
      – Articles
      – New article
      – Comments
      – Categories
      – Tags
    Pages becomes an independant tab with:
      – Pages
      – New page
    Resources becomes media (thank you Wordpress for helping me find a word)
    Simplify render in views: admin.
    Makes the page and article editor look alike
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    DRY up a bit more - articles and pages editing now share a single partial for the preview work
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1336 820eb932-12ee-0310-9ca8-eeb645f39767
    DRY up the pages editing as well.
    Also introduce the new iframe technique used by article previews
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1335 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Swap out field observers in article and pages creation/editing forms for a single form observer (fixes #230)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@461 820eb932-12ee-0310-9ca8-eeb645f39767
    Added consistency to Pages area and removed powered by footer
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@425 820eb932-12ee-0310-9ca8-eeb645f39767
    polish for the (Static-) Pages admin controller.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@402 820eb932-12ee-0310-9ca8-eeb645f39767
    Add static pages.  Also fixes a caching bug (the new PageCache was broken due to :name/:page_name mix).  (closes #181)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@391 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on making the admin interface pretty. Main focus was user controller
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@365 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge of of /branches/admin into mainline
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@361 820eb932-12ee-0310-9ca8-eeb645f39767
    improve the articles entry form
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@316 820eb932-12ee-0310-9ca8-eeb645f39767
    added extended entries support and fixed search (kevin@sb.org) closes #44, #129
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@300 820eb932-12ee-0310-9ca8-eeb645f39767
     * Added links to public pages to content/comment admin pages' tasks bar (fixes #99)
     * Added strip_html() for admin/comments/list to make sure inline HTML in comment bodies messup the following HTML
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@270 820eb932-12ee-0310-9ca8-eeb645f39767
    added live preview while typing a new article in the html admin interface (madrobby) fixes #60
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@215 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes switching back and fort between simple and visual editor.
    
    When switching back and fort from visual editor to simple editor, data would still appear in the ckeditor but was never sent to server. It seems that using CKEDITOR.instances.page__body_editor.setData() was not enough as the page__body_editor hidden textarea had to be filled in first.
    Adding image browsing to static pages as well
    Extending editor a little bit
    Fixing the page editor bug
    Fixing are a few remaining bugs in the editor I did not see at first glance because I use a very permissive crappy browser to develop (ie. Firefox).
    
    A misclosed div breaks the editor in Safari, causing a style bug and making the tag field disappear when you switch editor.
    
    Editor should have rounded corner, using border-radiud, moz-border-radius and webkit-border-radius
    
    Save block style is brocken (need a line break) on page editor
    
    On pages, optionnal settings are displayed on new post. This is the contrary of what's expected
    Allowing to send content from an editor to another and back. I know. It's ugly. Please send a patch if you're better at Javascript than me, I'd be really glad
    Some editor refactoring, it really needed it after yesterday's change.
    
    I've made a migration to make User.editor manipulation easier (simple / visual is better than 0,2). That allowed me to ditch lot of duplicate code. Cool.
    Adding editor switching to pages. This needs a few refactoring and tests too
    First attempt of switching editor from the editing form
    
    TODO:
    * Allow to switch between editors. For some reasons I've been stuck with FCKEditor API for a while now.
    * Add this to pages as well
    * Clean the code
    * Add tests (I commit without tests because it's 1am and I can't even read my screen anymore, but I don't wanna lose this now that it's working)
    * Make the switching behaviour better (remove links form active tabs...)
    Adds the media back into the editor.
    Adds new editor for pages
    Fix rendering of image carousel in page form.
    Remove superfluous text_filter form field.
    Small Law of Demeter fix (eases mocking for view specs).
    Simplify render in views: admin.
    Remove trailing whitespace.
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    Makes the page and article editor look alike
    fixes pages form
    Mass-removal of trailing whitespace.
    Adding image browsing to static pages as well
    Styling pages form
    Fixes a critical bug in the visual editor on both pages and articles. What basically happened was that simple editor was always added to the HTML code. This caused the form to have 2 body_and_extended elements: first, the visual editor, then the simple one, not displayed. That caused the form to send the empty content instead of the good one. Thank David N. Welton for finding the bug and mentionning it. We need to release something quick because of this
    Extending editor a little bit
    Fixing the page editor bug
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Switching admin back to 100% to give the editor more room
    Fixes Incongruent use of ':' on forms ticket #103
    Fixing are a few remaining bugs in the editor I did not see at first glance because I use a very permissive crappy browser to develop (ie. Firefox).
    
    A misclosed div breaks the editor in Safari, causing a style bug and making the tag field disappear when you switch editor.
    
    Editor should have rounded corner, using border-radiud, moz-border-radius and webkit-border-radius
    
    Save block style is brocken (need a line break) on page editor
    
    On pages, optionnal settings are displayed on new post. This is the contrary of what's expected
    Allowing to send content from an editor to another and back. I know. It's ugly. Please send a patch if you're better at Javascript than me, I'd be really glad
    Some editor refactoring, it really needed it after yesterday's change.
    
    I've made a migration to make User.editor manipulation easier (simple / visual is better than 0,2). That allowed me to ditch lot of duplicate code. Cool.
    Adding editor switching to pages. This needs a few refactoring and tests too
    Added text filters back on pages nd articles forms, moved text filters to users instead of global configuration
    Some more admin tweaking, mostly the sidebars, some things here and there... Looking better
    Cleaned the admin CSS
    Removing useless textfilters setting in the admin, adding macro help in the editor when editor is not FCK
    Fixing a bug with quicktags, and setting up a workaround to be sure everything goes right
    Adding a heavily modified version of Ryan King's JS Quicktags to simple admin. This would need some rewrite using Prototype if only I knoew Javascript. This one supports typo:code. I'll add typo:flickr and other macro later
    Revamping the page form and article form
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding drafts capabilities
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1755 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    A few translation and labelisation tweaking
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1634 820eb932-12ee-0310-9ca8-eeb645f39767
    Styles some forms
    Styles the sidebar items
    Fixes a bug in the theme lists
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1558 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Did a bit of cleaning in the images directory. Moved admin specific pictures in images/admin and removed lots of useless garbage that should not have been here.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1537 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1529 820eb932-12ee-0310-9ca8-eeb645f39767
    Revamped some things in the admin + fixed ticket 1118
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1482 820eb932-12ee-0310-9ca8-eeb645f39767
    – Added Rich visual editor in the admin
    – Updated the settings to add the choice between :
            – visual text editor
            – simple text editor + live preview
            – simple text editor without live preview (the live preview is cool but overloads the servers with constant requests on articles)
    – Corrected a few things
    
    Simple editor + live preview is enabled by default
    
    I plan to let users choose their editor in the second time, and enable different visual editors according to personnal users settings. This will be useful when we go multiusers
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1398 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing CSS issue that broke the preview
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1377 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Revamped both article/new and page/new forms (and indeed edit forms)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1369 820eb932-12ee-0310-9ca8-eeb645f39767
    Add popup markup helper.  Closes #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1104 820eb932-12ee-0310-9ca8-eeb645f39767
    Slightly improved article preview by moving category and keywords below body textarea and applied width changes to prevent wrapping (closes #476, #479)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@814 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix minor typo on pages admin page
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@516 820eb932-12ee-0310-9ca8-eeb645f39767
    Closes #231 U.I. changes and cleanup up redundant screens.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@498 820eb932-12ee-0310-9ca8-eeb645f39767
     * Added title attributes to static pages and the name of the page in question to the page destroy page (closes #236) [atmos]
     * Also fixed label for values to match the corresponding fields
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@464 820eb932-12ee-0310-9ca8-eeb645f39767
    polish for the (Static-) Pages admin controller.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@402 820eb932-12ee-0310-9ca8-eeb645f39767
    Add static pages.  Also fixes a caching bug (the new PageCache was broken due to :name/:page_name mix).  (closes #181)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@391 820eb932-12ee-0310-9ca8-eeb645f39767
    Settings and users
    Resources listing to Bootstrap
    Reorganizes admin menus and submenus.
    
    Write tabs disappears for a more convenient "New Article" button.
    Contents becomes articles and has submenus for:
      – Articles
      – New article
      – Comments
      – Categories
      – Tags
    Pages becomes an independant tab with:
      – Pages
      – New page
    Resources becomes media (thank you Wordpress for helping me find a word)
    Simplify render in views: admin.
    Remove trailing whitespace.
    Fixing the link to original size image
    Adding a medium sized picture when uploading image.
    Adding a setting for both thumbnail and medium size.
    Removing the ability for end users to edit uploaded files mime type.
    
    First, this is a usability heresis. End users should not have to deal with mime types, and the application takes care of it from them.
    Second, we never use it anywhere. Since files are directly served by the Web server, having it there is useless
    Merges both files and resources view in the admin, first step to a (much) better file upload thing
    No space before opening parenthesis.
    Mass-removal of trailing whitespace.
    Better resources UI
    Better UI for items listing table
    Dropping iTunes metadata support. They will probably come back in the futur as a plugin
    Adds a first draft for Typo images library
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    A bit of file upload refactoring. Having a separate screen to upload is stupid. Next: switch to paperclip but ensure backward compatibility
    Fixing resources index
    Some admin cleaning :\n
    – removing admin for cache sweeping since no one knew it existed.\n
    – removing preview for articles and pages since they have been replaced long ago.\n
    – confirmation pop up for everything instead of going to destroy page. Destroy page has been kept for accessibility purpose.\n
    – Comments.new template removed since it's now on the comments list\n
    – Trackbacks.new admin removed : building a trackback on your own blog is a nonsense.\n
    Some more images cleaining.\n
    Removed unused tests.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1728 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds tags management to the back office. Still needs tag merging... later
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1683 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few bugs
    Adds patch 1168
    Adds patch 1165
    Closes ticket 1166
    Closes ticket 1164
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1587 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds pagination to resources
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1582 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1529 820eb932-12ee-0310-9ca8-eeb645f39767
    Few fixes here and there
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1385 820eb932-12ee-0310-9ca8-eeb645f39767
    fix an error
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1384 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Applies administration regorganisation patch + adds some new icons from famfamfam.com
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1364 820eb932-12ee-0310-9ca8-eeb645f39767
    Podcasting, thanks to bingeldac (Grant Schofield).  This also reverts the previous two patches--it's possible that migrations are broken, but that's better then everything else being broken.  There are a few things that I'd like to change here, but by and large it works.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@752 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
    More article admin pagination.  closes #215
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@446 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Adds a batter media library, with carousel + Ajax fetch of next elements. Got a strange behavior after ajax loading, but I'll need some help at that point
    Settings and users
    Resources listing to Bootstrap
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    Mass-removal of trailing whitespace.
    Better resources UI
    Better icons display
    Better resource upload display
    Adds a first draft for Typo images library
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    A bit of file upload refactoring. Having a separate screen to upload is stupid. Next: switch to paperclip but ensure backward compatibility
    Fixing resources index
    Some admin cleaning :\n
    – removing admin for cache sweeping since no one knew it existed.\n
    – removing preview for articles and pages since they have been replaced long ago.\n
    – confirmation pop up for everything instead of going to destroy page. Destroy page has been kept for accessibility purpose.\n
    – Comments.new template removed since it's now on the comments list\n
    – Trackbacks.new admin removed : building a trackback on your own blog is a nonsense.\n
    Some more images cleaining.\n
    Removed unused tests.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1728 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds tags management to the back office. Still needs tag merging... later
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1683 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few bugs
    Adds patch 1168
    Adds patch 1165
    Closes ticket 1166
    Closes ticket 1164
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1587 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds pagination to resources
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1582 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1529 820eb932-12ee-0310-9ca8-eeb645f39767
    Few fixes here and there
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1385 820eb932-12ee-0310-9ca8-eeb645f39767
    fix an error
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1384 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Applies administration regorganisation patch + adds some new icons from famfamfam.com
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1364 820eb932-12ee-0310-9ca8-eeb645f39767
    Podcasting, thanks to bingeldac (Grant Schofield).  This also reverts the previous two patches--it's possible that migrations are broken, but that's better then everything else being broken.  There are a few things that I'd like to change here, but by and large it works.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@752 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
    Cleaning some code, removing some unshared partials.
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    Getting read of deprecated ERB calls
    Doing a little bit of cleaning
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1757 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
    new form
    first cucumber test passing
    Getting read of deprecated ERB calls
    reactive autosave when use simple editor. Fix bug introduce by Rails 2.2
    Adding drafts capabilities
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1755 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing a bug introduced by remving live preview
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1748 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin cleaning :\n
    – removing admin for cache sweeping since no one knew it existed.\n
    – removing preview for articles and pages since they have been replaced long ago.\n
    – confirmation pop up for everything instead of going to destroy page. Destroy page has been kept for accessibility purpose.\n
    – Comments.new template removed since it's now on the comments list\n
    – Trackbacks.new admin removed : building a trackback on your own blog is a nonsense.\n
    Some more images cleaining.\n
    Removed unused tests.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1728 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    Another admin tweaking
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1563 820eb932-12ee-0310-9ca8-eeb645f39767
    Styles some forms
    Styles the sidebar items
    Fixes a bug in the theme lists
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1558 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1529 820eb932-12ee-0310-9ca8-eeb645f39767
    Added a shaded class for item lists as well
    Improved usability for comments page
    Improved usability for feedback page
    Added a bookmarklet to the edit page
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1493 820eb932-12ee-0310-9ca8-eeb645f39767
    – Added Rich visual editor in the admin
    – Updated the settings to add the choice between :
            – visual text editor
            – simple text editor + live preview
            – simple text editor without live preview (the live preview is cool but overloads the servers with constant requests on articles)
    – Corrected a few things
    
    Simple editor + live preview is enabled by default
    
    I plan to let users choose their editor in the second time, and enable different visual editors according to personnal users settings. This will be useful when we go multiusers
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1398 820eb932-12ee-0310-9ca8-eeb645f39767
    Few bug fixes, translated the plugins frontends, added some things here and there. The CSS code in the template is done on prpose, otherwise it doesn't work
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1391 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Revamped both article/new and page/new forms (and indeed edit forms)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1369 820eb932-12ee-0310-9ca8-eeb645f39767
    Do some work on the admin article preview. This will make the preview more closely mimic a real post using Azure.
    Add a plugin to fix a perceived bug in observe_form which fixes an actual bug in our usage of observe_form in admin article editing
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1357 820eb932-12ee-0310-9ca8-eeb645f39767
    DRY up a bit more - articles and pages editing now share a single partial for the preview work
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1336 820eb932-12ee-0310-9ca8-eeb645f39767
    DRY up the pages editing as well.
    Also introduce the new iframe technique used by article previews
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1335 820eb932-12ee-0310-9ca8-eeb645f39767
    Revert previous commit - I don't know what I was thinking
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1334 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove accidental quotes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1333 820eb932-12ee-0310-9ca8-eeb645f39767
    DRY up the admin article editing views
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1332 820eb932-12ee-0310-9ca8-eeb645f39767
    Doing some cleaning in the detroy process:
    – We don't need multiple destroy files when they all share the same code, excepted a message which can be defined from the controller name.
    – An old chinese master once told me "the earlier you return, the better it is", so I reverted the conditions in the destroy methods, which seems much more sensible now that I think about it.
    
    Please, guys, revert if you think using @record is going against all conventions (not sure about that one, and I don't have an internet access being stuck in the country in a frozen train because my beloved country is still unable to handle a wave of cold but it _really_ cleans the code, so I hope so).
    Settings and users
    Removing some more Jquery UI bits
    Mass-removal of trailing whitespace.
    Better profile edit display, user edit, user listing
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Fixes sprintf issues + complete french translation
    Moving users management to settings
    Introduces users deactivation. Needs some fine tuning to be really good
    Adding visual signal on ham / spam comments the same way as we do on posts
    Unifying the back office listing, cleaning some CSS
    Fixes users listing
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1855 820eb932-12ee-0310-9ca8-eeb645f39767
    Some more code cleaning.
    Fixes a bug in tags
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1850 820eb932-12ee-0310-9ca8-eeb645f39767
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds filtering on edit / delete to content for non administrative users
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1754 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin cleaning :\n
    – removing admin for cache sweeping since no one knew it existed.\n
    – removing preview for articles and pages since they have been replaced long ago.\n
    – confirmation pop up for everything instead of going to destroy page. Destroy page has been kept for accessibility purpose.\n
    – Comments.new template removed since it's now on the comments list\n
    – Trackbacks.new admin removed : building a trackback on your own blog is a nonsense.\n
    Some more images cleaining.\n
    Removed unused tests.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1728 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    Some more admin enhancement
    Added typo:code stylesheet
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1688 820eb932-12ee-0310-9ca8-eeb645f39767
    Finished integrating the new admin CSS (I hope)
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1565 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1529 820eb932-12ee-0310-9ca8-eeb645f39767
    Enables the users profiles
    Fix a bug breaking users editing
    Refactors the user list displays
    
    Next step is : add rights, link profiles to right (statically), links actions to rights and here we go for multiusers
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1489 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Applies administration regorganisation patch + adds some new icons from famfamfam.com
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1364 820eb932-12ee-0310-9ca8-eeb645f39767
    Cleaned up user admin page and redirected to list view after creating a new user
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@421 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on making the admin interface pretty. Main focus was user controller
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@365 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge of of /branches/admin into mainline
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@361 820eb932-12ee-0310-9ca8-eeb645f39767
    Provide an optional mailto: link on article author names. (closes #156)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@354 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed all of the image_tag calls to not be dependant on the images directory being at root of webserver.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@203 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing legacy use of subtabs_for
    Getting read of deprecated ERB calls
    Better profile edit display, user edit, user listing
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Improving user's profile, adding fields for msn, aim, twitter... and a better display name. Avatar and dedicated pages will come later
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin cleaning :\n
    – removing admin for cache sweeping since no one knew it existed.\n
    – removing preview for articles and pages since they have been replaced long ago.\n
    – confirmation pop up for everything instead of going to destroy page. Destroy page has been kept for accessibility purpose.\n
    – Comments.new template removed since it's now on the comments list\n
    – Trackbacks.new admin removed : building a trackback on your own blog is a nonsense.\n
    Some more images cleaining.\n
    Removed unused tests.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1728 820eb932-12ee-0310-9ca8-eeb645f39767
    Finished integrating the new admin CSS (I hope)
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1565 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1529 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Applies administration regorganisation patch + adds some new icons from famfamfam.com
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1364 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on making the admin interface pretty. Main focus was user controller
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@365 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge of of /branches/admin into mainline
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@361 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing legacy use of subtabs_for
    Getting read of deprecated ERB calls
    Better profile edit display, user edit, user listing
    Moving users management to settings
    Improving user's profile, adding fields for msn, aim, twitter... and a better display name. Avatar and dedicated pages will come later
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds filtering on edit / delete to content for non administrative users
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1754 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin cleaning :\n
    – removing admin for cache sweeping since no one knew it existed.\n
    – removing preview for articles and pages since they have been replaced long ago.\n
    – confirmation pop up for everything instead of going to destroy page. Destroy page has been kept for accessibility purpose.\n
    – Comments.new template removed since it's now on the comments list\n
    – Trackbacks.new admin removed : building a trackback on your own blog is a nonsense.\n
    Some more images cleaining.\n
    Removed unused tests.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1728 820eb932-12ee-0310-9ca8-eeb645f39767
    Some more admin enhancement
    Added typo:code stylesheet
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1688 820eb932-12ee-0310-9ca8-eeb645f39767
    Finished integrating the new admin CSS (I hope)
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1565 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Applies administration regorganisation patch + adds some new icons from famfamfam.com
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1364 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on making the admin interface pretty. Main focus was user controller
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@365 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge of of /branches/admin into mainline
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@361 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the user edition
    Settings and users
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    Mass-removal of trailing whitespace.
    Adds icons on users forms
    Better profile edit display, user edit, user listing
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Move the user edition from the Admin::UserController to a Admin::ProfileController. Now the user creation / edition is part of the admin/settings and admins are the only one to edit them. It also fixes a huge security hole where any logged in user can create / delete users without the admin credential. Also removes a bunch of unnecessary hazardous conditions we didn't really need
    Fixes Incongruent use of ':' on forms ticket #103
    Fixed speling eror.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Giving users a public profile. Elements to display are defined in the profile
    Improving user's profile, adding fields for msn, aim, twitter... and a better display name. Avatar and dedicated pages will come later
    Introduces users deactivation. Needs some fine tuning to be really good
    Some editor refactoring, it really needed it after yesterday's change.
    
    I've made a migration to make User.editor manipulation easier (simple / visual is better than 0,2). That allowed me to ditch lot of duplicate code. Cool.
    Added text filters back on pages nd articles forms, moved text filters to users instead of global configuration
    use current_user.admin? otherwise test with profile label
    Moves the editor choice from global to per user
    Fixes a spec on articles because of moving to will_paginate
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes bug #1254
    Fixes a stupid bug that allows a normal user to change its profile
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1789 820eb932-12ee-0310-9ca8-eeb645f39767
    Ditching Jabber notification, amongst other things
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1702 820eb932-12ee-0310-9ca8-eeb645f39767
    Finished integrating the new admin CSS (I hope)
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1565 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Enables the users profiles
    Fix a bug breaking users editing
    Refactors the user list displays
    
    Next step is : add rights, link profiles to right (statically), links actions to rights and here we go for multiusers
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1489 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix issue where editing a user would put their password hash in the password field instead of leaving it blank
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@865 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on making the admin interface pretty. Main focus was user controller
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@365 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge of of /branches/admin into mainline
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@361 820eb932-12ee-0310-9ca8-eeb645f39767
    Provide an optional mailto: link on article author names. (closes #156)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@354 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Makes the redirect links clickable (much better heh)
    I may have forgoten to add some files in my last commit.
    Cleaning some code, removing some unshared partials.
    Allows admin redirects to act like an URL shortener when posting an empty from.
    Fixes tabs / subtabs in admin + specs.
    Adding reirects a frontend. Did you know that such a feature existed? I guess I was the only one to use it to replace costy rewrite rules. Doesn't this rock?
    
    Sure it does!
    Fixing admin article list formatting issues in chrome.
    Adding per state filtering on articles listing + better display for drafts.
    - default: everything but draft.
    - published articles
    - drafts
    - publication pending
    - withdrawn
    Settings and users
    Porting the comments view to Bootstrap
    Articles / content
    Remove trailing whitespace.
    Reorganizes admin menus and submenus.
    
    Write tabs disappears for a more convenient "New Article" button.
    Contents becomes articles and has submenus for:
      – Articles
      – New article
      – Comments
      – Categories
      – Tags
    Pages becomes an independant tab with:
      – Pages
      – New page
    Resources becomes media (thank you Wordpress for helping me find a word)
    Improves article lists readability.
    
    I need to find a way to tweak will paginate a little bit more to get something even more readable
    Simplify render in views: admin.
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    Fixes content display
    Reverting to old prototype helpers. Will do a UJS rework later
    Removing deprecated AJAX helpers calls
    Fix grammar error and associated translations.
    Mass-removal of trailing whitespace.
    Better UI for items listing table
    Removes draft block when no drafts
    Finishes article listing, better table presentation
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    avoid define assign @categories in admin/content pages
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Some more admin tweaking, mostly the sidebars, some things here and there... Looking better
    add little spinner view when search or filter in admin part by AJAX
    A bit of feedback revamping
    Adding the search to the articles back office
    Some more code cleaning.
    Fixes a bug in tags
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1850 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding subcategories
    Giving Typo some SEO capabilities
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1849 820eb932-12ee-0310-9ca8-eeb645f39767
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug with pagination when rendering articles
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1805 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds some AJAX to the article list filtering
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1804 820eb932-12ee-0310-9ca8-eeb645f39767
    Oops, forgot to add the drafts partial
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1756 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds tags management to the back office. Still needs tag merging... later
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1683 820eb932-12ee-0310-9ca8-eeb645f39767
    A few translation and labelisation tweaking
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1634 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing new admin theme
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1556 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1529 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Applies administration regorganisation patch + adds some new icons from famfamfam.com
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1364 820eb932-12ee-0310-9ca8-eeb645f39767
    More article admin pagination.  closes #215
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@446 820eb932-12ee-0310-9ca8-eeb645f39767
    Add pagination for article admin pages.  (closes #215)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@443 820eb932-12ee-0310-9ca8-eeb645f39767
    Expanded the quick post system to categories and blacklists
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@384 820eb932-12ee-0310-9ca8-eeb645f39767
    Added Quick Post functionality
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@379 820eb932-12ee-0310-9ca8-eeb645f39767
    Articles can now be posted without being published (closes #104)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@370 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge of of /branches/admin into mainline
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@361 820eb932-12ee-0310-9ca8-eeb645f39767
    Added sidebar boxes for recent comments and trackbacks. This partial is currently only rendered for admin/content/list for the lack of the welcome page discussed on IRC
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@218 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes switching back and fort between simple and visual editor.
    
    When switching back and fort from visual editor to simple editor, data would still appear in the ckeditor but was never sent to server. It seems that using CKEDITOR.instances.page__body_editor.setData() was not enough as the page__body_editor hidden textarea had to be filled in first.
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    New admin default stylesheet
    Makes the editor switching work
    Fixing editor switch when carousel wrapper is not loaded
    Hides the image carousel in visual editor mode since we now have a dedicated browser in visual mode
    Fixes a critical bug in the visual editor on both pages and articles. What basically happened was that simple editor was always added to the HTML code. This caused the form to have 2 body_and_extended elements: first, the visual editor, then the simple one, not displayed. That caused the form to send the empty content instead of the good one. Thank David N. Welton for finding the bug and mentionning it. We need to release something quick because of this
    Fixing the page editor bug
    Fixes a bug greaking the switch between RTE and simple editor
    Fixing the simple / visual editor switch without losing your content
    Removes default text filter for posts, now only using the users text filter
    Disables text filter when switching to visual editor
    Reenables it when switching back to simple editor
    [#90 state:resolved]
    Fixes editor switching. Need to add content switching as well
    Updating layout and helpers with CKEditor
    Fixing are a few remaining bugs in the editor I did not see at first glance because I use a very permissive crappy browser to develop (ie. Firefox).
    
    A misclosed div breaks the editor in Safari, causing a style bug and making the tag field disappear when you switch editor.
    
    Editor should have rounded corner, using border-radiud, moz-border-radius and webkit-border-radius
    
    Save block style is brocken (need a line break) on page editor
    
    On pages, optionnal settings are displayed on new post. This is the contrary of what's expected
    Allowing to send content from an editor to another and back. I know. It's ugly. Please send a patch if you're better at Javascript than me, I'd be really glad
    Some editor refactoring, it really needed it after yesterday's change.
    
    I've made a migration to make User.editor manipulation easier (simple / visual is better than 0,2). That allowed me to ditch lot of duplicate code. Cool.
    First attempt of switching editor from the editing form
    
    TODO:
    * Allow to switch between editors. For some reasons I've been stuck with FCKEditor API for a while now.
    * Add this to pages as well
    * Clean the code
    * Add tests (I commit without tests because it's 1am and I can't even read my screen anymore, but I don't wanna lose this now that it's working)
    * Make the switching behaviour better (remove links form active tabs...)
    Reverting to old prototype helpers. Will do a UJS rework later
    Replacing link_to_remote with link_to :remote => true
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix resource ajax; closes #456
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@691 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix rendering of image carousel in content (article) form.
    Fixes the articles editor
    Hides the image carousel in visual editor mode since we now have a dedicated browser in visual mode
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Moving the image viewer from the editor to a partial. Displaying only when there are actually pictures to show
    New editor for articles
    Add Category creation on Content creation page (UJS way). Induced some refactorisation in Categories views and model
    Reverting to old prototype helpers. Will do a UJS rework later
    Replacing link_to_remote with link_to :remote => true
    Mass-removal of trailing whitespace.
    Adding autosave capabilities for articles. Works only on simple visual editor for now
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1761 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing a lang issue, fixing attachment issues in posts
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1731 820eb932-12ee-0310-9ca8-eeb645f39767
    Some more admin enhancement
    Added typo:code stylesheet
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1688 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix deprecation warning.
    We're now using RJS for adding attachments to articles when editing.
    Additionally, don't bother talking to the server to remove an attachment line since it's not at all necessary.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1308 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
    new form
    first cucumber test passing
    New editor for articles
    Reorganizes admin menus and submenus.
    
    Write tabs disappears for a more convenient "New Article" button.
    Contents becomes articles and has submenus for:
      – Articles
      – New article
      – Comments
      – Categories
      – Tags
    Pages becomes an independant tab with:
      – Pages
      – New page
    Resources becomes media (thank you Wordpress for helping me find a word)
    Simplify render in views: admin.
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Switching admin back to 100% to give the editor more room
    Adding autosave to FCK Editor w00t, one more ticket close on the road to 5.3
    Some editor refactoring, it really needed it after yesterday's change.
    
    I've made a migration to make User.editor manipulation easier (simple / visual is better than 0,2). That allowed me to ditch lot of duplicate code. Cool.
    Moves the editor choice from global to per user
    Fixes a spec on articles because of moving to will_paginate
    reactive autosave when use simple editor. Fix bug introduce by Rails 2.2
    Fixed a bug on publishing an edited post + assign categories
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1851 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding drafts capabilities
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1755 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    A few translation and labelisation tweaking
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1634 820eb932-12ee-0310-9ca8-eeb645f39767
    Styles some forms
    Styles the sidebar items
    Fixes a bug in the theme lists
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1558 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1529 820eb932-12ee-0310-9ca8-eeb645f39767
    Few bug fixes, translated the plugins frontends, added some things here and there. The CSS code in the template is done on prpose, otherwise it doesn't work
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1391 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Revamped both article/new and page/new forms (and indeed edit forms)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1369 820eb932-12ee-0310-9ca8-eeb645f39767
    Applies administration regorganisation patch + adds some new icons from famfamfam.com
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1364 820eb932-12ee-0310-9ca8-eeb645f39767
    DRY up a bit more - articles and pages editing now share a single partial for the preview work
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1336 820eb932-12ee-0310-9ca8-eeb645f39767
    DRY up the admin article editing views
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1332 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Undo change I accidently made.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@825 820eb932-12ee-0310-9ca8-eeb645f39767
    Added myself to the maintainers file.
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@824 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed obsolete test
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@502 820eb932-12ee-0310-9ca8-eeb645f39767
    Swap out field observers in article and pages creation/editing forms for a single form observer (fixes #230)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@461 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on making the admin interface pretty. Main focus was user controller
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@365 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge of of /branches/admin into mainline
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@361 820eb932-12ee-0310-9ca8-eeb645f39767
    improve the articles entry form
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@316 820eb932-12ee-0310-9ca8-eeb645f39767
    added live preview while typing a new article in the html admin interface (madrobby) fixes #60
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@215 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Improves article lists readability.
    
    I need to find a way to tweak will paginate a little bit more to get something even more readable
    Adding a bit of readability to articles / tags / categories lists
    Better UI for items listing table
    Finishes article listing, better table presentation
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    A bit of feedback revamping
    view only comment selected like ham? and ham in admin content view list
    Fixes a bug in articles/content
    Fixing the comments list. Did I forget to commit it sooner ???
    Adding subcategories
    Giving Typo some SEO capabilities
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1849 820eb932-12ee-0310-9ca8-eeb645f39767
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug in admin
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1836 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds some AJAX to the article list filtering
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1804 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes switching back and fort between simple and visual editor.
    
    When switching back and fort from visual editor to simple editor, data would still appear in the ckeditor but was never sent to server. It seems that using CKEDITOR.instances.page__body_editor.setData() was not enough as the page__body_editor hidden textarea had to be filled in first.
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    New admin default stylesheet
    Hides the image carousel in visual editor mode since we now have a dedicated browser in visual mode
    Extending editor a little bit
    Fixing editor switching behavior
    Fixing the simple / visual editor switch without losing your content
    Removes default text filter for posts, now only using the users text filter
    Disables text filter when switching to visual editor
    Reenables it when switching back to simple editor
    [#90 state:resolved]
    Fixes editor switching. Need to add content switching as well
    Fixing are a few remaining bugs in the editor I did not see at first glance because I use a very permissive crappy browser to develop (ie. Firefox).
    
    A misclosed div breaks the editor in Safari, causing a style bug and making the tag field disappear when you switch editor.
    
    Editor should have rounded corner, using border-radiud, moz-border-radius and webkit-border-radius
    
    Save block style is brocken (need a line break) on page editor
    
    On pages, optionnal settings are displayed on new post. This is the contrary of what's expected
    Allowing to send content from an editor to another and back. I know. It's ugly. Please send a patch if you're better at Javascript than me, I'd be really glad
    First attempt of switching editor from the editing form
    
    TODO:
    * Allow to switch between editors. For some reasons I've been stuck with FCKEditor API for a while now.
    * Add this to pages as well
    * Clean the code
    * Add tests (I commit without tests because it's 1am and I can't even read my screen anymore, but I don't wanna lose this now that it's working)
    * Make the switching behaviour better (remove links form active tabs...)
    first cucumber test passing
    Fixes post types display when there is no post type at all
    Adds the media back into the editor.
    Fixes the way autosave displays buttons:
    - destroy this draft should only appear at autosave and when editing a draft
    - destroy this article should only appear when article is not a draft
    
    Writing this commit message makes me think that we actually need only on button, maybe with a different message. So expect another commit about this soon :-).
    Update to the main editor. Kinda like the way it looks like now, but lots of cleaning still needed (plus a major headache generating bug found).
    Improving the editor a little bit. This definitely needs some cleaning and... to be refactored
    New editor for articles
    Categories now
    Add Category creation on Content creation page (UJS way). Induced some refactorisation in Categories views and model
    First, the simple link for non-js admin (UJS)
    Adds post types with admin management.
    
    Author can define multiple post types with associated templates. Default post type is 'read' so existing themes won't break.
    
    I didn't use Rails relational model on purpose as I wanted article to store the post type permalink. This will make theme helpers such as menu helpers easier to write. Maybe there's a cleaner way to do it though.
    Remove artifact
    Fix rendering of image carousel in content (article) form.
    Small Law of Demeter fix (eases mocking for view specs).
    Simplify render in views: admin.
    Remove trailing whitespace.
    Removing some more Jquery UI bits
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    Makes the page and article editor look alike
    New admin default stylesheet
    Fixes the articles editor
    Mass-removal of trailing whitespace.
    Making both simple and advanced editor look alike
    Adding password protected posts. Things are done 100% AJAX because of the static cache. Logged in users are considered as being able to see a protected post. Protected posts content is removed from RSS feed. Need to add some specs, it's curious to see that they didn't break
    Better icons display
    Fixes a critical bug in the visual editor on both pages and articles. What basically happened was that simple editor was always added to the HTML code. This caused the form to have 2 body_and_extended elements: first, the visual editor, then the simple one, not displayed. That caused the form to send the empty content instead of the good one. Thank David N. Welton for finding the bug and mentionning it. We need to release something quick because of this
    Finishes article listing, better table presentation
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Extending editor a little bit
    Fixing a very old buck screwing up the switch between simple and visual editor.
    Moving the image viewer from the editor to a partial. Displaying only when there are actually pictures to show
    Adds a batter media library, with carousel + Ajax fetch of next elements. Got a strange behavior after ajax loading, but I'll need some help at that point
    Hmmmm forgot to add the views.
    Move previews to an action of ArticlesController
    Fixed a small regression in categories display
    avoid define assign @categories in admin/content pages
    avoid using @selected assignation in creation post view
    little refactoring in admin create new content
    Fixes a nasty bug that breaks the autosave
    Rebuilds sidebar selection. Closes ticket #35
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Switching admin back to 100% to give the editor more room
    Added article preview, not the cleanest way, but at least it works
    Removes default text filter for posts, now only using the users text filter
    Disables text filter when switching to visual editor
    Reenables it when switching back to simple editor
    [#90 state:resolved]
    Fixes Incongruent use of ':' on forms ticket #103
    Fixing are a few remaining bugs in the editor I did not see at first glance because I use a very permissive crappy browser to develop (ie. Firefox).
    
    A misclosed div breaks the editor in Safari, causing a style bug and making the tag field disappear when you switch editor.
    
    Editor should have rounded corner, using border-radiud, moz-border-radius and webkit-border-radius
    
    Save block style is brocken (need a line break) on page editor
    
    On pages, optionnal settings are displayed on new post. This is the contrary of what's expected
    Adding autosave to FCK Editor w00t, one more ticket close on the road to 5.3
    Allowing to send content from an editor to another and back. I know. It's ugly. Please send a patch if you're better at Javascript than me, I'd be really glad
    Some editor refactoring, it really needed it after yesterday's change.
    
    I've made a migration to make User.editor manipulation easier (simple / visual is better than 0,2). That allowed me to ditch lot of duplicate code. Cool.
    A bit of refactoring
    Adding some niceness to the editor's switching
    First attempt of switching editor from the editing form
    
    TODO:
    * Allow to switch between editors. For some reasons I've been stuck with FCKEditor API for a while now.
    * Add this to pages as well
    * Clean the code
    * Add tests (I commit without tests because it's 1am and I can't even read my screen anymore, but I don't wanna lose this now that it's working)
    * Make the switching behaviour better (remove links form active tabs...)
     Use Calendar_date_select instead_of datetime_select in create article
    
    [#31 state:resolved]
    Added text filters back on pages nd articles forms, moved text filters to users instead of global configuration
    Where did the save as draft button go ?
    increase size of excerpt. because with FCKEditor it's was so little
    fix error when using fckeditor like editor
    Some more admin tweaking, mostly the sidebars, some things here and there... Looking better
    Adding new admin CSS, better colors, cleaner (but not clean). Now is time to clean the views
    Fixing a smalltypo
    Added excerpt back in the admin, I wonder why this has been removed before
    Modify Article to have proper body_and_extended field
    
    Instead of having merge_... and extract_... methods, let's just make this a
    virtual field.  This requires changing the field name in the view, too, but
    it simplifies the controller code considerably.
    Removing useless textfilters setting in the admin, adding macro help in the editor when editor is not FCK
    Fixing a bug with quicktags, and setting up a workaround to be sure everything goes right
    Adding a heavily modified version of Ryan King's JS Quicktags to simple admin. This would need some rewrite using Prototype if only I knoew Javascript. This one supports typo:code. I'll add typo:flickr and other macro later
    reactive autosave when use simple editor. Fix bug introduce by Rails 2.2
    deactivating autosave until I find out what happens
    Revamping the page form and article form
    Refactoring and removing dead code made my day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1847 820eb932-12ee-0310-9ca8-eeb645f39767
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    fix some translation in french
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1833 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes 2 nasty bugs with autosave
    – the first one broke autosave when no title was set. We now set a default title
    – the second one was overriding permalink with a void string when post was autosaved because the permalink field was empty after autosave.
    
    For autosave: If no title is given, Typo gives it a title like "Article Draft + post_id". When publishing, every article-draft-something permalink is just replaced with the article title crafted permalink.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1795 820eb932-12ee-0310-9ca8-eeb645f39767
    – Cleans some views by moving condition statements to a helper
    – Fix a draft + autosave behavior bug: if I save an autosaved article as a draft, it is duplicated as the autosaved article id is not taken into account in the draft saving process.
    – Moves the autosave delay to 30 seconds to cut the server a little slack
    – Removes comments creation from protect_from_forgery to avoid crash with caches_page when adding comments
    – Fixes a bug with the contributor role tha prevents contributors to access anything in the admin
    – Adds draft deletion (useful heh ?)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1778 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing IE6 bugs
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1764 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding autosave capabilities for articles. Works only on simple visual editor for now
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1761 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a rendering bug in default theme in IE6
    Fixes an admin bug to access textfilters
    Unifies text filter admin with the rest of the back office
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1760 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding drafts capabilities
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1755 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing a lang issue, fixing attachment issues in posts
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1731 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug breaking the spellchecker in FCKEditor.
    Adds autocompletion in the tags (ticket 1217)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1679 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few things here and there.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1677 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed the form so that the extended content textarea becomes visible
    at the appropriate time.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1664 820eb932-12ee-0310-9ca8-eeb645f39767
    Brings more translation
    Adds some changes to the content editor
    Brings localisation to Standard issue
    Brings localisation to archives plugin
    Fix typo version to 5.0.3
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1649 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the localization issue
    Removes the simple / advanced admin
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1648 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    A few translation and labelisation tweaking
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1634 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few bugs
    Adds patch 1168
    Adds patch 1165
    Closes ticket 1166
    Closes ticket 1164
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1587 820eb932-12ee-0310-9ca8-eeb645f39767
    Finished integrating the new admin CSS (I hope)
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1565 820eb932-12ee-0310-9ca8-eeb645f39767
    Introduces the concept of  simple / advanced administration
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1561 820eb932-12ee-0310-9ca8-eeb645f39767
    Styles some forms
    Styles the sidebar items
    Fixes a bug in the theme lists
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1558 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Did a bit of cleaning in the images directory. Moved admin specific pictures in images/admin and removed lots of useless garbage that should not have been here.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1537 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1529 820eb932-12ee-0310-9ca8-eeb645f39767
    – Added Rich visual editor in the admin
    – Updated the settings to add the choice between :
            – visual text editor
            – simple text editor + live preview
            – simple text editor without live preview (the live preview is cool but overloads the servers with constant requests on articles)
    – Corrected a few things
    
    Simple editor + live preview is enabled by default
    
    I plan to let users choose their editor in the second time, and enable different visual editors according to personnal users settings. This will be useful when we go multiusers
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1398 820eb932-12ee-0310-9ca8-eeb645f39767
    Few bug fixes, translated the plugins frontends, added some things here and there. The CSS code in the template is done on prpose, otherwise it doesn't work
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1391 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing CSS issue that broke the preview
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1377 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Revamped both article/new and page/new forms (and indeed edit forms)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1369 820eb932-12ee-0310-9ca8-eeb645f39767
    Add some nice blind animations to the content edit page
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1309 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix deprecation warning.
    We're now using RJS for adding attachments to articles when editing.
    Additionally, don't bother talking to the server to remove an attachment line since it's not at all necessary.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1308 820eb932-12ee-0310-9ca8-eeb645f39767
    Clean up terminology.  Closes #1009
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1143 820eb932-12ee-0310-9ca8-eeb645f39767
    Add popup markup helper.  Closes #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1104 820eb932-12ee-0310-9ca8-eeb645f39767
    The beginnings of some serious reworking of the way article publication,
    notifications, remote pings and (possibly) caching will work. After this patch
    an article's 'published' flag will never be set before its 'published_at' time.
    
    This is handled by introducing a 'triggers' table which holds a list of actions
    to perform on objects in the future. Every time the rails system gets a request,
    it performs any pending trigger actions. That way, although a message may well
    not be 'really' published until some time after its published_at time, it will
    appear as if it was.
    
    Next up, moving various 'on save' actions out of duplicated code in controllers
    
    NB: There's a bug in Rails that means that migration 45 shouldn't work with
    mysql or sqlite, hence the utterly gruesome monkey patch in
    lib/rails_patch/active_record.rb -- I look
    forward to the next release of Rails when I can get rid of those monstrosities.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1042 820eb932-12ee-0310-9ca8-eeb645f39767
    Slightly improved article preview by moving category and keywords below body textarea and applied width changes to prevent wrapping (closes #476, #479)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@814 820eb932-12ee-0310-9ca8-eeb645f39767
    Make keywords visible by default in content editor.  Sort categories in content editor.  (closes #332, #322)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@543 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
    Tags.  (closes #282)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@533 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed label for attributes on article creation form (closes #229) [kevin@sb.org]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@460 820eb932-12ee-0310-9ca8-eeb645f39767
    Added back ability to edit article creation date (via advanced options) which was apparently lost during the admin interface transition. Applied a little formatting to the dump of article stats in ArticleController#show
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@399 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged permalink patch which no longer breaks links when the blog author changes an article title. It also allows for custom permalinks by editing it via the content admin. Storing permalinks in the database also means we're no longer doing nasty string comparisons for permalink-accessed articles since we're able to do a direct SQL query on that column. (closes #147)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@394 820eb932-12ee-0310-9ca8-eeb645f39767
    Articles can now be posted without being published (closes #104)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@370 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge of of /branches/admin into mainline
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@361 820eb932-12ee-0310-9ca8-eeb645f39767
    improve the articles entry form
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@316 820eb932-12ee-0310-9ca8-eeb645f39767
    added extended entries support and fixed search (kevin@sb.org) closes #44, #129
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@300 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed broken redirect after install
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@275 820eb932-12ee-0310-9ca8-eeb645f39767
     * Added ability to edit text_filter and created_at of articles via the web admin
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@236 820eb932-12ee-0310-9ca8-eeb645f39767
    * updated links with the other typo devs
    * fixed live preview
    * fixed flickr aggregator (thanks to anoop from the mailing list)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@225 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing theme catalogue and mentions of Typogarden.
    
    Theme catalogue now returns a 404 and is not maintained anymore.
    We've lost typogarden.org (I actually forgot to renew it) and most themes were not supported anymore.
    
    We'll need to find a way to display themes, maybe using themes.typosphere.org with a statically cached blog, I need to think about this first.
    Moving theme selector to Bootstrap
    Removing legacy use of subtabs_for
    Removing some more Jquery UI bits
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    Makes the theme selection a bit more straightforward
    Better theme display
    Ooooops, I forgot the whole customize thing
    Some more admin tweaking, mostly the sidebars, some things here and there... Looking better
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Rejig themes and sidebar page
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1722 820eb932-12ee-0310-9ca8-eeb645f39767
    Changes the theme manager page
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1721 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Added Italian support
    Fixed the absolute URL CSS bugs when typo blog is not at the root
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1627 820eb932-12ee-0310-9ca8-eeb645f39767
    Few changes in back office
    Fixes 1184
    Few bug fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1614 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes 1171, 1173 and 1178 plus minor usability fixes and adds 5.0 CHANGESET
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1609 820eb932-12ee-0310-9ca8-eeb645f39767
    Tests passing. Rails 2.0.2 required. I think we may be good to go for 5.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1602 820eb932-12ee-0310-9ca8-eeb645f39767
    Makes the theme selector easier to use.
    Changes the default cache to caches_action_with_params
    Changes some typos in the admin
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1595 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing bugs in the theme editor, as well as a failing test
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1572 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Typo theme editor
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1569 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishes dealing with simple / complete interface
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1562 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1529 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Applies administration regorganisation patch + adds some new icons from famfamfam.com
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1364 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    Closes #231 U.I. changes and cleanup up redundant screens.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@498 820eb932-12ee-0310-9ca8-eeb645f39767
    Added active theme indicator to themes admin (closes #225) [kevin@sb.org]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@457 820eb932-12ee-0310-9ca8-eeb645f39767
    stupid little admin interface for themes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@422 820eb932-12ee-0310-9ca8-eeb645f39767
    Cleaning some code, removing some unshared partials.
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    Getting read of deprecated ERB calls
    Better profile edit display, user edit, user listing
    Move the user edition from the Admin::UserController to a Admin::ProfileController. Now the user creation / edition is part of the admin/settings and admins are the only one to edit them. It also fixes a huge security hole where any logged in user can create / delete users without the admin credential. Also removes a bunch of unnecessary hazardous conditions we didn't really need
    Removing legacy use of subtabs_for
    Tags to bootstrap
    Fixes tabs / subtabs in admin + specs.
    Avoid name clash for show_actions helper.
    Makes the admin/tag display look like content and comments. Simplifies tag renaming and create a Redirect from old to new URL
    Rails 3 does not implicitely adds to_s. Fix by @ookook
    Rails3 don't implicitly apply to_s sometimes…
    count number article already published in Tag admin view. Avoid all draft article counting
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Getting rid of the worse piece of code ever, multiplies Typo perfs by 10 when calling articles/index (see http://t37.net/ya-pas-comme-un-truc-qui-vous-fait-hurler-li)
    Getting rid of classic pagination for will_paginate
    Revamping the dashboard, step 1
    Revamping login form step 1
    cleaning admin/css step 1
    migrating default themes to will_paginate
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds tags management to the back office. Still needs tag merging... later
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1683 820eb932-12ee-0310-9ca8-eeb645f39767
    A few translation and labelisation tweaking
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1634 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1529 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Applies administration regorganisation patch + adds some new icons from famfamfam.com
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1364 820eb932-12ee-0310-9ca8-eeb645f39767
    Add static pages.  Also fixes a caching bug (the new PageCache was broken due to :name/:page_name mix).  (closes #181)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@391 820eb932-12ee-0310-9ca8-eeb645f39767
    Expanded the quick post system to categories and blacklists
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@384 820eb932-12ee-0310-9ca8-eeb645f39767
    Added Quick Post functionality
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@379 820eb932-12ee-0310-9ca8-eeb645f39767
    Articles can now be posted without being published (closes #104)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@370 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge of of /branches/admin into mainline
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@361 820eb932-12ee-0310-9ca8-eeb645f39767
    Added sidebar boxes for recent comments and trackbacks. This partial is currently only rendered for admin/content/list for the lack of the welcome page discussed on IRC
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@218 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Cleaning some code, removing some unshared partials.
    Tags to bootstrap
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    Getting read of deprecated ERB calls
    Mass-removal of trailing whitespace.
    Fixes ticket 162 views/admin/tags/edit.html.erb bug
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin cleaning :\n
    – removing admin for cache sweeping since no one knew it existed.\n
    – removing preview for articles and pages since they have been replaced long ago.\n
    – confirmation pop up for everything instead of going to destroy page. Destroy page has been kept for accessibility purpose.\n
    – Comments.new template removed since it's now on the comments list\n
    – Trackbacks.new admin removed : building a trackback on your own blog is a nonsense.\n
    Some more images cleaining.\n
    Removed unused tests.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1728 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds tags management to the back office. Still needs tag merging... later
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1683 820eb932-12ee-0310-9ca8-eeb645f39767
    Settings and users
    Remove trailing whitespace.
    Removing the submit partial now replaced by a helper introduced by the necessity to duplicate code for SEO controller.
    Turns "Show extended on RSS" into "Hide extended on RSS".
    
    Asking user to opt in to display the whole post in the feed instead of hiding it is one of the most stupid behavior I've seen for a while and is the exact opposite of the software default's behavior.
    
    Included migration sets the new behavior accordingly to the blog default one.
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    Removes old js_distance_of_time_to_now which becomes a plugin. To avoid breaking everything the old method is kept and calls the new one.
    Makes all themes support the new way of displaying date and time.
    Makes the new way of displaying date and time "xxx ago" aware.
    Adding various date and time display support.
    
    Date support are: 21/01/2011, 01/21/2011, Jan 21 2011 and 21 January 2011
    Time support are: 11h10, 11:10 and 11:10AM
    
    TODO: internationalization support, custom format support, and "xxxx ago" support even though I believe this one deserves to be a pluginas it's not the most usefule thing ever.
    chose a different typo for labels and helps + Move helps under text fields
    Moving default email setting to general setting
    Getting read of deprecated ERB calls
    Mass-removal of trailing whitespace.
    Fix on the settings / index HTML
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Rewrite settings, fixes a bug with checkbox since the upgrade to rails 2.3.3, and limits the risk for errors
    Fixes Incongruent use of ':' on forms ticket #103
    Adding an option to chose how many items to display in the admin
    Removing old caches_actions_with params, caches_page is enough, less ressource consumming and much better
    Removing useless classes from settings
    Adding new admin CSS, better colors, cleaner (but not clean). Now is time to clean the views
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    Removes the last Jabber dependencies
    Removes the option for simple editor with Live Preview
    Fix a typo
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1713 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the localization issue
    Removes the simple / advanced admin
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1648 820eb932-12ee-0310-9ca8-eeb645f39767
    – Moving settings to a real settings controller
    – Splitting settings into different pages, a more sensible way
    – Removing old files
    – Fixing the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1611 820eb932-12ee-0310-9ca8-eeb645f39767
    Database settings
    Settings and users
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    Getting read of deprecated ERB calls
    Revamping of database upgrade
    Removing useless classes from settings
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Enables in admin database migration back, gets rid of the old pre 4.1 general controller, sets the CHANGELOG for 5.1.3.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1797 820eb932-12ee-0310-9ca8-eeb645f39767
    – Moving settings to a real settings controller
    – Splitting settings into different pages, a more sensible way
    – Removing old files
    – Fixing the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1611 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    When there are unapplied migrations available you will be taken to a update schema page in the admin interface.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@407 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing legacy use of subtabs_for
    Settings and users
    Adds customizable 404 pages with optionnal messages in the admin. Next: 500
    Settings and users
    Removing the submit partial now replaced by a helper introduced by the necessity to duplicate code for SEO controller.
    Added reCaptcha support in backend
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    chose a different typo for labels and helps + Move helps under text fields
    Moving default email setting to general setting
    Change labels (notice: only en_US and fr_FR done)
    Complete admin typo_avatar implementation
    Getting read of deprecated ERB calls
    Mass-removal of trailing whitespace.
    Fixes ticket 167: Trackback help text in wrong place
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Fixing some minor bugs on admin
    Removing the filter on AJAX / non AJAX comments since now some themes (including default theme...) comes without AJAX enabled by default. This will prevent some well known issues...
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Rewrite settings, fixes a bug with checkbox since the upgrade to rails 2.3.3, and limits the risk for errors
    Fixes Incongruent use of ':' on forms ticket #103
    Removing useless classes from settings
    Added a forgotten spam legend in the feedback settings
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    Ditching Jabber notification, amongst other things
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1702 820eb932-12ee-0310-9ca8-eeb645f39767
    – Moving settings to a real settings controller
    – Splitting settings into different pages, a more sensible way
    – Removing old files
    – Fixing the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1611 820eb932-12ee-0310-9ca8-eeb645f39767
    Settings and users
    Removing the submit partial now replaced by a helper introduced by the necessity to duplicate code for SEO controller.
    Adding a medium sized picture when uploading image.
    Adding a setting for both thumbnail and medium size.
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    Makes the ping URLS box a little bigger and take the style of other settings text boxes
    chose a different typo for labels and helps + Move helps under text fields
    Getting read of deprecated ERB calls
    Mass-removal of trailing whitespace.
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Fixing some minor bugs on admin
    Removes default text filter for posts, now only using the users text filter
    Disables text filter when switching to visual editor
    Reenables it when switching back to simple editor
    [#90 state:resolved]
    Rewrite settings, fixes a bug with checkbox since the upgrade to rails 2.3.3, and limits the risk for errors
    Fixes Incongruent use of ':' on forms ticket #103
    Moves the editor choice from global to per user
    Fixes a spec on articles because of moving to will_paginate
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    Removes the last Jabber dependencies
    Removes the option for simple editor with Live Preview
    Fix a typo
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1713 820eb932-12ee-0310-9ca8-eeb645f39767
    Few changes in back office
    Fixes 1184
    Few bug fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1614 820eb932-12ee-0310-9ca8-eeb645f39767
    – Moving settings to a real settings controller
    – Splitting settings into different pages, a more sensible way
    – Removing old files
    – Fixing the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1611 820eb932-12ee-0310-9ca8-eeb645f39767
    Settings and users
    Adding an interface to control cache sweeping
    Some admin cleaning :\n
    – removing admin for cache sweeping since no one knew it existed.\n
    – removing preview for articles and pages since they have been replaced long ago.\n
    – confirmation pop up for everything instead of going to destroy page. Destroy page has been kept for accessibility purpose.\n
    – Comments.new template removed since it's now on the comments list\n
    – Trackbacks.new admin removed : building a trackback on your own blog is a nonsense.\n
    Some more images cleaining.\n
    Removed unused tests.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1728 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Add cache admin tab.  Revert database.yml screwup.  (closes #172)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@455 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes comment listing style
    Removing legacy use of subtabs_for
    Porting the comments view to Bootstrap
    Reorganizes admin menus and submenus.
    
    Write tabs disappears for a more convenient "New Article" button.
    Contents becomes articles and has submenus for:
      – Articles
      – New article
      – Comments
      – Categories
      – Tags
    Pages becomes an independant tab with:
      – Pages
      – New page
    Resources becomes media (thank you Wordpress for helping me find a word)
    Simplify render in views: admin.
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    Makes comment filtering (and thus spam / ham checking) a bit more usable.
    
    I can't clearly remember why I dropped the presumed ham / spam view, maybe for simplification but that was definitely a very bad idea.
    Getting read of deprecated ERB calls
    Mass-removal of trailing whitespace.
    Redesign all the comment moderation and listing in admin. Makes both global and per article view the same. Adds some per comments action. Adds for toolbar to the comment editor. [#184 state:resolved] [#135 state:resolved]
    Better UI for items listing table
    Better feedback list display
    fix bug on selected selector on feedback admin part
    count number article already published in Tag admin view. Avoid all draft article counting
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    A bit of refactoring, moving the comments management as a sub module of the management itself. Next somes a 'What can you do' view of the dashboard
    fix bulk feedback checkbox bug caused by change in processing order
    Unifying the back office listing, cleaning some CSS
    Forgot to remove the date column
    A bit of feedback revamping
    Some more code cleaning.
    Fixes a bug in tags
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1850 820eb932-12ee-0310-9ca8-eeb645f39767
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    Some other admin tweaking
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1692 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied most of the patch in #1214. The only change being that the
    correct i18n key for état is 'status'.
    
    bribera++
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1671 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the localization issue
    Removes the simple / advanced admin
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1648 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few bugs
    Adds patch 1168
    Adds patch 1165
    Closes ticket 1166
    Closes ticket 1164
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1587 820eb932-12ee-0310-9ca8-eeb645f39767
    Another admin tweaking
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1563 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishes dealing with simple / complete interface
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1562 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing new admin theme
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1556 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Add the comment counting on the feedback menus Limit to spam,
    Limit to unconfirmed and Limit to unconfirmed spam
    
    Add the link to the new iconset replacing famfamfa
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1547 820eb932-12ee-0310-9ca8-eeb645f39767
    Added a shaded class for item lists as well
    Improved usability for comments page
    Improved usability for feedback page
    Added a bookmarklet to the edit page
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1493 820eb932-12ee-0310-9ca8-eeb645f39767
    Some more UI refactor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1483 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix warnings about spacing before arguments
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1402 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1400 820eb932-12ee-0310-9ca8-eeb645f39767
    – Changed a few things in the UI
    – Now you can edit and view comments from the discuss page
    – Started Sitealizer integration
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1396 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Applies administration regorganisation patch + adds some new icons from famfamfam.com
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1364 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Added some filtering to the feedback page. You can now limit the listing to get rid
    of articles whose classification you have confirmed as well as a simple spam/ham
    filter.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1218 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweaked some markup to make it valid xhtml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1217 820eb932-12ee-0310-9ca8-eeb645f39767
    Made the feedback buttons consistent
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1190 820eb932-12ee-0310-9ca8-eeb645f39767
    Big changes to the state engine for feedback. Feedback now starts off
    in the 'Unclassified' state and moves to either JustPresumedHam or
    PresumedSpam depending on the results of Feedback#classify (the various Just*
    states are there as one shot states to handle sending of notifications or
    registering of spam/ham classification with akismet). JustPresumedHam
    decays to PresumedHam as soon as the feedback has been saved and the
    notifications sent.
    
    And there they rest until the classifications are solidified by the blog
    administrator on the feedback page. Feedback ends up as either Spam or Ham
    with an intermediate 'JustMarkedAs*' step for registering with Akismet.
    
    It should be possible to do some useful filtering on the feedback page
    (for instance, only see those messages whose classification hasn't been
    confirmed), but for that we need to add a couple of boolean fields to the
    contents table.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1188 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on the feedback page.  Seems useful now--we have bulk delete and publish/unpublish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1135 820eb932-12ee-0310-9ca8-eeb645f39767
    Make search+pagination work right
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1133 820eb932-12ee-0310-9ca8-eeb645f39767
    Spam protection, step 1: add an admin page ('Feedback') that lists all trackbacks and comments, and allows deleting.  I still need to add bulk deleting, and them move on to better filtering.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1132 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the comment management bulk operations. Closes #46
    Porting the comments view to Bootstrap
    Remove trailing whitespace.
    Makes comment filtering (and thus spam / ham checking) a bit more usable.
    
    I can't clearly remember why I dropped the presumed ham / spam view, maybe for simplification but that was definitely a very bad idea.
    Redesign all the comment moderation and listing in admin. Makes both global and per article view the same. Adds some per comments action. Adds for toolbar to the comment editor. [#184 state:resolved] [#135 state:resolved]
    Better UI for items listing table
    Better feedback list display
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    fix bulk feedback checkbox bug caused by change in processing order
    Adding a delete all spam button
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few bugs
    Adds patch 1168
    Adds patch 1165
    Closes ticket 1166
    Closes ticket 1164
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1587 820eb932-12ee-0310-9ca8-eeb645f39767
    Doing some cleaning in the detroy process:
    – We don't need multiple destroy files when they all share the same code, excepted a message which can be defined from the controller name.
    – An old chinese master once told me "the earlier you return, the better it is", so I reverted the conditions in the destroy methods, which seems much more sensible now that I think about it.
    
    Please, guys, revert if you think using @record is going against all conventions (not sure about that one, and I don't have an internet access being stuck in the country in a frozen train because my beloved country is still unable to handle a wave of cold but it _really_ cleans the code, so I hope so).
    Removing legacy use of subtabs_for
    Reorganizes admin menus and submenus.
    
    Write tabs disappears for a more convenient "New Article" button.
    Contents becomes articles and has submenus for:
      – Articles
      – New article
      – Comments
      – Categories
      – Tags
    Pages becomes an independant tab with:
      – Pages
      – New page
    Resources becomes media (thank you Wordpress for helping me find a word)
    Simplify render in views: admin.
    Removing some more Jquery UI bits
    Getting read of deprecated ERB calls
    Mass-removal of trailing whitespace.
    Redesign all the comment moderation and listing in admin. Makes both global and per article view the same. Adds some per comments action. Adds for toolbar to the comment editor. [#184 state:resolved] [#135 state:resolved]
    Fixes a dead link in per article feedback administration [#183 state:solved]
    Better UI for items listing table
    Comment view, new comment form
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Fixes a nasty security vuln. Thx to Tie Fighter for noticing it
    Remove use of simple_format
    This reverts commits a137b958daf8f791e0bd63932dcdb78ef05d3b7b and
    10cff9dbaa740a1505697f1c8a32565aa83d8435
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Adds simple_format to comments and posts output. Changes \n to <br /> and \n\n to </p>
    A bit of feedback revamping
    add creation of comment by admin/feedback, with spec
    add filter of comment in view of articles's comment
    fix link in title of view all feedbacks about one article
    light admin/feedback controller
    Adding new comments layout
    Porting the comments view to Bootstrap
    Replace remaining calls to gravatar_tag.
    Fixes admin feedback
    Give different versions of #show_actions helper different names.
    
    The wrong version of this helper method was being called. I'm guessing the
    way these helper modules are loaded has changed. To avoid any problems, two
    of the three implementations of #show_actions were renamed.
    Redesign all the comment moderation and listing in admin. Makes both global and per article view the same. Adds some per comments action. Adds for toolbar to the comment editor. [#184 state:resolved] [#135 state:resolved]
    Replace remaining calls to gravatar_tag.
    Fixes admin feedback
    Replacing link_to_remote with link_to :remote => true
    Redesign all the comment moderation and listing in admin. Makes both global and per article view the same. Adds some per comments action. Adds for toolbar to the comment editor. [#184 state:resolved] [#135 state:resolved]
    Fixes admin/comments edition style
    Cleaning some code, removing some unshared partials.
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    Adding missing safe_html
    Getting read of deprecated ERB calls
    Some more admin tweaking, mostly the sidebars, some things here and there... Looking better
    add edit page of comment
    Updating sidebar interface
    Removing legacy use of subtabs_for
    Fixing sidebars publishing.
    
    Previous commit was fixing sidebars not saving when dragging / publishing but broke the available sidebar collection after saving. This one fixes the stuff.
    Corrected URL to sidebar plugin wiki page
    Remove trailing whitespace.
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    Fix sidebar publish button.
    
    The call to form_remote_tag was broken: The key is :url, not :html.
    Fixes themes AJAX posting, sidebar config, categories reorder, posts filtering, themes form design
    Fixing admin sidebar not saving
    Fixing admin sidebar not saving
    Close form in admin's sidebar view.
    Fixes on sidebar admin
    Fixes the admin sidebar controller crashing, adding missing specs, removing useless dead partials.
    Removing deprecated AJAX helpers calls
    Mass-removal of trailing whitespace.
    Fixes sidebar configuration style
    Rebuilds sidebar selection. Closes ticket #35
    Adding growler to autosave and sidebar save
    Some more admin tweaking, mostly the sidebars, some things here and there... Looking better
    Refactoring and removing dead code made my day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1847 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing wrong URL for the plugins repository.
    Closes ticket 1261
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1806 820eb932-12ee-0310-9ca8-eeb645f39767
    Rejig themes and sidebar page
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1722 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few things here and there.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1677 820eb932-12ee-0310-9ca8-eeb645f39767
    Few changes in back office
    Fixes 1184
    Few bug fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1614 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes 1171, 1173 and 1178 plus minor usability fixes and adds 5.0 CHANGESET
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1609 820eb932-12ee-0310-9ca8-eeb645f39767
    Some post release fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1606 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing bugs in the theme editor, as well as a failing test
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1572 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Typo theme editor
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1569 820eb932-12ee-0310-9ca8-eeb645f39767
    Another admin tweaking
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1563 820eb932-12ee-0310-9ca8-eeb645f39767
    Introduces the concept of  simple / advanced administration
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1561 820eb932-12ee-0310-9ca8-eeb645f39767
    Styles some forms
    Styles the sidebar items
    Fixes a bug in the theme lists
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1558 820eb932-12ee-0310-9ca8-eeb645f39767
    Rest of patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1554 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1529 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Applies administration regorganisation patch + adds some new icons from famfamfam.com
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1364 820eb932-12ee-0310-9ca8-eeb645f39767
    I continue to pick away at the Sidebar system. In this patch we:
    
      * Pull Sidebars::Plugin out into lib
      * Add a Sidebars::!ComponentPlugin which all component based sidebars
        inherit from (not that there are any other sorts of sidebar yet. Bear
        with me
      * Pulled !SidebarController out of components and into app/controllers
      * Lay groundwork for eliminating {{{staged_position}}} from the Sidebar
        model
    
    We've also got the beginnings of a sidebar preview here, /sidebar will
    show you a dummy article with a sidebar -- eventually this should work
    to show you a preview of the staged sidebar configuration.
    
    Coming up, a way of calling actions other than 'configure' and 'content'
    on your sidebars -- a necessity for advanced navigation tools for
    instance.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1002 820eb932-12ee-0310-9ca8-eeb645f39767
    Rails 1.1 rocks my world!
    
    '/admin/sidebar' just got some RJS magic sprinkled on it so you get a
    spinner in the 'active sidebars' header while the backend is updating
    stuff. Coming soon: Disabling the 'publish changes' button during loading.
    
    However, it is late, I am tired and I must be up at <ungodly>.30 tomorrow
    so I leave it as an exercise for the interested hacker.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@997 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed validation errors on admin/sidebar (closes #220) [kevin@sb.org]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@449 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed "adding sidebar removes from available" problem
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@433 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes upcoming.org comments in the aggregation model
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@378 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed header dissapearing when dropping elements in sidebar
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@376 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed bogus task box on sidebar items.  Added message box back to the sidebar pages
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@375 820eb932-12ee-0310-9ca8-eeb645f39767
    Sidebar cosmetic changes.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@372 820eb932-12ee-0310-9ca8-eeb645f39767
    cosmetic code changes...
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@369 820eb932-12ee-0310-9ca8-eeb645f39767
    updated look&feel&usability of the sidebar admin interface
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@367 820eb932-12ee-0310-9ca8-eeb645f39767
    Configurable sidebars.  (closes #157, #103)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@364 820eb932-12ee-0310-9ca8-eeb645f39767
    Updating sidebar interface
    Fixing misclosed html tag in the sidebars setting views
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    Fixes sidebar configuration style
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Added empty form tag to work around weird DOM bug that I don't understand.  (closes #194, #219)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@453 820eb932-12ee-0310-9ca8-eeb645f39767
    updated look&feel&usability of the sidebar admin interface
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@367 820eb932-12ee-0310-9ca8-eeb645f39767
    Configurable sidebars.  (closes #157, #103)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@364 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Configurable sidebars.  (closes #157, #103)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@364 820eb932-12ee-0310-9ca8-eeb645f39767
    Updating sidebar interface
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    I continue to pick away at the Sidebar system. In this patch we:
    
      * Pull Sidebars::Plugin out into lib
      * Add a Sidebars::!ComponentPlugin which all component based sidebars
        inherit from (not that there are any other sorts of sidebar yet. Bear
        with me
      * Pulled !SidebarController out of components and into app/controllers
      * Lay groundwork for eliminating {{{staged_position}}} from the Sidebar
        model
    
    We've also got the beginnings of a sidebar preview here, /sidebar will
    show you a dummy article with a sidebar -- eventually this should work
    to show you a preview of the staged sidebar configuration.
    
    Coming up, a way of calling actions other than 'configure' and 'content'
    on your sidebars -- a necessity for advanced navigation tools for
    instance.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1002 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix RJS for sidebar admin.
    
    The RJS passed in a collection of sidebars to a partial expecting a single
    sidebar.
    
    No specs, sorry.
    Fixing sidebars publishing.
    
    Previous commit was fixing sidebars not saving when dragging / publishing but broke the available sidebar collection after saving. This one fixes the stuff.
    Removing debugs
    Fixing broken sidebar configuration.
    Fixes on sidebar admin
    fix issue in adminsidebar. We doesn't see the sidebar configuration
    I continue to pick away at the Sidebar system. In this patch we:
    
      * Pull Sidebars::Plugin out into lib
      * Add a Sidebars::!ComponentPlugin which all component based sidebars
        inherit from (not that there are any other sorts of sidebar yet. Bear
        with me
      * Pulled !SidebarController out of components and into app/controllers
      * Lay groundwork for eliminating {{{staged_position}}} from the Sidebar
        model
    
    We've also got the beginnings of a sidebar preview here, /sidebar will
    show you a dummy article with a sidebar -- eventually this should work
    to show you a preview of the staged sidebar configuration.
    
    Coming up, a way of calling actions other than 'configure' and 'content'
    on your sidebars -- a necessity for advanced navigation tools for
    instance.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1002 820eb932-12ee-0310-9ca8-eeb645f39767
    updated lighttpd.conf from rails. Added a couple of admin views that I forgot to add before.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1001 820eb932-12ee-0310-9ca8-eeb645f39767
    I continue to pick away at the Sidebar system. In this patch we:
    
      * Pull Sidebars::Plugin out into lib
      * Add a Sidebars::!ComponentPlugin which all component based sidebars
        inherit from (not that there are any other sorts of sidebar yet. Bear
        with me
      * Pulled !SidebarController out of components and into app/controllers
      * Lay groundwork for eliminating {{{staged_position}}} from the Sidebar
        model
    
    We've also got the beginnings of a sidebar preview here, /sidebar will
    show you a dummy article with a sidebar -- eventually this should work
    to show you a preview of the staged sidebar configuration.
    
    Coming up, a way of calling actions other than 'configure' and 'content'
    on your sidebars -- a necessity for advanced navigation tools for
    instance.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1002 820eb932-12ee-0310-9ca8-eeb645f39767
    updated lighttpd.conf from rails. Added a couple of admin views that I forgot to add before.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1001 820eb932-12ee-0310-9ca8-eeb645f39767
    Updating sidebar interface
    Fixing misclosed html tag in the sidebars setting views
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    Fixes on sidebar admin
    Replacing link_to_remote with link_to :remote => true
    Fixes sidebar configuration style
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #805
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1005 820eb932-12ee-0310-9ca8-eeb645f39767
    I continue to pick away at the Sidebar system. In this patch we:
    
      * Pull Sidebars::Plugin out into lib
      * Add a Sidebars::!ComponentPlugin which all component based sidebars
        inherit from (not that there are any other sorts of sidebar yet. Bear
        with me
      * Pulled !SidebarController out of components and into app/controllers
      * Lay groundwork for eliminating {{{staged_position}}} from the Sidebar
        model
    
    We've also got the beginnings of a sidebar preview here, /sidebar will
    show you a dummy article with a sidebar -- eventually this should work
    to show you a preview of the staged sidebar configuration.
    
    Coming up, a way of calling actions other than 'configure' and 'content'
    on your sidebars -- a necessity for advanced navigation tools for
    instance.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1002 820eb932-12ee-0310-9ca8-eeb645f39767
    Rails 1.1 rocks my world!
    
    '/admin/sidebar' just got some RJS magic sprinkled on it so you get a
    spinner in the 'active sidebars' header while the backend is updating
    stuff. Coming soon: Disabling the 'publish changes' button during loading.
    
    However, it is late, I am tired and I must be up at <ungodly>.30 tomorrow
    so I leave it as an exercise for the interested hacker.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@997 820eb932-12ee-0310-9ca8-eeb645f39767
     r1419@obelisk:  pdcawley | 2006-03-31 15:52:47 +0100
     Big changes in the workings of Admin::SidebarController and in the workings of
     the 'configure' views of sidebars:
    
      * Sidebar configuration views no longer need to contain a form. In fact, they must ''not'' contain a form; instead they are evaluated in side the main form body of the sidebar admin view, so instead of {{{ <form id='some_weird_incantation_i_can_never_remember'>...</form><%= observe_form ... %> }}}, which is just so much boiler plate and a pain to get right, you have a bunch of form controls and labels. The only thing to remember, until we've got the helpers written, is that you have to do {{{configure[<%= @sidebar.id %>][field]}}} instead of {{{configure[field]}}} in the form tag's name.
      * This change closes #237 and #750
      * {{{/admin/sidebar}}} no longer 'phones home' quite so much, which is no bad thing -- now if I can just work out how to eliminate the way it phones home when sidebar order is changed. Any javascript magicians in the house?
      * This also paves the way to getting rid of the staged/active distinction in sidebar models (and possibly to eliminative ActiveRecord based sidebar models all together, but that's blue sky at the moment).
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@980 820eb932-12ee-0310-9ca8-eeb645f39767
    Added consistency to Pages area and removed powered by footer
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@425 820eb932-12ee-0310-9ca8-eeb645f39767
    renamed the Cache model to PageCache to be more descriptive. Also added unit tests for PageCache
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@387 820eb932-12ee-0310-9ca8-eeb645f39767
    updated look&feel&usability of the sidebar admin interface
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@367 820eb932-12ee-0310-9ca8-eeb645f39767
    Configurable sidebars.  (closes #157, #103)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@364 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix RJS for sidebar admin.
    
    The RJS passed in a collection of sidebars to a partial expecting a single
    sidebar.
    
    No specs, sorry.
    Fixing broken sidebar configuration.
    Fixes on sidebar admin
    Adding growler to autosave and sidebar save
    I continue to pick away at the Sidebar system. In this patch we:
    
      * Pull Sidebars::Plugin out into lib
      * Add a Sidebars::!ComponentPlugin which all component based sidebars
        inherit from (not that there are any other sorts of sidebar yet. Bear
        with me
      * Pulled !SidebarController out of components and into app/controllers
      * Lay groundwork for eliminating {{{staged_position}}} from the Sidebar
        model
    
    We've also got the beginnings of a sidebar preview here, /sidebar will
    show you a dummy article with a sidebar -- eventually this should work
    to show you a preview of the staged sidebar configuration.
    
    Coming up, a way of calling actions other than 'configure' and 'content'
    on your sidebars -- a necessity for advanced navigation tools for
    instance.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1002 820eb932-12ee-0310-9ca8-eeb645f39767
    Updating SEO views
    Removing legacy use of subtabs_for
    Feature request: add a custom tracking field for people not using Google Analytics.
    
    This field content is displayed in the <head> part of every page.
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Fixes post save redirects for SeoController
    Adding some documentation + translation
    Remove trailing whitespace.
    Adding a "use meta tags option", enabled by default. Changing the grouping controller behavior to add the blog meta keywords to the categories and tags when their keywords are empty (always for tags). Adding specs.
    Changes the settings behavior for nofollowify, index categories and index tags. Comes with migration. Adds missing specs.
    
    Current settings behavior were beyond stupidity : every feature were enabled by default and admin had to uncheck them to disable them:
    Unchecking nofollowify was enabling dofollow.
    Unchecking index categories was removing categories from search engine index
    Unchecking index tags was removing categories from search engine tags.
    
    New behavior:
    Checking dofollowify actually enables dofollow
    Checking unindex categories removes categories from search engine index
    Checking unindex tags removes tags from search engine index
    
    TODO :
    Allow unindex / index by category.
    Allow unindex / index by tag.
    Reorganizes the seo#index page into 3 separate blocks. Next: adding some help
    Moving admin/settings/seo to the new admin/seo controller.
    Adding support for rel='canonical' in pages header to avoid duplicate content.
    
    A canonical page is the preferred version of a set of pages with highly similar content.
    
    It's common for a site to have several pages listing the same set of products. For example, one page might display products sorted in alphabetical order, while other pages display the same products listed by price or by rating. For example:
    
    http://www.example.com/product.php?item=swedish-fish&trackingid=1234567&sort=alpha&sessionid=5678asfasdfasfd
    http://www.example.com/product.php?item=swedish-fish&trackingid=1234567&sort=price&sessionid=5678asfasdfasfd
    If Google knows that these pages have the same content, we may index only one version for our search results. Our algorithms select the page we think best answers the user's query. Now, however, users can specify a canonical page to search engines by adding a <link> element with the attribute rel="canonical" to the <head> section of the non-canonical version of the page. Adding this link and attribute lets site owners identify sets of identical content and suggest to Google: "Of all these pages with identical content, this page is the most useful. Please prioritize it in search results."
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    Makes the RSS description editable from the admin.
    
    This feature uses the same tags format as permalink definition %tag%. Available tags are:
    %author%: author name
    %blog_url%: blog base url
    %blog_name%: blog title
    %permalink_url%: permalink url
    
    This also does a little bit of cleaning as rss_description was duplicated in both Article and Content models. I need to find a way to add tests to this, both in the model and controller parts.
    
    [#165 state:resolved]
    Adding a no/do follow policy on the whole blog. Admin can now chose between nofollow and dofollow in the comments and comments author URL.
    
    For now this is a bit "raw" and may need some improvement:
    1- allow admin to chose after how many comments a visitor is dofollowed, for example 3, but this would have an impact on performances: each time a comment is rendered, Typo would do a select count(*) based on the author email address.
    2- improve comment moderation to have an email sent even though the comment was not published, or any other way to moderate comments. I need to think about it without breaking / recoding our state machine.
    
    Oh, and this indeed come with a bunch of tests that shows I haven't broken anything.
    Getting read of deprecated ERB calls
    Mass-removal of trailing whitespace.
    Adds support for the google verification link [#182 state:resolved]
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Rewrite settings, fixes a bug with checkbox since the upgrade to rails 2.3.3, and limits the risk for errors
    Fixes Incongruent use of ':' on forms ticket #103
    add validation of permalink_format with good format. Failed if bad format
    Fixes a little Typo
    little refactor more readable
    Allow on demand search removal for tags and categories. This adds noindex follow headers on related pages, and removes them from sitemap.xml
    Adding configurable robots.txt in settings
    add setting url in SEO administration. Can change order of title/year/month and day
    Removing useless classes from settings
    Adding RSS copyright information and appropriate settings
    Adding Google analytics support to Typo
    Adding subcategories
    Giving Typo some SEO capabilities
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1849 820eb932-12ee-0310-9ca8-eeb645f39767
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Updating SEO views
    Removing legacy use of subtabs_for
    Fixes post save redirects for SeoController
    Changes permalinks form destination and Seo#permalinks behavior for further devs (further meaning now)
    Adding some documentation + translation
    Forgot to add the seo#permalinks view in latest commit
    Updating SEO views
    Removing legacy use of subtabs_for
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Added view partials and helpers from bootstrap into main area
    Add back admin tools for comments.
    
    This nifty tool was (accidentally?) removed ages ago.
    Move comment partial under comments/.
    
    This allows us to simplify rendering comment collections. For backward
    compatibility of older themes, articles/comment renders comments/comment.
    Removes old js_distance_of_time_to_now which becomes a plugin. To avoid breaking everything the old method is kept and calls the new one.
    Makes all themes support the new way of displaying date and time.
    Makes the new way of displaying date and time "xxx ago" aware.
    Complete front implementation for plugin_avatar (every theme fixed)
    start using same formating but only define by a string
    Remove use of simple_format
    This reverts commits a137b958daf8f791e0bd63932dcdb78ef05d3b7b and
    10cff9dbaa740a1505697f1c8a32565aa83d8435
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Adds simple_format to comments and posts output. Changes \n to <br /> and \n\n to </p>
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Localized the articles view + French translation w00t
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1381 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Install the Haml plugin
    Convert Azure's default layout to Haml
    Convert all the Articles views to Haml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1349 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    * The Content model no longer knows anything about the cache.
    * Reprecated the html helper
    * Implemented the 'html' helper in MailHelper. It turns out that
      ActionMailer doesn't do fragment caching, so in order to keep a
      consistent interface for accessing article html, we've implemented
      a version that doesn't attempt to do caching.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1265 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Big spam filtering upgrade.
    
    This turns on Akismet filtering for all incoming comments and trackbacks.
    Comments (and trackbacks) that fail the spam check are marked as unpublished
    and can be deleted via the admin feedback page.
    
    In addition, the feedback page's publish/unpublish buttons now send feedback
    to Akismet (when enabled, of course).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1148 820eb932-12ee-0310-9ca8-eeb645f39767
    Okay, this is the big, scary patch.
    
    Content is now using a state object to handle transitions between
    'new', 'draft', 'just_published', 'published' and 'publication_pending'
    states. The interesting states in that lot are:
    
      * just_published -- this is a transient state, nothing gets fetched
        from the object store in this state. content is marked as just
        published so that various things that should only happen when an
        article is just published (notifications, pings, etc) only happen
        once.
    
      * publication_pending -- this is when content is due to be published
        in the future. It generally means there's a trigger hanging about
        in the triggers table waiting to publish the article.
    
    At the moment the publication state isn't stored in the database, but derived
    from the 'published' flag and the 'published_at' field. I think we can
    survive like this for a while, but we may end up getting rid of the 'published'
    flag and replacing it with a publication_state field holding a simple
    memento that we can use to reconstruct the state object. (We can't just
    use slaird's {{{acts_as_state}}} plugin because that doesn't appear
    to use 'real' state objects that we can hang behaviour off, and I've
    switched us to using the state pattern precisely so I can hang behaviour
    off the states -- check out {{{ContentState::JustPublished}}} for an
    example of the kind of thing the state pattern lets you do.)
    
    Also, I've switched all the views I could find over to using
    {{{published_at}}} rather than {{{created_at}}}; if you're a theme author
    you might like to do the same.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1047 820eb932-12ee-0310-9ca8-eeb645f39767
    Sing, muse the joy of pdcawley as he puts the monstrosity {{{article_url}}} and
    all its spawn to his sure swift sword and casts the tiny pieces down, down,
    ye even unto the very depths of The Pit.
    
    Bear witness as {{{Content#full_html}}} returns to the fray, trailing clouds of
    glory, renewing the vigour of old themes left withering in the TypoGarden.
    
    For, verily, I have returned the sensible API to its rightful place.
    
    (Oh, and if you ''must'' use them, {{{article_url}}} et al. will continue to work
    for the forseeable future, but I will insist on treating them like red headed
    stepchildren.)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1004 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Add some HTML-escaping in admin comment view and remove an unnecessary trinary operator
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@887 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a user_id field to comments, and stuff it with session[:user].  Also fix over-eager saves triggered by previews
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@627 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved body_html and friends from push to pull.  See http://scottstuff.net/blog/articles/2005/09/04/push-me-pull-me
    for details.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@622 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed completely unnecessary 'graybox' class assignment from trackback and comment list items (closes #124)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@573 820eb932-12ee-0310-9ca8-eeb645f39767
    Implemented Gravatar support. Fully optional, off by default. Setting available from blog settings. (closes #90) [justin@soaringcondor.com]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@556 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix XSS bug with comment author.  Admin pages are already clean.  (closes #307)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@521 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed an issue with comments times
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@340 820eb932-12ee-0310-9ca8-eeb645f39767
    typo is now full static. The entire front end comes from static pages which are swept on commenting, trackbacks, new article posts and category changes.
    This means we cannot do the "posted 25 minutes ago" business but we can easily serve in excess of 1k pages per second so this should be worth it.
    
    closes #127, #21
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@337 820eb932-12ee-0310-9ca8-eeb645f39767
     * Nudged the nuke buttons for comments and trackbacks to the right
     * Added hovering to present admin links
     * Present a hovered admin edit link for articles in public
     (closes #141)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@311 820eb932-12ee-0310-9ca8-eeb645f39767
    if you are logged into typo you can now nuke comments and trackbacks right in the blog ui.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@308 820eb932-12ee-0310-9ca8-eeb645f39767
    regression
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@280 820eb932-12ee-0310-9ca8-eeb645f39767
    style upgrade (@request = request, @params = params, @session = session)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@279 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed broken redirect after install
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@275 820eb932-12ee-0310-9ca8-eeb645f39767
    * Per article comment rss (closes #138)
    * Functional unit tests for xml_controller
    * Move to 0.13 cache sweeper
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@273 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed the flicker when posting large comments, thanks to madrobby
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@214 820eb932-12ee-0310-9ca8-eeb645f39767
    a few optimisations
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@204 820eb932-12ee-0310-9ca8-eeb645f39767
    improved comment form
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@101 820eb932-12ee-0310-9ca8-eeb645f39767
    switched commenting to ajax. ob boy is that cool
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@98 820eb932-12ee-0310-9ca8-eeb645f39767
    Lots of small template cleanup (tabs changed to spaces.. etc)
    
    Fixed: Removed the dangling </p> causing xhtml validation to fail.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@61 820eb932-12ee-0310-9ca8-eeb645f39767
    mainly rhtml changes, switched production server and development environment to mysql
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@41 820eb932-12ee-0310-9ca8-eeb645f39767
    added commentrss (so i see when people write something)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@20 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@9 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    Give comment index Atom and RSS feeds their own templates.
    Give articles index RSS feed its own template.
    Spec RSS feed view.
    Make atom and rss feed builders shared partials.
    Use :locals option with render :partial for collections.
    
    Passing a collection to the :object option now results in each member being
    passed. Use :locals instead to pass the actual collection. Changes to the
    feed partials were also needed to make this work.
    Add valid atom:link tag to RSS feed.
    RSS language code should conform to http://www.rssboard.org/rss-language-codes
    Fixes RSS feed bug #110
    fixed bug #1271 and add spec to test it
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1832 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweaking some renamings
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1553 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    More smallish refactorings. Just easing my way back
    into the code.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1508 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Clean up itunes RSS.  Closes #576
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@766 820eb932-12ee-0310-9ca8-eeb645f39767
    Podcasting, thanks to bingeldac (Grant Schofield).  This also reverts the previous two patches--it's possible that migrations are broken, but that's better then everything else being broken.  There are a few things that I'd like to change here, but by and large it works.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@752 820eb932-12ee-0310-9ca8-eeb645f39767
    RSS/Atom updates.  Closes #497
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@710 820eb932-12ee-0310-9ca8-eeb645f39767
    Add basic CSS for RSS feeds, in an attempt to make them less scary
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@635 820eb932-12ee-0310-9ca8-eeb645f39767
    Unify Atom and RSS feed logic.  Add Atom 1.0.  Add per-category and per-tag feeds.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@601 820eb932-12ee-0310-9ca8-eeb645f39767
    Extract Atom feed header into a partial.
    Give comment index Atom and RSS feeds their own templates.
    Give articles index Atom feed its own template.
    
    I want to give each feed its own template, and remove the to_atom and
    to_rss methods from the models.
    Show current typo version number in atom feed.
    Make atom and rss feed builders shared partials.
    Use :locals option with render :partial for collections.
    
    Passing a collection to the :object option now results in each member being
    passed. Use :locals instead to pass the actual collection. Changes to the
    feed partials were also needed to make this work.
    Typo is at version 5.x now.
    Applied part of the patch in #1199. Slaingod++
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1628 820eb932-12ee-0310-9ca8-eeb645f39767
    Rest of patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1554 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweaking some renamings
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1553 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    More smallish refactorings. Just easing my way back
    into the code.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1508 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    Removes old js_distance_of_time_to_now which becomes a plugin. To avoid breaking everything the old method is kept and calls the new one.
    Makes all themes support the new way of displaying date and time.
    Makes the new way of displaying date and time "xxx ago" aware.
    Fix default comment show form: Use @comment, not comment.
    Replace remaining calls to gravatar_tag.
    Adding a no/do follow policy on the whole blog. Admin can now chose between nofollow and dofollow in the comments and comments author URL.
    
    For now this is a bit "raw" and may need some improvement:
    1- allow admin to chose after how many comments a visitor is dofollowed, for example 3, but this would have an impact on performances: each time a comment is rendered, Typo would do a select count(*) based on the author email address.
    2- improve comment moderation to have an email sent even though the comment was not published, or any other way to moderate comments. I need to think about it without breaking / recoding our state machine.
    
    Oh, and this indeed come with a bunch of tests that shows I haven't broken anything.
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Slowly moving towards a more Resourceful setup. Added (and started to test)
    a CommentsController class and its associated views.
    
    We aren't actually using it from anything yet, but it's only a matter of time.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1461 820eb932-12ee-0310-9ca8-eeb645f39767
    Use trackback and comment partials in article feedback RSS feed.
    Give article feedback RSS feed its own template.
    Give articles index RSS feed its own template.
    Spec RSS feed view.
    Make atom and rss feed builders shared partials.
    Use :locals option with render :partial for collections.
    
    Passing a collection to the :object option now results in each member being
    passed. Use :locals instead to pass the actual collection. Changes to the
    feed partials were also needed to make this work.
    Add valid atom:link tag to RSS feed.
    RSS language code should conform to http://www.rssboard.org/rss-language-codes
    Fixes RSS feed bug #110
    fixed bug #1271 and add spec to test it
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1832 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweaking some renamings
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1553 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    More smallish refactorings. Just easing my way back
    into the code.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1508 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Clean up itunes RSS.  Closes #576
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@766 820eb932-12ee-0310-9ca8-eeb645f39767
    Podcasting, thanks to bingeldac (Grant Schofield).  This also reverts the previous two patches--it's possible that migrations are broken, but that's better then everything else being broken.  There are a few things that I'd like to change here, but by and large it works.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@752 820eb932-12ee-0310-9ca8-eeb645f39767
    RSS/Atom updates.  Closes #497
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@710 820eb932-12ee-0310-9ca8-eeb645f39767
    Add basic CSS for RSS feeds, in an attempt to make them less scary
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@635 820eb932-12ee-0310-9ca8-eeb645f39767
    Unify Atom and RSS feed logic.  Add Atom 1.0.  Add per-category and per-tag feeds.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@601 820eb932-12ee-0310-9ca8-eeb645f39767
    Factor password-protected article view logic into partials.
    Adding password protected posts. Things are done 100% AJAX because of the static cache. Logged in users are considered as being able to see a protected post. Protected posts content is removed from RSS feed. Need to add some specs, it's curious to see that they didn't break
    Move comment partial under comments/.
    
    This allows us to simplify rendering comment collections. For backward
    compatibility of older themes, articles/comment renders comments/comment.
    Removes old js_distance_of_time_to_now which becomes a plugin. To avoid breaking everything the old method is kept and calls the new one.
    Makes all themes support the new way of displaying date and time.
    Makes the new way of displaying date and time "xxx ago" aware.
    Complete front implementation for plugin_avatar (every theme fixed)
    start using same formating but only define by a string
    Remove use of simple_format
    This reverts commits a137b958daf8f791e0bd63932dcdb78ef05d3b7b and
    10cff9dbaa740a1505697f1c8a32565aa83d8435
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Adds simple_format to comments and posts output. Changes \n to <br /> and \n\n to </p>
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Localized the articles view + French translation w00t
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1381 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Install the Haml plugin
    Convert Azure's default layout to Haml
    Convert all the Articles views to Haml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1349 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    * The Content model no longer knows anything about the cache.
    * Reprecated the html helper
    * Implemented the 'html' helper in MailHelper. It turns out that
      ActionMailer doesn't do fragment caching, so in order to keep a
      consistent interface for accessing article html, we've implemented
      a version that doesn't attempt to do caching.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1265 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Big spam filtering upgrade.
    
    This turns on Akismet filtering for all incoming comments and trackbacks.
    Comments (and trackbacks) that fail the spam check are marked as unpublished
    and can be deleted via the admin feedback page.
    
    In addition, the feedback page's publish/unpublish buttons now send feedback
    to Akismet (when enabled, of course).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1148 820eb932-12ee-0310-9ca8-eeb645f39767
    Okay, this is the big, scary patch.
    
    Content is now using a state object to handle transitions between
    'new', 'draft', 'just_published', 'published' and 'publication_pending'
    states. The interesting states in that lot are:
    
      * just_published -- this is a transient state, nothing gets fetched
        from the object store in this state. content is marked as just
        published so that various things that should only happen when an
        article is just published (notifications, pings, etc) only happen
        once.
    
      * publication_pending -- this is when content is due to be published
        in the future. It generally means there's a trigger hanging about
        in the triggers table waiting to publish the article.
    
    At the moment the publication state isn't stored in the database, but derived
    from the 'published' flag and the 'published_at' field. I think we can
    survive like this for a while, but we may end up getting rid of the 'published'
    flag and replacing it with a publication_state field holding a simple
    memento that we can use to reconstruct the state object. (We can't just
    use slaird's {{{acts_as_state}}} plugin because that doesn't appear
    to use 'real' state objects that we can hang behaviour off, and I've
    switched us to using the state pattern precisely so I can hang behaviour
    off the states -- check out {{{ContentState::JustPublished}}} for an
    example of the kind of thing the state pattern lets you do.)
    
    Also, I've switched all the views I could find over to using
    {{{published_at}}} rather than {{{created_at}}}; if you're a theme author
    you might like to do the same.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1047 820eb932-12ee-0310-9ca8-eeb645f39767
    Sing, muse the joy of pdcawley as he puts the monstrosity {{{article_url}}} and
    all its spawn to his sure swift sword and casts the tiny pieces down, down,
    ye even unto the very depths of The Pit.
    
    Bear witness as {{{Content#full_html}}} returns to the fray, trailing clouds of
    glory, renewing the vigour of old themes left withering in the TypoGarden.
    
    For, verily, I have returned the sensible API to its rightful place.
    
    (Oh, and if you ''must'' use them, {{{article_url}}} et al. will continue to work
    for the forseeable future, but I will insist on treating them like red headed
    stepchildren.)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1004 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Add some HTML-escaping in admin comment view and remove an unnecessary trinary operator
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@887 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a user_id field to comments, and stuff it with session[:user].  Also fix over-eager saves triggered by previews
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@627 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved body_html and friends from push to pull.  See http://scottstuff.net/blog/articles/2005/09/04/push-me-pull-me
    for details.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@622 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed completely unnecessary 'graybox' class assignment from trackback and comment list items (closes #124)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@573 820eb932-12ee-0310-9ca8-eeb645f39767
    Implemented Gravatar support. Fully optional, off by default. Setting available from blog settings. (closes #90) [justin@soaringcondor.com]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@556 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix XSS bug with comment author.  Admin pages are already clean.  (closes #307)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@521 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed an issue with comments times
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@340 820eb932-12ee-0310-9ca8-eeb645f39767
    typo is now full static. The entire front end comes from static pages which are swept on commenting, trackbacks, new article posts and category changes.
    This means we cannot do the "posted 25 minutes ago" business but we can easily serve in excess of 1k pages per second so this should be worth it.
    
    closes #127, #21
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@337 820eb932-12ee-0310-9ca8-eeb645f39767
     * Nudged the nuke buttons for comments and trackbacks to the right
     * Added hovering to present admin links
     * Present a hovered admin edit link for articles in public
     (closes #141)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@311 820eb932-12ee-0310-9ca8-eeb645f39767
    if you are logged into typo you can now nuke comments and trackbacks right in the blog ui.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@308 820eb932-12ee-0310-9ca8-eeb645f39767
    regression
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@280 820eb932-12ee-0310-9ca8-eeb645f39767
    style upgrade (@request = request, @params = params, @session = session)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@279 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed broken redirect after install
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@275 820eb932-12ee-0310-9ca8-eeb645f39767
    * Per article comment rss (closes #138)
    * Functional unit tests for xml_controller
    * Move to 0.13 cache sweeper
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@273 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed the flicker when posting large comments, thanks to madrobby
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@214 820eb932-12ee-0310-9ca8-eeb645f39767
    a few optimisations
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@204 820eb932-12ee-0310-9ca8-eeb645f39767
    improved comment form
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@101 820eb932-12ee-0310-9ca8-eeb645f39767
    switched commenting to ajax. ob boy is that cool
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@98 820eb932-12ee-0310-9ca8-eeb645f39767
    Lots of small template cleanup (tabs changed to spaces.. etc)
    
    Fixed: Removed the dangling </p> causing xhtml validation to fail.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@61 820eb932-12ee-0310-9ca8-eeb645f39767
    mainly rhtml changes, switched production server and development environment to mysql
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@41 820eb932-12ee-0310-9ca8-eeb645f39767
    added commentrss (so i see when people write something)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@20 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@9 820eb932-12ee-0310-9ca8-eeb645f39767
    Added view partials and helpers from bootstrap into main area
    Replacing old will_paginate with scope based Kaminari.
    Simplify render in views: themes and articles.
    Fixed: "Read more" link apearing next to "Continue reading". Now only "Continue reading" is used.
    Fixed will_paginate ussage to use translations.
    Fix invalid p>div nesting.
    add spec to check good feed in head. Reformat some HTML with good indentation
    Getting rid of the worse piece of code ever, multiplies Typo perfs by 10 when calling articles/index (see http://t37.net/ya-pas-comme-un-truc-qui-vous-fait-hurler-li)
    Getting rid of classic pagination for will_paginate
    Revamping the dashboard, step 1
    Revamping login form step 1
    cleaning admin/css step 1
    migrating default themes to will_paginate
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Right ho, /articles/category now redirects to /articles/categories,
    which is a resource now.
    
    Eventually, CategoriesController will take on the duties of
    Admin::CategoriesController, but not quite yet, for now it just handles
    index and show.
    
    Note that we've also introduced a new type of resource, the 'inflected_resource'
    which uses /articles/categories/... for its collection methods, but
    /articles/category/whatever for its members. This means that you we can
    have a category with a permalink of 'new' and it won't clash with with the
    admin form for creating a new category.
    
    Isn't that lovely?
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1510 820eb932-12ee-0310-9ca8-eeb645f39767
    Localized the articles view + French translation w00t
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1381 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Install the Haml plugin
    Convert Azure's default layout to Haml
    Convert all the Articles views to Haml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1349 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Atmos's routes fixup.  (closes #268)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@492 820eb932-12ee-0310-9ca8-eeb645f39767
    fixes frontpage caching regression which would overwrite the index.html with an old version with specially crafted urls (Damien Pollet) closes #234
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@466 820eb932-12ee-0310-9ca8-eeb645f39767
    applied static pages updates by Damien Pollet closes #127
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@343 820eb932-12ee-0310-9ca8-eeb645f39767
     * Replace two or more consequtive dashes in rdf:Description by a single dash (fixes #88) [ravenlock@true-evil.net]
     * Replace two or more consequtive dashes in rdf:Description by a single dash (fixes #88) [ravenlock@true-evil.net]
     * Replace (Article instance).has_extended? by extended? making functional tests pass again
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@302 820eb932-12ee-0310-9ca8-eeb645f39767
    added extended entries support and fixed search (kevin@sb.org) closes #44, #129
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@300 820eb932-12ee-0310-9ca8-eeb645f39767
    "Older posts" displayed when there is exactly 10 posts closes #115
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@293 820eb932-12ee-0310-9ca8-eeb645f39767
    Integrated Azure design.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@247 820eb932-12ee-0310-9ca8-eeb645f39767
    Cleaned up the articles/index.html (dgtized@gmail.com) fixes #48
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@187 820eb932-12ee-0310-9ca8-eeb645f39767
     * Check @pages.item_count instead of @articles.size in articles/index.rhtml (fixes #39) [wismar@gmail.com]
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@167 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged /branches/aws to /trunk. Three cheers for Patrick Lenz's fantastic work in this branch
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@132 820eb932-12ee-0310-9ca8-eeb645f39767
    finished perma links
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@103 820eb932-12ee-0310-9ca8-eeb645f39767
    Lots of small template cleanup (tabs changed to spaces.. etc)
    
    Fixed: Removed the dangling </p> causing xhtml validation to fail.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@61 820eb932-12ee-0310-9ca8-eeb645f39767
    Big additions again
    Another big commit.
    
    Additions:
      Trackbacks fully integrated.
      Per article decision to allow trackbacks and comments.
      "transforms" library added for text transforming methods. (
      Google's nofollow fully supported where necessary.
    
    Changes:
      Cleaned up some duplicated code.
      New trackbacks cause the sweeper to go into effect.
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@46 820eb932-12ee-0310-9ca8-eeb645f39767
    mainly rhtml changes, switched production server and development environment to mysql
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@41 820eb932-12ee-0310-9ca8-eeb645f39767
    Added:
      Support for inbound trackbacks (very little testing) (http://someserver.com/trackback/ping/1)
      Support for the Moveable Type API - seems to work well.
      Support for RSD - autodiscovering of the xmlrpc uri
                      - aka "Autofill" in MarsEdit
                      - I'm not sure what should be returned for Movetype API support though
                        - Maybe MarsEdit just doesn't support it through RSD.
      Added a "Powered by Typo" link to the bottom of the articles.rthml template.
      RSS feed now has support for autodiscovery of trackback url's.
    
    Fixes:
      If a post isn't assigned to any categories, it won't choke now.
      Categories that an article is posted in are now displayed with the article.
    
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@39 820eb932-12ee-0310-9ca8-eeb645f39767
    xhtml bugfix
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@14 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@8 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old will_paginate with scope based Kaminari.
    Fixed will_paginate ussage to use translations.
    Getting rid of the worse piece of code ever, multiplies Typo perfs by 10 when calling articles/index (see http://t37.net/ya-pas-comme-un-truc-qui-vous-fait-hurler-li)
    Getting rid of classic pagination for will_paginate
    Revamping the dashboard, step 1
    Revamping login form step 1
    cleaning admin/css step 1
    migrating default themes to will_paginate
    Fixed a few things here and there
    This should apparently solve every redirect issue left so far
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1701 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Localized the articles view + French translation w00t
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1381 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Install the Haml plugin
    Convert Azure's default layout to Haml
    Convert all the Articles views to Haml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1349 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Added view partials and helpers from bootstrap into main area
    fix some spec
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Localized the articles view + French translation w00t
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1381 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Install the Haml plugin
    Convert Azure's default layout to Haml
    Convert all the Articles views to Haml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1349 820eb932-12ee-0310-9ca8-eeb645f39767
    Commit patch #656 - escape article.title everywhere it's used. Submitted by <ianburrell@gmail.com>
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@849 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed completely unnecessary 'graybox' class assignment from trackback and comment list items (closes #124)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@573 820eb932-12ee-0310-9ca8-eeb645f39767
     * Nudged the nuke buttons for comments and trackbacks to the right
     * Added hovering to present admin links
     * Present a hovered admin edit link for articles in public
     (closes #141)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@311 820eb932-12ee-0310-9ca8-eeb645f39767
    if you are logged into typo you can now nuke comments and trackbacks right in the blog ui.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@308 820eb932-12ee-0310-9ca8-eeb645f39767
    Lots of small template cleanup (tabs changed to spaces.. etc)
    
    Fixed: Removed the dangling </p> causing xhtml validation to fail.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@61 820eb932-12ee-0310-9ca8-eeb645f39767
    Big additions again
    Another big commit.
    
    Additions:
      Trackbacks fully integrated.
      Per article decision to allow trackbacks and comments.
      "transforms" library added for text transforming methods. (
      Google's nofollow fully supported where necessary.
    
    Changes:
      Cleaned up some duplicated code.
      New trackbacks cause the sweeper to go into effect.
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@46 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds some more localization
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1653 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Localized the articles view + French translation w00t
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1381 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Install the Haml plugin
    Convert Azure's default layout to Haml
    Convert all the Articles views to Haml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1349 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Okay, this is the big, scary patch.
    
    Content is now using a state object to handle transitions between
    'new', 'draft', 'just_published', 'published' and 'publication_pending'
    states. The interesting states in that lot are:
    
      * just_published -- this is a transient state, nothing gets fetched
        from the object store in this state. content is marked as just
        published so that various things that should only happen when an
        article is just published (notifications, pings, etc) only happen
        once.
    
      * publication_pending -- this is when content is due to be published
        in the future. It generally means there's a trigger hanging about
        in the triggers table waiting to publish the article.
    
    At the moment the publication state isn't stored in the database, but derived
    from the 'published' flag and the 'published_at' field. I think we can
    survive like this for a while, but we may end up getting rid of the 'published'
    flag and replacing it with a publication_state field holding a simple
    memento that we can use to reconstruct the state object. (We can't just
    use slaird's {{{acts_as_state}}} plugin because that doesn't appear
    to use 'real' state objects that we can hang behaviour off, and I've
    switched us to using the state pattern precisely so I can hang behaviour
    off the states -- check out {{{ContentState::JustPublished}}} for an
    example of the kind of thing the state pattern lets you do.)
    
    Also, I've switched all the views I could find over to using
    {{{published_at}}} rather than {{{created_at}}}; if you're a theme author
    you might like to do the same.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1047 820eb932-12ee-0310-9ca8-eeb645f39767
    Commit patch #656 - escape article.title everywhere it's used. Submitted by <ianburrell@gmail.com>
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@849 820eb932-12ee-0310-9ca8-eeb645f39767
    Added article archives page.  (closes #178)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@356 820eb932-12ee-0310-9ca8-eeb645f39767
    Factor password-protected article view logic into partials.
    Added view partials and helpers from bootstrap into main area
    Move themeless comment_box partial to comment_form.
    
    All themes use comment_form, so make things consistent.
    Fix up retrieval of use_recaptcha setting in views.
    Added reCaptcha form in embedded views
    Fixes a missing html_safe
    Reverting to old prototype helpers. Will do a UJS rework later
    Removing deprecated AJAX helpers calls
    Fixed 'leave url/email' translation and added according german and polish translations.
    Mark up strings so that it works for translations.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    start using same formating but only define by a string
    try to clean some url construction
    Rest of patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1554 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    At some point in any refactoring you have to trust your gut and check
    it in.
    
    This point has now been reached...
    
    New things:
    * routes.rb continues to get shorter, ArticlesController is now declared
      with 'map.datestamped_resource :articles' plus a few extra actions that
      will eventually move to other controllers
    * Comment posting is now handled by the shiny new CommentsController, which
      is resourceful. However, because we don't want to break too many themes
      yet, it's still rendering templates from the articles directory
    * If you want to make your themes work better with the new scheme, you
      should alter your comment form url to be:
      {{{ :url => comments_path(@article) }}}
      If you're linking to the preview action, that becomes
      {{{ preview_new_comment_path(@article) }}}
    * This breaks #1463 rather hard. I shall be rolling #1463 all the way back
      for the time being, at least until I've got the controllers working
      restfully. Once that's done, it should be relatively trivial to change
      the routes file from using {{{datestamped_resources(:articles)}}} to using
      {{{resources(:articles)}}}
    * Deprecation warnings for badly placed controller actions aren't yet
      in place. I need to work out some way of having those warnings show
      up on the admin pages...
    * This may break things horribly. I've run it against the test suite,
      I've walked through most stuff on my test blog, but (always) there
      is the niggling feeling that I've missed something.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1465 820eb932-12ee-0310-9ca8-eeb645f39767
    Localized the articles view + French translation w00t
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1381 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Install the Haml plugin
    Convert Azure's default layout to Haml
    Convert all the Articles views to Haml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1349 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Add popup markup helper.  Closes #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1104 820eb932-12ee-0310-9ca8-eeb645f39767
    Use url_for instead of hard-coded preview URL.  (closes #379)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@603 820eb932-12ee-0310-9ca8-eeb645f39767
    Got rid of form observer for comment previews in favour of an ajax-based link tag (fixes #xalsconcerns)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@569 820eb932-12ee-0310-9ca8-eeb645f39767
    Added comment submission live preview using new filter architecture (closes #331) [anonymous]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@567 820eb932-12ee-0310-9ca8-eeb645f39767
     * Added form input for commenters email address (not shown anywhere)
     * Added hover edit buttons next to nuke buttons for comment/trackback listings
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@314 820eb932-12ee-0310-9ca8-eeb645f39767
    if you are logged into typo you can now nuke comments and trackbacks right in the blog ui.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@308 820eb932-12ee-0310-9ca8-eeb645f39767
    updated comment posting to have much better error message handling
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@304 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed comments posting javascript and restructured things a bit. fixes #139
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@282 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix remaining spec failures caused by the removal of the catch-all route.
    
    - Add routes for articles#tag and articles#category.
    - Remove route for tags#check_password again, it was a red herring.
    - Fix references to accounts/login as the controller.
    - Explicitely state controller in article password form partial.
    - Fix category spec set up to ensure creation of permalink field.
    Fix block helper style deprecation warning.
    Avoid double render of remote form.
    Fix form compile error.
    Reverting to old prototype helpers. Will do a UJS rework later
    Remove spurious text.
    Removes a deprecation warning on form_for
    Replace remote_form_for with form_for.
    Getting read of deprecated ERB calls
    Adding password protected posts. Things are done 100% AJAX because of the static cache. Logged in users are considered as being able to see a protected post. Protected posts content is removed from RSS feed. Need to add some specs, it's curious to see that they didn't break
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Install the Haml plugin
    Convert Azure's default layout to Haml
    Convert all the Articles views to Haml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1349 820eb932-12ee-0310-9ca8-eeb645f39767
     * Merged spamprot branch containing DNSRBL blocking, URL count limit, old article auto-close (refs #25)
       MISSING: Moderation options instead of flat out blocking, bayes based blocking, web-interface for blacklist items, auto-close indication
     * Minor fixes from spamprot branch:
       * No more escaping of article titles in articles/_read.rhtml
       * Proper sorting for delicious partial
       * Better semantics for sidebar boxes
    
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@178 820eb932-12ee-0310-9ca8-eeb645f39767
    Create RSS item partial for articles.
    Give articles index RSS feed its own template.
    Spec RSS feed view.
    Make atom and rss feed builders shared partials.
    Use :locals option with render :partial for collections.
    
    Passing a collection to the :object option now results in each member being
    passed. Use :locals instead to pass the actual collection. Changes to the
    feed partials were also needed to make this work.
    Add valid atom:link tag to RSS feed.
    RSS language code should conform to http://www.rssboard.org/rss-language-codes
    Fixes RSS feed bug #110
    fixed bug #1271 and add spec to test it
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1832 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweaking some renamings
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1553 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    More smallish refactorings. Just easing my way back
    into the code.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1508 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Clean up itunes RSS.  Closes #576
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@766 820eb932-12ee-0310-9ca8-eeb645f39767
    Podcasting, thanks to bingeldac (Grant Schofield).  This also reverts the previous two patches--it's possible that migrations are broken, but that's better then everything else being broken.  There are a few things that I'd like to change here, but by and large it works.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@752 820eb932-12ee-0310-9ca8-eeb645f39767
    RSS/Atom updates.  Closes #497
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@710 820eb932-12ee-0310-9ca8-eeb645f39767
    Add basic CSS for RSS feeds, in an attempt to make them less scary
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@635 820eb932-12ee-0310-9ca8-eeb645f39767
    Unify Atom and RSS feed logic.  Add Atom 1.0.  Add per-category and per-tag feeds.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@601 820eb932-12ee-0310-9ca8-eeb645f39767
    Mark up strings so that it works for translations.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    add information when comment failed to create by Ajax. Refactor some spec
    Fixes a bad clear: left in Typographic\n
    Fixes comments cache issues (Ticket 1218)\n
    Adds a control on comment.save (Ticket 1207)\n
    Adds the forgotten spinner to Typographic
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1744 820eb932-12ee-0310-9ca8-eeb645f39767
    Added view partials and helpers from bootstrap into main area
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Install the Haml plugin
    Convert Azure's default layout to Haml
    Convert all the Articles views to Haml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1349 820eb932-12ee-0310-9ca8-eeb645f39767
    * The Content model no longer knows anything about the cache.
    * Reprecated the html helper
    * Implemented the 'html' helper in MailHelper. It turns out that
      ActionMailer doesn't do fragment caching, so in order to keep a
      consistent interface for accessing article html, we've implemented
      a version that doesn't attempt to do caching.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1265 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Sing, muse the joy of pdcawley as he puts the monstrosity {{{article_url}}} and
    all its spawn to his sure swift sword and casts the tiny pieces down, down,
    ye even unto the very depths of The Pit.
    
    Bear witness as {{{Content#full_html}}} returns to the fray, trailing clouds of
    glory, renewing the vigour of old themes left withering in the TypoGarden.
    
    For, verily, I have returned the sensible API to its rightful place.
    
    (Oh, and if you ''must'' use them, {{{article_url}}} et al. will continue to work
    for the forseeable future, but I will insist on treating them like red headed
    stepchildren.)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1004 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved body_html and friends from push to pull.  See http://scottstuff.net/blog/articles/2005/09/04/push-me-pull-me
    for details.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@622 820eb932-12ee-0310-9ca8-eeb645f39767
    Add static pages.  Also fixes a caching bug (the new PageCache was broken due to :name/:page_name mix).  (closes #181)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@391 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Article trackback inbound and outbound should be fully working now.
    Category trackback coming soon.
    Some small code cleanups.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@83 820eb932-12ee-0310-9ca8-eeb645f39767
    Big additions again
    Another big commit.
    
    Additions:
      Trackbacks fully integrated.
      Per article decision to allow trackbacks and comments.
      "transforms" library added for text transforming methods. (
      Google's nofollow fully supported where necessary.
    
    Changes:
      Cleaned up some duplicated code.
      New trackbacks cause the sweeper to go into effect.
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@46 820eb932-12ee-0310-9ca8-eeb645f39767
    Added:
      Support for inbound trackbacks (very little testing) (http://someserver.com/trackback/ping/1)
      Support for the Moveable Type API - seems to work well.
      Support for RSD - autodiscovering of the xmlrpc uri
                      - aka "Autofill" in MarsEdit
                      - I'm not sure what should be returned for Movetype API support though
                        - Maybe MarsEdit just doesn't support it through RSD.
      Added a "Powered by Typo" link to the bottom of the articles.rthml template.
      RSS feed now has support for autodiscovery of trackback url's.
    
    Fixes:
      If a post isn't assigned to any categories, it won't choke now.
      Categories that an article is posted in are now displayed with the article.
    
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@39 820eb932-12ee-0310-9ca8-eeb645f39767
    Extract Atom feed header into a partial.
    Render correct id for items in article feedback Atom feed.
    Give article feedback Atom feed its own template.
    Give articles index Atom feed its own template.
    
    I want to give each feed its own template, and remove the to_atom and
    to_rss methods from the models.
    Show current typo version number in atom feed.
    Make atom and rss feed builders shared partials.
    Use :locals option with render :partial for collections.
    
    Passing a collection to the :object option now results in each member being
    passed. Use :locals instead to pass the actual collection. Changes to the
    feed partials were also needed to make this work.
    Typo is at version 5.x now.
    Applied part of the patch in #1199. Slaingod++
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1628 820eb932-12ee-0310-9ca8-eeb645f39767
    Rest of patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1554 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweaking some renamings
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1553 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    More smallish refactorings. Just easing my way back
    into the code.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1508 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    Added view partials and helpers from bootstrap into main area
    Remove duplicate comment_list partials.
    Move comment partial under comments/.
    
    This allows us to simplify rendering comment collections. For backward
    compatibility of older themes, articles/comment renders comments/comment.
    Make all theme text translatable.
    Simplify render in views: themes and articles.
    Upgrading to Rails 3.0.7.
    
    Some specs are still failing. 2 new, Active Record related and 2 old.
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Some tweaks to commenting. And some tweaks to scribbish to make it play nicely with
    commenting.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1394 820eb932-12ee-0310-9ca8-eeb645f39767
    Replace remaining calls to gravatar_tag.
    Remove use of simple_format
    This reverts commits a137b958daf8f791e0bd63932dcdb78ef05d3b7b and
    10cff9dbaa740a1505697f1c8a32565aa83d8435
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Adds simple_format to comments and posts output. Changes \n to <br /> and \n\n to </p>
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Localized the articles view + French translation w00t
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1381 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Install the Haml plugin
    Convert Azure's default layout to Haml
    Convert all the Articles views to Haml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1349 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Sing, muse the joy of pdcawley as he puts the monstrosity {{{article_url}}} and
    all its spawn to his sure swift sword and casts the tiny pieces down, down,
    ye even unto the very depths of The Pit.
    
    Bear witness as {{{Content#full_html}}} returns to the fray, trailing clouds of
    glory, renewing the vigour of old themes left withering in the TypoGarden.
    
    For, verily, I have returned the sensible API to its rightful place.
    
    (Oh, and if you ''must'' use them, {{{article_url}}} et al. will continue to work
    for the forseeable future, but I will insist on treating them like red headed
    stepchildren.)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1004 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Properly escape article titles and comment preview author name. Fixes #620
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@846 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved body_html and friends from push to pull.  See http://scottstuff.net/blog/articles/2005/09/04/push-me-pull-me
    for details.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@622 820eb932-12ee-0310-9ca8-eeb645f39767
    Added comment submission live preview using new filter architecture (closes #331) [anonymous]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@567 820eb932-12ee-0310-9ca8-eeb645f39767
    delete live controller with move live search in article controller. Fix some live search issue
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Commit patch #656 - escape article.title everywhere it's used. Submitted by <ianburrell@gmail.com>
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@849 820eb932-12ee-0310-9ca8-eeb645f39767
    Move observe_field for live search into partial, from atmos.  (closes #291)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@532 820eb932-12ee-0310-9ca8-eeb645f39767
     * Use Element.hide() and Element.show() instead of Toggle.display() for search spinner
     * Render &nbsp; instead of nothing if there's no search query to work around an apparent prototype bug causing the 'complete' event handler never to be called
    
     closes #149
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@328 820eb932-12ee-0310-9ca8-eeb645f39767
    The html output from live search is now displayed as a list instead of br's.
    The syndication discovery links now using rails provided helpers.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@195 820eb932-12ee-0310-9ca8-eeb645f39767
    Small fixes for live search.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@125 820eb932-12ee-0310-9ca8-eeb645f39767
    live search links used old style
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@111 820eb932-12ee-0310-9ca8-eeb645f39767
    finetuning
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@100 820eb932-12ee-0310-9ca8-eeb645f39767
    converted live search to prototype library
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@99 820eb932-12ee-0310-9ca8-eeb645f39767
    removed config/config.yml, on first request you will be redirected to settings/install to enter the values. This page is currently not protected, need to come up with something
    before next release.
    Added categories to the right hand side
    Fixed the ordering of articles in the categories filtered view
    Added a config manager
    Adjusted html of live preview
    Created settings table
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@93 820eb932-12ee-0310-9ca8-eeb645f39767
    Initial workings of live search.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@73 820eb932-12ee-0310-9ca8-eeb645f39767
    Added view partials and helpers from bootstrap into main area
    Fixes a bug when displaying a protected article within a category
    Factor password-protected article view logic into partials.
    Simplify render in views: themes and articles.
    Removes old js_distance_of_time_to_now which becomes a plugin. To avoid breaking everything the old method is kept and calls the new one.
    Makes all themes support the new way of displaying date and time.
    Makes the new way of displaying date and time "xxx ago" aware.
    Fixes some nasty bugs with password protection. I need to add tests in the views
    Reverting an aspect of pssword protected posts: if we don't hide the protected posts to logged in users, the supposely hidden post will be cached...
    Adding password protected posts. Things are done 100% AJAX because of the static cache. Logged in users are considered as being able to see a protected post. Protected posts content is removed from RSS feed. Need to add some specs, it's curious to see that they didn't break
    Fixed: "Read more" link apearing next to "Continue reading". Now only "Continue reading" is used.
    Just realized that _all_ our themes were borked because of untested constant read controller and action renaming. How was it possible for so loooong?
    Fixes a behaviour with read more link being displayed even when extended content is void. Closes ticket #134
    Fixes excerpt behavior (ticket 65)
    
    Expected behavior:
    
    if we are on the main index or browsing a category or a tag
      if we have an excerpt
        show the excerpt
      else
        show article body
        if we have an extended part
          show link to extended
        end
      end
    else we're browsing an article
      show article body
      if we have an extended part
        show extended
      end
    end
    Remove use of simple_format
    This reverts commits a137b958daf8f791e0bd63932dcdb78ef05d3b7b and
    10cff9dbaa740a1505697f1c8a32565aa83d8435
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Adds simple_format to comments and posts output. Changes \n to <br /> and \n\n to </p>
    Adds simple_format to comments and posts output. Changes \n to <br /> and \n\n to </p>
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Localized the articles view + French translation w00t
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1381 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Install the Haml plugin
    Convert Azure's default layout to Haml
    Convert all the Articles views to Haml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1349 820eb932-12ee-0310-9ca8-eeb645f39767
    * The Content model no longer knows anything about the cache.
    * Reprecated the html helper
    * Implemented the 'html' helper in MailHelper. It turns out that
      ActionMailer doesn't do fragment caching, so in order to keep a
      consistent interface for accessing article html, we've implemented
      a version that doesn't attempt to do caching.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1265 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Okay, this is the big, scary patch.
    
    Content is now using a state object to handle transitions between
    'new', 'draft', 'just_published', 'published' and 'publication_pending'
    states. The interesting states in that lot are:
    
      * just_published -- this is a transient state, nothing gets fetched
        from the object store in this state. content is marked as just
        published so that various things that should only happen when an
        article is just published (notifications, pings, etc) only happen
        once.
    
      * publication_pending -- this is when content is due to be published
        in the future. It generally means there's a trigger hanging about
        in the triggers table waiting to publish the article.
    
    At the moment the publication state isn't stored in the database, but derived
    from the 'published' flag and the 'published_at' field. I think we can
    survive like this for a while, but we may end up getting rid of the 'published'
    flag and replacing it with a publication_state field holding a simple
    memento that we can use to reconstruct the state object. (We can't just
    use slaird's {{{acts_as_state}}} plugin because that doesn't appear
    to use 'real' state objects that we can hang behaviour off, and I've
    switched us to using the state pattern precisely so I can hang behaviour
    off the states -- check out {{{ContentState::JustPublished}}} for an
    example of the kind of thing the state pattern lets you do.)
    
    Also, I've switched all the views I could find over to using
    {{{published_at}}} rather than {{{created_at}}}; if you're a theme author
    you might like to do the same.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1047 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied #840
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1031 820eb932-12ee-0310-9ca8-eeb645f39767
    Sing, muse the joy of pdcawley as he puts the monstrosity {{{article_url}}} and
    all its spawn to his sure swift sword and casts the tiny pieces down, down,
    ye even unto the very depths of The Pit.
    
    Bear witness as {{{Content#full_html}}} returns to the fray, trailing clouds of
    glory, renewing the vigour of old themes left withering in the TypoGarden.
    
    For, verily, I have returned the sensible API to its rightful place.
    
    (Oh, and if you ''must'' use them, {{{article_url}}} et al. will continue to work
    for the forseeable future, but I will insist on treating them like red headed
    stepchildren.)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1004 820eb932-12ee-0310-9ca8-eeb645f39767
    Properly escape article titles and comment preview author name. Fixes #620
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@846 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved body_html and friends from push to pull.  See http://scottstuff.net/blog/articles/2005/09/04/push-me-pull-me
    for details.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@622 820eb932-12ee-0310-9ca8-eeb645f39767
    Clean up author name/email link code.  Abstract into ArticlesHelper.author_link.  Closes #228
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@459 820eb932-12ee-0310-9ca8-eeb645f39767
    Provide an optional mailto: link on article author names. (closes #156)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@354 820eb932-12ee-0310-9ca8-eeb645f39767
    applied static pages updates by Damien Pollet closes #127
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@343 820eb932-12ee-0310-9ca8-eeb645f39767
    typo is now full static. The entire front end comes from static pages which are swept on commenting, trackbacks, new article posts and category changes.
    This means we cannot do the "posted 25 minutes ago" business but we can easily serve in excess of 1k pages per second so this should be worth it.
    
    closes #127, #21
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@337 820eb932-12ee-0310-9ca8-eeb645f39767
    added extended entries support and fixed search (kevin@sb.org) closes #44, #129
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@300 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed broken redirect after install
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@275 820eb932-12ee-0310-9ca8-eeb645f39767
    * Per article comment rss (closes #138)
    * Functional unit tests for xml_controller
    * Move to 0.13 cache sweeper
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@273 820eb932-12ee-0310-9ca8-eeb645f39767
    Added proper entity quoting to dc:title in article partial (fixes #88 - again)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@262 820eb932-12ee-0310-9ca8-eeb645f39767
    Added proper entity quoting to dc:description excerpt in article partial (fixes #88)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@261 820eb932-12ee-0310-9ca8-eeb645f39767
    Integrated Azure design.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@247 820eb932-12ee-0310-9ca8-eeb645f39767
    finished perma links
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@103 820eb932-12ee-0310-9ca8-eeb645f39767
    added perma urls like /articles/2005/03/22/what-the-hell but also /articles/2005/02 to see all february posts and such
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@102 820eb932-12ee-0310-9ca8-eeb645f39767
    Closed ticket #1.  Small layout fix.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@65 820eb932-12ee-0310-9ca8-eeb645f39767
    Lots of small template cleanup (tabs changed to spaces.. etc)
    
    Fixed: Removed the dangling </p> causing xhtml validation to fail.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@61 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed inline RDF output to point to correct trackback link.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@54 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the description field to the inline rdf.
    Moved server_url_for to application_helper
    Added strip_html to application_helper
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@40 820eb932-12ee-0310-9ca8-eeb645f39767
    Added:
      Support for inbound trackbacks (very little testing) (http://someserver.com/trackback/ping/1)
      Support for the Moveable Type API - seems to work well.
      Support for RSD - autodiscovering of the xmlrpc uri
                      - aka "Autofill" in MarsEdit
                      - I'm not sure what should be returned for Movetype API support though
                        - Maybe MarsEdit just doesn't support it through RSD.
      Added a "Powered by Typo" link to the bottom of the articles.rthml template.
      RSS feed now has support for autodiscovery of trackback url's.
    
    Fixes:
      If a post isn't assigned to any categories, it won't choke now.
      Categories that an article is posted in are now displayed with the article.
    
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@39 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed some links
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@32 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed some links
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@31 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Install the Haml plugin
    Convert Azure's default layout to Haml
    Convert all the Articles views to Haml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1349 820eb932-12ee-0310-9ca8-eeb645f39767
    Lots of small template cleanup (tabs changed to spaces.. etc)
    
    Fixed: Removed the dangling </p> causing xhtml validation to fail.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@61 820eb932-12ee-0310-9ca8-eeb645f39767
    improved search and added public exception handling
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@16 820eb932-12ee-0310-9ca8-eeb645f39767
    Added view partials and helpers from bootstrap into main area
    Move themeless comment_box partial to comment_form.
    
    All themes use comment_form, so make things consistent.
    Remove duplicate comment_list partials.
    Move comment partial under comments/.
    
    This allows us to simplify rendering comment collections. For backward
    compatibility of older themes, articles/comment renders comments/comment.
    Simplify render in views: themes and articles.
    Fixes some nasty bugs with password protection. I need to add tests in the views
    Added article preview, not the cleanest way, but at least it works
    Mark up strings so that it works for translations.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    fix some spec
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed a few broken links. Thanks to sprewell for the spot.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1471 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    Localized the articles view + French translation w00t
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1381 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Install the Haml plugin
    Convert Azure's default layout to Haml
    Convert all the Articles views to Haml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1349 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    * The Content model no longer knows anything about the cache.
    * Reprecated the html helper
    * Implemented the 'html' helper in MailHelper. It turns out that
      ActionMailer doesn't do fragment caching, so in order to keep a
      consistent interface for accessing article html, we've implemented
      a version that doesn't attempt to do caching.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1265 820eb932-12ee-0310-9ca8-eeb645f39767
    Made views respect the published/unpublished state of any feedback
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1249 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Ditch comment counters.  Closes #1030.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1176 820eb932-12ee-0310-9ca8-eeb645f39767
    Hide comment form for old articles.  Closes #954
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1140 820eb932-12ee-0310-9ca8-eeb645f39767
    Okay, this is the big, scary patch.
    
    Content is now using a state object to handle transitions between
    'new', 'draft', 'just_published', 'published' and 'publication_pending'
    states. The interesting states in that lot are:
    
      * just_published -- this is a transient state, nothing gets fetched
        from the object store in this state. content is marked as just
        published so that various things that should only happen when an
        article is just published (notifications, pings, etc) only happen
        once.
    
      * publication_pending -- this is when content is due to be published
        in the future. It generally means there's a trigger hanging about
        in the triggers table waiting to publish the article.
    
    At the moment the publication state isn't stored in the database, but derived
    from the 'published' flag and the 'published_at' field. I think we can
    survive like this for a while, but we may end up getting rid of the 'published'
    flag and replacing it with a publication_state field holding a simple
    memento that we can use to reconstruct the state object. (We can't just
    use slaird's {{{acts_as_state}}} plugin because that doesn't appear
    to use 'real' state objects that we can hang behaviour off, and I've
    switched us to using the state pattern precisely so I can hang behaviour
    off the states -- check out {{{ContentState::JustPublished}}} for an
    example of the kind of thing the state pattern lets you do.)
    
    Also, I've switched all the views I could find over to using
    {{{published_at}}} rather than {{{created_at}}}; if you're a theme author
    you might like to do the same.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1047 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix #809 - remove trackback references in RSS2.0 and RDF when trackbacks are disabled
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1026 820eb932-12ee-0310-9ca8-eeb645f39767
    Sing, muse the joy of pdcawley as he puts the monstrosity {{{article_url}}} and
    all its spawn to his sure swift sword and casts the tiny pieces down, down,
    ye even unto the very depths of The Pit.
    
    Bear witness as {{{Content#full_html}}} returns to the fray, trailing clouds of
    glory, renewing the vigour of old themes left withering in the TypoGarden.
    
    For, verily, I have returned the sensible API to its rightful place.
    
    (Oh, and if you ''must'' use them, {{{article_url}}} et al. will continue to work
    for the forseeable future, but I will insist on treating them like red headed
    stepchildren.)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1004 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes #755
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@978 820eb932-12ee-0310-9ca8-eeb645f39767
    Integrated patch 526
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@872 820eb932-12ee-0310-9ca8-eeb645f39767
    Properly escape article titles and comment preview author name. Fixes #620
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@846 820eb932-12ee-0310-9ca8-eeb645f39767
    Use published? for trackbacks and comments.  This is the first step towards support for moderation.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@755 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved body_html and friends from push to pull.  See http://scottstuff.net/blog/articles/2005/09/04/push-me-pull-me
    for details.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@622 820eb932-12ee-0310-9ca8-eeb645f39767
    Unify Atom and RSS feed logic.  Add Atom 1.0.  Add per-category and per-tag feeds.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@601 820eb932-12ee-0310-9ca8-eeb645f39767
    XHTML compliance commit:
     * Removed non-existant alt="" attribute on delcious sidebar title link
     * Don't display the trackback <ol> if there are no trackbacks to display
     * Render a hidden dummy <li> in the comments <ol> if there are no comments to display. This element is being removed dynamically if a comment is submitted via ajax.
    
    Closes #177
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@583 820eb932-12ee-0310-9ca8-eeb645f39767
    Add article_tags to the bottom of read.rhtml.  closes #333
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@545 820eb932-12ee-0310-9ca8-eeb645f39767
    Change the semantics of allow_comments slightly.  Previously, disabling comments kept Typo
    from displaying any comments at all.  Now, disabling comments only stops new comments from
    being added; old comments are still displayed.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@483 820eb932-12ee-0310-9ca8-eeb645f39767
    Clean up author name/email link code.  Abstract into ArticlesHelper.author_link.  Closes #228
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@459 820eb932-12ee-0310-9ca8-eeb645f39767
    Provide an optional mailto: link on article author names. (closes #156)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@354 820eb932-12ee-0310-9ca8-eeb645f39767
    Javascript error fixed and removal of vestigial "on" from template.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@346 820eb932-12ee-0310-9ca8-eeb645f39767
    Frontpage now decides weather to display admin links based on a cookie, comment form is prefilled from cookies by JS (Damien Pollet) closes #164, #165
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@344 820eb932-12ee-0310-9ca8-eeb645f39767
    applied static pages updates by Damien Pollet closes #127
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@343 820eb932-12ee-0310-9ca8-eeb645f39767
    backed out of timezone stuff compleatly. Ignorance is bliss.
    
    That shit is hard.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@341 820eb932-12ee-0310-9ca8-eeb645f39767
    typo is now full static. The entire front end comes from static pages which are swept on commenting, trackbacks, new article posts and category changes.
    This means we cannot do the "posted 25 minutes ago" business but we can easily serve in excess of 1k pages per second so this should be worth it.
    
    closes #127, #21
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@337 820eb932-12ee-0310-9ca8-eeb645f39767
    fixes for the email form field.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@319 820eb932-12ee-0310-9ca8-eeb645f39767
     * Nudged the nuke buttons for comments and trackbacks to the right
     * Added hovering to present admin links
     * Present a hovered admin edit link for articles in public
     (closes #141)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@311 820eb932-12ee-0310-9ca8-eeb645f39767
     * Replace two or more consequtive dashes in rdf:Description by a single dash (fixes #88) [ravenlock@true-evil.net]
     * Replace two or more consequtive dashes in rdf:Description by a single dash (fixes #88) [ravenlock@true-evil.net]
     * Replace (Article instance).has_extended? by extended? making functional tests pass again
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@302 820eb932-12ee-0310-9ca8-eeb645f39767
    added extended entries support and fixed search (kevin@sb.org) closes #44, #129
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@300 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed comments posting javascript and restructured things a bit. fixes #139
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@282 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed broken redirect after install
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@275 820eb932-12ee-0310-9ca8-eeb645f39767
    * Per article comment rss (closes #138)
    * Functional unit tests for xml_controller
    * Move to 0.13 cache sweeper
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@273 820eb932-12ee-0310-9ca8-eeb645f39767
     * In-memory sorting of trackbacks and comments for ArticleController#read since eager loading skips over the order clause added in the has_many declaration (fixes #100)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@269 820eb932-12ee-0310-9ca8-eeb645f39767
    Cosmetic code change to the comments list.  I opted for the Javascript fix which doesn't require bad indentation.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@265 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed #95 and #87
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@264 820eb932-12ee-0310-9ca8-eeb645f39767
    Integrated Azure design.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@247 820eb932-12ee-0310-9ca8-eeb645f39767
    Use Effect.show instead of Effect.Appear for comment_loading div since the latter caused the spinner to keep spinning even after the comment was submitted
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@244 820eb932-12ee-0310-9ca8-eeb645f39767
    * changed the way the comment box works yet again
    * made test cases work
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@222 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed the flicker when posting large comments, thanks to madrobby
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@214 820eb932-12ee-0310-9ca8-eeb645f39767
    fixes #40
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@212 820eb932-12ee-0310-9ca8-eeb645f39767
    Comments form ajax'd up a little more.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@211 820eb932-12ee-0310-9ca8-eeb645f39767
    switched the default effect for blog posts to "appear"
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@206 820eb932-12ee-0310-9ca8-eeb645f39767
     * Merged spamprot branch containing DNSRBL blocking, URL count limit, old article auto-close (refs #25)
       MISSING: Moderation options instead of flat out blocking, bayes based blocking, web-interface for blacklist items, auto-close indication
     * Minor fixes from spamprot branch:
       * No more escaping of article titles in articles/_read.rhtml
       * Proper sorting for delicious partial
       * Better semantics for sidebar boxes
    
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@178 820eb932-12ee-0310-9ca8-eeb645f39767
     * Switched ID of ordered list holding the comments from 'comments' to 'commentList'. The former seems to trigger a bug in the IE6/Win DOM which made Ajax commenting not work on that particular browser
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@133 820eb932-12ee-0310-9ca8-eeb645f39767
    improved comment form
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@101 820eb932-12ee-0310-9ca8-eeb645f39767
    converted live search to prototype library
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@99 820eb932-12ee-0310-9ca8-eeb645f39767
    switched commenting to ajax. ob boy is that cool
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@98 820eb932-12ee-0310-9ca8-eeb645f39767
    Lots of small template cleanup (tabs changed to spaces.. etc)
    
    Fixed: Removed the dangling </p> causing xhtml validation to fail.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@61 820eb932-12ee-0310-9ca8-eeb645f39767
    Corrected label
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@48 820eb932-12ee-0310-9ca8-eeb645f39767
    Big additions again
    Another big commit.
    
    Additions:
      Trackbacks fully integrated.
      Per article decision to allow trackbacks and comments.
      "transforms" library added for text transforming methods. (
      Google's nofollow fully supported where necessary.
    
    Changes:
      Cleaned up some duplicated code.
      New trackbacks cause the sweeper to go into effect.
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@46 820eb932-12ee-0310-9ca8-eeb645f39767
    Corrected trackback links.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@45 820eb932-12ee-0310-9ca8-eeb645f39767
    mainly rhtml changes, switched production server and development environment to mysql
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@41 820eb932-12ee-0310-9ca8-eeb645f39767
    added caching
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@18 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed rss feed (duh) and improved a page
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@15 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@9 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverted to old articles/search.html.erb
    Added view partials and helpers from bootstrap into main area
    Replacing old will_paginate with scope based Kaminari.
    Fixed will_paginate ussage to use translations.
    Fix invalid p>div nesting.
    generate html with textfilter in search result
    Oops, I forgot to add the new template...
    Factor password-protected article view logic into partials.
    Factor password-protected article view logic into partials.
    Use a partial to render each article entry in tha articles Atom feed.
    Extract Atom feed header into a partial.
    Give articles index Atom feed its own template.
    
    I want to give each feed its own template, and remove the to_atom and
    to_rss methods from the models.
    Show current typo version number in atom feed.
    Make atom and rss feed builders shared partials.
    Use :locals option with render :partial for collections.
    
    Passing a collection to the :object option now results in each member being
    passed. Use :locals instead to pass the actual collection. Changes to the
    feed partials were also needed to make this work.
    Typo is at version 5.x now.
    Applied part of the patch in #1199. Slaingod++
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1628 820eb932-12ee-0310-9ca8-eeb645f39767
    Rest of patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1554 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweaking some renamings
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1553 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    More smallish refactorings. Just easing my way back
    into the code.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1508 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    Migrating setup
    Remove trailing whitespace.
    Moving login, password recovery and setup to a vertical and horizontal grid system
    Adding setup a better error handling, giving an empty email or blog name would lead to some strange behavior
    Getting read of deprecated ERB calls
    Adds a better setup, some things may need some refactoring (like moving generated password in the model, but can't make it without having specs failing)
    Adding a setup to typo blog. Will redirect user to the editor after first account creation
    Simplify render in views: other non-admin templates.
    Adds a better setup, some things may need some refactoring (like moving generated password in the model, but can't make it without having specs failing)
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Give themes the ability to override views.  (closes #354)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@578 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Simplify render in views: other non-admin templates.
    Adds login / password email at user's creation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1723 820eb932-12ee-0310-9ca8-eeb645f39767
    Tests passing. Rails 2.0.2 required. I think we may be good to go for 5.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1602 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    * The Content model no longer knows anything about the cache.
    * Reprecated the html helper
    * Implemented the 'html' helper in MailHelper. It turns out that
      ActionMailer doesn't do fragment caching, so in order to keep a
      consistent interface for accessing article html, we've implemented
      a version that doesn't attempt to do caching.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1265 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Simplify render in views: other non-admin templates.
    Removes old js_distance_of_time_to_now which becomes a plugin. To avoid breaking everything the old method is kept and calls the new one.
    Makes all themes support the new way of displaying date and time.
    Makes the new way of displaying date and time "xxx ago" aware.
    Adds login / password email at user's creation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1723 820eb932-12ee-0310-9ca8-eeb645f39767
    Tests passing. Rails 2.0.2 required. I think we may be good to go for 5.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1602 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    * The Content model no longer knows anything about the cache.
    * Reprecated the html helper
    * Implemented the 'html' helper in MailHelper. It turns out that
      ActionMailer doesn't do fragment caching, so in order to keep a
      consistent interface for accessing article html, we've implemented
      a version that doesn't attempt to do caching.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1265 820eb932-12ee-0310-9ca8-eeb645f39767
    More 4.1 cleanups.  Complete move from serialized canonical_server_url to non-serialized base_url.
    Add a bunch of rdoc.  More deprecations and cleanups.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1242 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Eliminated the :controller/:action/:id default route, which works around
    the big nasty Rails Security Hole.
    
    It turns out we relied on it in all sorts of strange places. So I fixed that
    too.
    
    Expect a new Typo release real soon now.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1210 820eb932-12ee-0310-9ca8-eeb645f39767
    Okay, this is the big, scary patch.
    
    Content is now using a state object to handle transitions between
    'new', 'draft', 'just_published', 'published' and 'publication_pending'
    states. The interesting states in that lot are:
    
      * just_published -- this is a transient state, nothing gets fetched
        from the object store in this state. content is marked as just
        published so that various things that should only happen when an
        article is just published (notifications, pings, etc) only happen
        once.
    
      * publication_pending -- this is when content is due to be published
        in the future. It generally means there's a trigger hanging about
        in the triggers table waiting to publish the article.
    
    At the moment the publication state isn't stored in the database, but derived
    from the 'published' flag and the 'published_at' field. I think we can
    survive like this for a while, but we may end up getting rid of the 'published'
    flag and replacing it with a publication_state field holding a simple
    memento that we can use to reconstruct the state object. (We can't just
    use slaird's {{{acts_as_state}}} plugin because that doesn't appear
    to use 'real' state objects that we can hang behaviour off, and I've
    switched us to using the state pattern precisely so I can hang behaviour
    off the states -- check out {{{ContentState::JustPublished}}} for an
    example of the kind of thing the state pattern lets you do.)
    
    Also, I've switched all the views I could find over to using
    {{{published_at}}} rather than {{{created_at}}}; if you're a theme author
    you might like to do the same.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1047 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Commit patch #656 - escape article.title everywhere it's used. Submitted by <ianburrell@gmail.com>
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@849 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Simplify render in views: other non-admin templates.
    Fixes issue #152 Fix new user email grammar
    Fix grammar for new account notification.
    Fixing a bug preventing the initial account creation email to be sent. That. Sucks. Badly.
    Adds Wordpress and Dotclear converters, remove old obsolete converters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1724 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds login / password email at user's creation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1723 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    More 4.1 cleanups.  Complete move from serialized canonical_server_url to non-serialized base_url.
    Add a bunch of rdoc.  More deprecations and cleanups.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1242 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Eliminated the :controller/:action/:id default route, which works around
    the big nasty Rails Security Hole.
    
    It turns out we relied on it in all sorts of strange places. So I fixed that
    too.
    
    Expect a new Typo release real soon now.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1210 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes live search. I'll have to check why we didn't find that one before
    Getting read of deprecated ERB calls
    Added 'Live Search' translation and added according german and polish translations.
    Adding search helper back for backward compatibility
    Move the search in sidebar. No define in layout
    
    [#38 state:resolved]
    Replacing default live search with real search. Adding live search as a plugin instead
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug in user model
    Fixes ticket 560
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1580 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix live search.  Closes #467
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@704 820eb932-12ee-0310-9ca8-eeb645f39767
    Move observe_field for live search into partial, from atmos.  (closes #291)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@532 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed #95 and #87
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@264 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed absolute paths on live search and resolved #77.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@251 820eb932-12ee-0310-9ca8-eeb645f39767
    Integrated Azure design.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@247 820eb932-12ee-0310-9ca8-eeb645f39767
    Prototype library from rails 0.12.1.
    Spinner image added during live search.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@200 820eb932-12ee-0310-9ca8-eeb645f39767
    moved autocomplete="off" tag of the search out of the html. Its now being set by
    javascript from the typo.js. fixes #24
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@198 820eb932-12ee-0310-9ca8-eeb645f39767
    finetuning
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@100 820eb932-12ee-0310-9ca8-eeb645f39767
    doh, forgot the slash
    adjusting confirmation message to help avoid people losing password
    Migrating setup
    Moving login, password recovery and setup to a vertical and horizontal grid system
    Fixes account creation for unpriviledged users.
    
    When creating their account, unpriviledged users were redirected to admin/content/new, which made loop back to login and so on and so forth. This was made possible because unpriviledged users does not have content creation / edition permissions.
    Mass-removal of trailing whitespace.
    Adds a better setup, some things may need some refactoring (like moving generated password in the model, but can't make it without having specs failing)
    Adding a setup to typo blog. Will redirect user to the editor after first account creation
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Fixes signup with password not displaying anymore
    Fixes sprintf issues + complete french translation
    Adding a step to the registration process. Otherwise, some users won't get their password
    Extract atom trackback item template.
    Give comment index Atom and RSS feeds their own templates.
    Give trackbacks index RSS feed its own template.
    Give comment index Atom and RSS feeds their own templates.
    Extract atom trackback item template.
    Create RSS item partial for articles.
    Turns "Show extended on RSS" into "Hide extended on RSS".
    
    Asking user to opt in to display the whole post in the feed instead of hiding it is one of the most stupid behavior I've seen for a while and is the exact opposite of the software default's behavior.
    
    Included migration sets the new behavior accordingly to the blog default one.
    Tweaking some renamings
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1553 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    * The Content model no longer knows anything about the cache.
    * Reprecated the html helper
    * Implemented the 'html' helper in MailHelper. It turns out that
      ActionMailer doesn't do fragment caching, so in order to keep a
      consistent interface for accessing article html, we've implemented
      a version that doesn't attempt to do caching.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1265 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Okay, this is the big, scary patch.
    
    Content is now using a state object to handle transitions between
    'new', 'draft', 'just_published', 'published' and 'publication_pending'
    states. The interesting states in that lot are:
    
      * just_published -- this is a transient state, nothing gets fetched
        from the object store in this state. content is marked as just
        published so that various things that should only happen when an
        article is just published (notifications, pings, etc) only happen
        once.
    
      * publication_pending -- this is when content is due to be published
        in the future. It generally means there's a trigger hanging about
        in the triggers table waiting to publish the article.
    
    At the moment the publication state isn't stored in the database, but derived
    from the 'published' flag and the 'published_at' field. I think we can
    survive like this for a while, but we may end up getting rid of the 'published'
    flag and replacing it with a publication_state field holding a simple
    memento that we can use to reconstruct the state object. (We can't just
    use slaird's {{{acts_as_state}}} plugin because that doesn't appear
    to use 'real' state objects that we can hang behaviour off, and I've
    switched us to using the state pattern precisely so I can hang behaviour
    off the states -- check out {{{ContentState::JustPublished}}} for an
    example of the kind of thing the state pattern lets you do.)
    
    Also, I've switched all the views I could find over to using
    {{{published_at}}} rather than {{{created_at}}}; if you're a theme author
    you might like to do the same.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1047 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix #809 - remove trackback references in RSS2.0 and RDF when trackbacks are disabled
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1026 820eb932-12ee-0310-9ca8-eeb645f39767
    Sing, muse the joy of pdcawley as he puts the monstrosity {{{article_url}}} and
    all its spawn to his sure swift sword and casts the tiny pieces down, down,
    ye even unto the very depths of The Pit.
    
    Bear witness as {{{Content#full_html}}} returns to the fray, trailing clouds of
    glory, renewing the vigour of old themes left withering in the TypoGarden.
    
    For, verily, I have returned the sensible API to its rightful place.
    
    (Oh, and if you ''must'' use them, {{{article_url}}} et al. will continue to work
    for the forseeable future, but I will insist on treating them like red headed
    stepchildren.)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1004 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Clean up 2 conditionals
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@894 820eb932-12ee-0310-9ca8-eeb645f39767
    Tags now support the concept of a display name. This is to facility re-naming tags, an interface for which will be provided soon. Tag names are now canonicalized into a lowercase, space-stripped name so "Monty Python" and "montypython" will be the same tag. Please note that display name really should be a reformatted version of the original name - if you change the content, like using "Graham Chapman" for the tag "montypython" you can still get duplicate tag issues where a keyword "grahamchapman" will create a new tag since it will not match either "Graham Chapman" or "montypython".
    Please note that theme writers who override the tag sidebar display will have to modify their themes to use tag.display_name instead of tag.name.
    Also note that the migration was written to try and handle duplicate tags gracefully (currently you can have both "montypython" and "Monty Python" as separate tags but they will both end up as "montypython" after migration), by destroying the latter one and recreating the tag mappings for any affected articles. It was tested, but not extensively, so be careful - as always, back up your database before migrating.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@858 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix author email RSS visibility.  Closes #663
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@855 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix RSS 2.0 links.  Closes #498
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@711 820eb932-12ee-0310-9ca8-eeb645f39767
    RSS/Atom updates.  Closes #497
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@710 820eb932-12ee-0310-9ca8-eeb645f39767
    Add enclosure support for podcasting.  Thanks bingeldac.  Closes #463
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@694 820eb932-12ee-0310-9ca8-eeb645f39767
    Added author and tags to RSS feed
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@686 820eb932-12ee-0310-9ca8-eeb645f39767
    Switch RSS 2.0 feeds to using item.guid for GUIDs.  This will be user-visible, but it's better to do it now then wait.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@653 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved body_html and friends from push to pull.  See http://scottstuff.net/blog/articles/2005/09/04/push-me-pull-me
    for details.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@622 820eb932-12ee-0310-9ca8-eeb645f39767
    Unify Atom and RSS feed logic.  Add Atom 1.0.  Add per-category and per-tag feeds.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@601 820eb932-12ee-0310-9ca8-eeb645f39767
    Extract Atom feed header into a partial.
    Show RSS description in Atom feed article entry.
    Remove secret-leaking summary element from article Atom template.
    Hide extended content if the blog says so (again).
    Protect password-protected articles in Atom feed (again).
    Fix rendering of resources in article Atom partial.
    Use a partial to render each article entry in tha articles Atom feed.
    Give trackbacks index RSS feed its own template.
    Fixes display on account creation and login
    Make the login form slightly better. Sometimes it's just a matter of connceting the dots.
    Updates login, account creation and password recovery
    Moving login form to Bootstrap
    Remove trailing whitespace.
    Moving login, password recovery and setup to a vertical and horizontal grid system
    Adds missing create account link on login page.
    Fixes a typo in French translation making account confirmation crash.
    Fixes some style in error and information message on account creation / confirmation and login page.
    Fixes HTML escaping on login / recover password form
    Getting read of deprecated ERB calls
    Mass-removal of trailing whitespace.
    improving system message display
    Adds a better setup, some things may need some refactoring (like moving generated password in the model, but can't make it without having specs failing)
    Adding a recover password functionnality (better late than never huh ?
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Oooops
    Reviewing the login / subscribe form
    Rejiged login and signup forms.
    Added 'remember me' functinnality (at last)
    Cleaning images, fixing migration bugs, adding new logo
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1726 820eb932-12ee-0310-9ca8-eeb645f39767
    Re styled login, logout and signup forms
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1557 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Still some login form tweaking I forgot to add
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1532 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweaked the login / logout form
    Now login redirects to the content/list
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1531 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    corrected the login markup and added a 'back to the blog' link
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1372 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Standardize on flash[:notice]. Fixes #662
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@891 820eb932-12ee-0310-9ca8-eeb645f39767
    Admin login now has its own layout and doesn't show the admin tabs. This looks more secure.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@436 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge of of /branches/admin into mainline
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@361 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Simplify render in views: other non-admin templates.
    Adds a better setup, some things may need some refactoring (like moving generated password in the model, but can't make it without having specs failing)
    Adding a setup to typo blog. Will redirect user to the editor after first account creation
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Fixes signup with password not displaying anymore
    Fixes sprintf issues + complete french translation
    Adding a step to the registration process. Otherwise, some users won't get their password
    Updates login, account creation and password recovery
    Moving login, password recovery and setup to a vertical and horizontal grid system
    Adds missing create account link on login page.
    Fixes a typo in French translation making account confirmation crash.
    Fixes some style in error and information message on account creation / confirmation and login page.
    Fixes HTML escaping on login / recover password form
    Getting read of deprecated ERB calls
    Adds a better setup, some things may need some refactoring (like moving generated password in the model, but can't make it without having specs failing)
    Adding a recover password functionnality (better late than never huh ?
    Fixes display on account creation and login
    Updates login, account creation and password recovery
    Migrating sign up
    Getting read of deprecated ERB calls
    Adding a setup to typo blog. Will redirect user to the editor after first account creation
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Reviewing the login / subscribe form
    fix little error in for association
    Users creation simplification. Users have now their password generated, and display name is set as login
    Rejiged login and signup forms.
    Added 'remember me' functinnality (at last)
    Cleaning images, fixing migration bugs, adding new logo
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1726 820eb932-12ee-0310-9ca8-eeb645f39767
    Re styled login, logout and signup forms
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1557 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix #814 - missing </div> in signup.rhtml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1007 820eb932-12ee-0310-9ca8-eeb645f39767
    Admin login now has its own layout and doesn't show the admin tabs. This looks more secure.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@436 820eb932-12ee-0310-9ca8-eeb645f39767
    Add display name and email to signup page.  (closes #190)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@435 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Use the article partial in the authors Atom feed.
    Give Atom and RSS feeds for author articles their own templates.
    Extract Atom feed header into a partial.
    Give articles index Atom feed its own template.
    
    I want to give each feed its own template, and remove the to_atom and
    to_rss methods from the models.
    Show current typo version number in atom feed.
    Make atom and rss feed builders shared partials.
    Use :locals option with render :partial for collections.
    
    Passing a collection to the :object option now results in each member being
    passed. Use :locals instead to pass the actual collection. Changes to the
    feed partials were also needed to make this work.
    Typo is at version 5.x now.
    Applied part of the patch in #1199. Slaingod++
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1628 820eb932-12ee-0310-9ca8-eeb645f39767
    Rest of patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1554 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweaking some renamings
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1553 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    More smallish refactorings. Just easing my way back
    into the code.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1508 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    Use the RSS article partial in the authors rss feed.
    Give Atom and RSS feeds for author articles their own templates.
    Give articles index RSS feed its own template.
    Spec RSS feed view.
    Make atom and rss feed builders shared partials.
    Use :locals option with render :partial for collections.
    
    Passing a collection to the :object option now results in each member being
    passed. Use :locals instead to pass the actual collection. Changes to the
    feed partials were also needed to make this work.
    Add valid atom:link tag to RSS feed.
    RSS language code should conform to http://www.rssboard.org/rss-language-codes
    Fixes RSS feed bug #110
    fixed bug #1271 and add spec to test it
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1832 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweaking some renamings
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1553 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    More smallish refactorings. Just easing my way back
    into the code.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1508 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Clean up itunes RSS.  Closes #576
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@766 820eb932-12ee-0310-9ca8-eeb645f39767
    Podcasting, thanks to bingeldac (Grant Schofield).  This also reverts the previous two patches--it's possible that migrations are broken, but that's better then everything else being broken.  There are a few things that I'd like to change here, but by and large it works.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@752 820eb932-12ee-0310-9ca8-eeb645f39767
    RSS/Atom updates.  Closes #497
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@710 820eb932-12ee-0310-9ca8-eeb645f39767
    Add basic CSS for RSS feeds, in an attempt to make them less scary
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@635 820eb932-12ee-0310-9ca8-eeb645f39767
    Unify Atom and RSS feed logic.  Add Atom 1.0.  Add per-category and per-tag feeds.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@601 820eb932-12ee-0310-9ca8-eeb645f39767
    Fetch author's articles inside controller.
    Giving users a public profile. Elements to display are defined in the profile
    Adds customizable 404 pages with optionnal messages in the admin. Next: 500
    Give trackbacks index RSS feed its own template.
    Give articles index RSS feed its own template.
    Spec RSS feed view.
    Make atom and rss feed builders shared partials.
    Use :locals option with render :partial for collections.
    
    Passing a collection to the :object option now results in each member being
    passed. Use :locals instead to pass the actual collection. Changes to the
    feed partials were also needed to make this work.
    Add valid atom:link tag to RSS feed.
    RSS language code should conform to http://www.rssboard.org/rss-language-codes
    Fixes RSS feed bug #110
    fixed bug #1271 and add spec to test it
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1832 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweaking some renamings
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1553 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    More smallish refactorings. Just easing my way back
    into the code.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1508 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Clean up itunes RSS.  Closes #576
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@766 820eb932-12ee-0310-9ca8-eeb645f39767
    Podcasting, thanks to bingeldac (Grant Schofield).  This also reverts the previous two patches--it's possible that migrations are broken, but that's better then everything else being broken.  There are a few things that I'd like to change here, but by and large it works.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@752 820eb932-12ee-0310-9ca8-eeb645f39767
    RSS/Atom updates.  Closes #497
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@710 820eb932-12ee-0310-9ca8-eeb645f39767
    Add basic CSS for RSS feeds, in an attempt to make them less scary
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@635 820eb932-12ee-0310-9ca8-eeb645f39767
    Unify Atom and RSS feed logic.  Add Atom 1.0.  Add per-category and per-tag feeds.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@601 820eb932-12ee-0310-9ca8-eeb645f39767
    add trackback xml builder to return error
    Extract Atom feed header into a partial.
    Extract atom trackback item template.
    Give trackbacks index Atom feed its own template.
    Added view partials and helpers from bootstrap into main area
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Added view partials and helpers from bootstrap into main area
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Replacing old will_paginate with scope based Kaminari.
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Getting read of deprecated ERB calls
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Replace two instances of @flash with flash
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1314 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Standardize on flash[:notice]. Fixes #662
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@891 820eb932-12ee-0310-9ca8-eeb645f39767
    removed config/config.yml, on first request you will be redirected to settings/install to enter the values. This page is currently not protected, need to come up with something
    before next release.
    Added categories to the right hand side
    Fixed the ordering of articles in the categories filtered view
    Added a config manager
    Adjusted html of live preview
    Created settings table
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@93 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Replace two instances of @flash with flash
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1314 820eb932-12ee-0310-9ca8-eeb645f39767
    Standardize on flash[:notice]. Fixes #662
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@891 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix for ticket #30
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@140 820eb932-12ee-0310-9ca8-eeb645f39767
    Simplify render in views: other non-admin templates.
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    I continue to pick away at the Sidebar system. In this patch we:
    
      * Pull Sidebars::Plugin out into lib
      * Add a Sidebars::!ComponentPlugin which all component based sidebars
        inherit from (not that there are any other sorts of sidebar yet. Bear
        with me
      * Pulled !SidebarController out of components and into app/controllers
      * Lay groundwork for eliminating {{{staged_position}}} from the Sidebar
        model
    
    We've also got the beginnings of a sidebar preview here, /sidebar will
    show you a dummy article with a sidebar -- eventually this should work
    to show you a preview of the staged sidebar configuration.
    
    Coming up, a way of calling actions other than 'configure' and 'content'
    on your sidebars -- a necessity for advanced navigation tools for
    instance.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1002 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Welcome, one and all, to the new style sidebar API.
    
    Nope, there's no documentation yet (but see the poorly titled
    http://www.bofh.org.uk/2006/04/16/write-your-own-typo-sidebar for an
    overview of what's new).
    
    The big change is the addition of a bunch of classmethods to the Sidebars::Plugin
    superclass. The new methods are :setting, :display_name and :description.
    
    We already had :display_name and :description, but the new version take an optional
    argument and work as declarators as well. Also, :display_name does a good job of
    guessing the right display name in many cases.
    
    With the addition of these classmethods, we get to DRY up all those gruesome
    boilerplated configure.rhtml files since 'setting' provides enough information
    for them to be autogenerated.
    
    Oh, and this change is backwards compatible. You don't have to use the new
    class methods, but you're daft if you don't. You'll still have to get rid of the
    explict form_tag and observe_form bits of really old configure.rhtml files, but
    I can't make us that backward compatible because the old way broke browsers.
    
    If you want to see pretty much all the ways :setting can work, check out
    !XmlController and !FlickrController, which pretty much cover the waterfront.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1022 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    I continue to pick away at the Sidebar system. In this patch we:
    
      * Pull Sidebars::Plugin out into lib
      * Add a Sidebars::!ComponentPlugin which all component based sidebars
        inherit from (not that there are any other sorts of sidebar yet. Bear
        with me
      * Pulled !SidebarController out of components and into app/controllers
      * Lay groundwork for eliminating {{{staged_position}}} from the Sidebar
        model
    
    We've also got the beginnings of a sidebar preview here, /sidebar will
    show you a dummy article with a sidebar -- eventually this should work
    to show you a preview of the staged sidebar configuration.
    
    Coming up, a way of calling actions other than 'configure' and 'content'
    on your sidebars -- a necessity for advanced navigation tools for
    instance.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1002 820eb932-12ee-0310-9ca8-eeb645f39767
    Simplify render in views: other non-admin templates.
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    I continue to pick away at the Sidebar system. In this patch we:
    
      * Pull Sidebars::Plugin out into lib
      * Add a Sidebars::!ComponentPlugin which all component based sidebars
        inherit from (not that there are any other sorts of sidebar yet. Bear
        with me
      * Pulled !SidebarController out of components and into app/controllers
      * Lay groundwork for eliminating {{{staged_position}}} from the Sidebar
        model
    
    We've also got the beginnings of a sidebar preview here, /sidebar will
    show you a dummy article with a sidebar -- eventually this should work
    to show you a preview of the staged sidebar configuration.
    
    Coming up, a way of calling actions other than 'configure' and 'content'
    on your sidebars -- a necessity for advanced navigation tools for
    instance.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1002 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweaking some renamings
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1553 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    close ticket 1085
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1363 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Add the *rest* of the sitemap.xml support.  Closed #981
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1099 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweaking some renamings
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1553 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    close ticket 1085
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1363 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Add the *rest* of the sitemap.xml support.  Closed #981
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1099 820eb932-12ee-0310-9ca8-eeb645f39767
    A bit of rearrangement in views/xml
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1555 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix the rsd.xml file to use full URLs in the apiLink parameter
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1294 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix all relevant references from typo.leetsoft.com to www.typosphere.org. Fixes #720
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@879 820eb932-12ee-0310-9ca8-eeb645f39767
    The html output from live search is now displayed as a list instead of br's.
    The syndication discovery links now using rails provided helpers.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@195 820eb932-12ee-0310-9ca8-eeb645f39767
    Article trackback inbound and outbound should be fully working now.
    Category trackback coming soon.
    Some small code cleanups.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@83 820eb932-12ee-0310-9ca8-eeb645f39767
    Added:
      Support for inbound trackbacks (very little testing) (http://someserver.com/trackback/ping/1)
      Support for the Moveable Type API - seems to work well.
      Support for RSD - autodiscovering of the xmlrpc uri
                      - aka "Autofill" in MarsEdit
                      - I'm not sure what should be returned for Movetype API support though
                        - Maybe MarsEdit just doesn't support it through RSD.
      Added a "Powered by Typo" link to the bottom of the articles.rthml template.
      RSS feed now has support for autodiscovery of trackback url's.
    
    Fixes:
      If a post isn't assigned to any categories, it won't choke now.
      Categories that an article is posted in are now displayed with the article.
    
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@39 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweaking some renamings
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1553 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    close ticket 1085
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1363 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Add the *rest* of the sitemap.xml support.  Closed #981
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1099 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a deprecation but on sitemap.xml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1682 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweaking some renamings
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1553 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    close ticket 1085
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1363 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Add the *rest* of the sitemap.xml support.  Closed #981
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1099 820eb932-12ee-0310-9ca8-eeb645f39767
    Simplify render in views: feed builders.
    A bit of rearrangement in views/xml
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1555 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Add the *rest* of the sitemap.xml support.  Closed #981
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1099 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing theme catalogue and mentions of Typogarden.
    
    Theme catalogue now returns a 404 and is not maintained anymore.
    We've lost typogarden.org (I actually forgot to renew it) and most themes were not supported anymore.
    
    We'll need to find a way to display themes, maybe using themes.typosphere.org with a statically cached blog, I need to think about this first.
    Hmm this should not be here
    Fixes indent
    Ugly fix to make the menu working. One more thing to fix and I can release
    Sometimes you don't clean enough, sometimes you clean too much. In both cases it's a fail
    Doing some cleaning in the CSS, they really deserved it.
    
    I dropped the call to the RTL CSS on purpose, it will come back when I understand how that really work and how I can integrate it with our bootstrap based CSS. Plus Hebrew seems not to be maintained anymore (unless someone did it and forgot to send a pull request which is fairly possible).
    
    Which bring something quite unrelated to my mind, but should we switch to Rails YML based i18n or to the more standard gettext?
    Fixing the specs. Removing useless specs as we don't rely on tabs anymore. I, however, need to add some more checks there, but on another way
    Porting the comments view to Bootstrap
    Moves Dashboard to bootstrap
    Removing dependencies to Twitter bootstrap, html cleaning
    Adding bootstrap dependencies, switching layout and menu to bootstrap
    Setting up things so we can soon (or later) add a second administration color stylesheet (or two, or three...). I have some nice ideas you can easily imagine for that one
    Fix link to dashboard in administration layout.
    Give Write New Article link more importance. Improves admin header readability
    Reorganizes admin menus and submenus.
    
    Write tabs disappears for a more convenient "New Article" button.
    Contents becomes articles and has submenus for:
      – Articles
      – New article
      – Comments
      – Categories
      – Tags
    Pages becomes an independant tab with:
      – Pages
      – New page
    Resources becomes media (thank you Wordpress for helping me find a word)
    Fixing a bug in editor when using custom thumbnail size.
    Here we are, shouldn't have anything left from the old CSS. Time to clean the CSS itself now
    New admin default stylesheet
    Adding html_safe to logout link
    Mass-removal of trailing whitespace.
    Moving profile at the top right, renaming manage to content, customize to design
    Removing a bit of dead Javascript code
    Upgrading to Rails 2.3.8. I had to backport some Rails 2.3.5 deprecation and fork actionwebservice to upgrade it to Rails 2.3.8. I think we will definitely use our own version since we may be the latest on earth to use it.
    improving system message display
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Renaming carousel file to avoid conflict with people already using carousel.js
    Hmmmm forgot to add the views.
    This solution did not work for IE 8
    Test for IE
    Ooooops, I forgot the whole customize thing
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    add some translation in french
    Updating layout and helpers with CKEditor
    convert @_render_stack.first to @_first_render because depreciated
    Move the user edition from the Admin::UserController to a Admin::ProfileController. Now the user creation / edition is part of the admin/settings and admins are the only one to edit them. It also fixes a huge security hole where any logged in user can create / delete users without the admin credential. Also removes a bunch of unnecessary hazardous conditions we didn't really need
    Adding some links into dashboard, and a profile link
    Fixing some CSS bugs due Growler inclusion
    Adding growler to autosave and sidebar save
    First attempt of switching editor from the editing form
    
    TODO:
    * Allow to switch between editors. For some reasons I've been stuck with FCKEditor API for a while now.
    * Add this to pages as well
    * Clean the code
    * Add tests (I commit without tests because it's 1am and I can't even read my screen anymore, but I don't wanna lose this now that it's working)
    * Make the switching behaviour better (remove links form active tabs...)
     Use Calendar_date_select instead_of datetime_select in create article
    
    [#31 state:resolved]
    Cleaned the admin CSS
    Adding a heavily modified version of Ryan King's JS Quicktags to simple admin. This would need some rewrite using Prototype if only I knoew Javascript. This one supports typo:code. I'll add typo:flickr and other macro later
    Getting rid of the worse piece of code ever, multiplies Typo perfs by 10 when calling articles/index (see http://t37.net/ya-pas-comme-un-truc-qui-vous-fait-hurler-li)
    Getting rid of classic pagination for will_paginate
    Revamping the dashboard, step 1
    Revamping login form step 1
    cleaning admin/css step 1
    migrating default themes to will_paginate
    Rejiged login and signup forms.
    Added 'remember me' functinnality (at last)
    Unifying the back office listing, cleaning some CSS
    Removed old images from admin, not displaying empty H2 for page_heading anymore
    Fixing a test, a HTML unclosed <li> in the menu and content list where publication_pending posts were not shown
    reactive autosave when use simple editor. Fix bug introduce by Rails 2.2
    update Rails submodule and fix error with new update
    Refactoring and removing dead code made my day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1847 820eb932-12ee-0310-9ca8-eeb645f39767
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Few changes in back office
    Fixes 1184
    Few bug fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1614 820eb932-12ee-0310-9ca8-eeb645f39767
    – Moving settings to a real settings controller
    – Splitting settings into different pages, a more sensible way
    – Removing old files
    – Fixing the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1611 820eb932-12ee-0310-9ca8-eeb645f39767
    Re styled login, logout and signup forms
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1557 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing new admin theme
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1556 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Add the comment counting on the feedback menus Limit to spam,
    Limit to unconfirmed and Limit to unconfirmed spam
    
    Add the link to the new iconset replacing famfamfa
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1547 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes ticket 1149
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1542 820eb932-12ee-0310-9ca8-eeb645f39767
    Changed the default admin path to the dashboard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1540 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed resource consuming and not reliable sitealizer.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1539 820eb932-12ee-0310-9ca8-eeb645f39767
    Still some admin tweaking. Looks better now and is easier to use.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1530 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1529 820eb932-12ee-0310-9ca8-eeb645f39767
    Roll back r1527 at Piers's request
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1528 820eb932-12ee-0310-9ca8-eeb645f39767
    Initial commit. Bar is green, but we're a long way from finished.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1527 820eb932-12ee-0310-9ca8-eeb645f39767
    A quick but major revamping of the admin zone. Looks better now doesn't it ?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1500 820eb932-12ee-0310-9ca8-eeb645f39767
    Split the settings into 2 parts: basic and advanced settings. Next step is to allow more tweaking from the user and the admin to come.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1462 820eb932-12ee-0310-9ca8-eeb645f39767
    Started work on cleaning up the routes and eliminating all use of the dreaded
    /:controller/:action/:id route.
    
    Notice the commented out 'raise if testing' additions to the default route and
    the deprecation warnings whatever happens.
    
    It's amazing how much reimplementing Rails routes improves your knowledge of
    what's going on.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1459 820eb932-12ee-0310-9ca8-eeb645f39767
    Changing 'discussion' into 'feedback', sounds better
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1433 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the text filters not loading bug
    Changes the design destination menu from themes to sidebar
    Reverts the changeset 1403 : including the whole contents tables was really a bad idea and made every posts crash with a fairly decent blog.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1405 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1400 820eb932-12ee-0310-9ca8-eeb645f39767
    – Added Rich visual editor in the admin
    – Updated the settings to add the choice between :
            – visual text editor
            – simple text editor + live preview
            – simple text editor without live preview (the live preview is cool but overloads the servers with constant requests on articles)
    – Corrected a few things
    
    Simple editor + live preview is enabled by default
    
    I plan to let users choose their editor in the second time, and enable different visual editors according to personnal users settings. This will be useful when we go multiusers
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1398 820eb932-12ee-0310-9ca8-eeb645f39767
    – Changed a few things in the UI
    – Now you can edit and view comments from the discuss page
    – Started Sitealizer integration
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1396 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a trick to load localization before other plugins
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1382 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Rebuild the content and pages list
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1366 820eb932-12ee-0310-9ca8-eeb645f39767
    Applies administration regorganisation patch + adds some new icons from famfamfam.com
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1364 820eb932-12ee-0310-9ca8-eeb645f39767
    Eliminated the :controller/:action/:id default route, which works around
    the big nasty Rails Security Hole.
    
    It turns out we relied on it in all sorts of strange places. So I fixed that
    too.
    
    Expect a new Typo release real soon now.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1210 820eb932-12ee-0310-9ca8-eeb645f39767
    Spam protection, step 1: add an admin page ('Feedback') that lists all trackbacks and comments, and allows deleting.  I still need to add bulk deleting, and them move on to better filtering.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1132 820eb932-12ee-0310-9ca8-eeb645f39767
    Do some shuffling of controller inheritance and move the theme helper method from application to content helper. This is to allow the admin migration redirection to work without ever touching the magic {{{this_blog}}} method which blows up if you are before migration 38.
    I tested a bunch of stuff after making these changes and everythign seems to work right, but pdcawley and slaird, I would rest easier if you could double-check that my controller inheritance changes are kosher.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@922 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Added myself to the maintainers file.
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@824 820eb932-12ee-0310-9ca8-eeb645f39767
    Add version number to admin footer.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@759 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
     * Fixed render_flash (apparently didn't work at all previously because of a .downcase error), added flash[:error] handling
     * Properly redirect back to the list action if adding a category fails, placing an error message into the flash (closes #317)
     * Added name of category to be deleted to CategoryController#destroy
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@558 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix theme page. (closes #276)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@510 820eb932-12ee-0310-9ca8-eeb645f39767
    Closes #231 U.I. changes and cleanup up redundant screens.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@498 820eb932-12ee-0310-9ca8-eeb645f39767
    Add cache admin tab.  Revert database.yml screwup.  (closes #172)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@455 820eb932-12ee-0310-9ca8-eeb645f39767
    Added consistency to Pages area and removed powered by footer
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@425 820eb932-12ee-0310-9ca8-eeb645f39767
    stupid little admin interface for themes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@422 820eb932-12ee-0310-9ca8-eeb645f39767
    Added powered by footer graphic. Closes #198
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@417 820eb932-12ee-0310-9ca8-eeb645f39767
    Small change for #197
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@414 820eb932-12ee-0310-9ca8-eeb645f39767
    Should fix rendering issue in  #197
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@413 820eb932-12ee-0310-9ca8-eeb645f39767
    polish for the (Static-) Pages admin controller.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@402 820eb932-12ee-0310-9ca8-eeb645f39767
    Add static pages.  Also fixes a caching bug (the new PageCache was broken due to :name/:page_name mix).  (closes #181)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@391 820eb932-12ee-0310-9ca8-eeb645f39767
    renamed the Cache model to PageCache to be more descriptive. Also added unit tests for PageCache
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@387 820eb932-12ee-0310-9ca8-eeb645f39767
    Expanded the quick post system to categories and blacklists
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@384 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed bogus task box on sidebar items.  Added message box back to the sidebar pages
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@375 820eb932-12ee-0310-9ca8-eeb645f39767
    Configurable sidebars.  (closes #157, #103)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@364 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed tabs in admin interface and fixed a bad merge for the general settings
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@362 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge of of /branches/admin into mainline
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@361 820eb932-12ee-0310-9ca8-eeb645f39767
    Added view partials and helpers from bootstrap into main area
    Updating theme and adding theme documentation
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Sometimes you don't clean enough, sometimes you clean too much. In both cases it's a fail
    Moving login form to Bootstrap
    Moving login, password recovery and setup to a vertical and horizontal grid system
    Mass-removal of trailing whitespace.
    A bit more setup improvement
    Adds a better setup, some things may need some refactoring (like moving generated password in the model, but can't make it without having specs failing)
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    add spec to check good feed in head. Reformat some HTML with good indentation
    Adding real page title on login / logout and signup pages
    Rejiged login and signup forms.
    Added 'remember me' functinnality (at last)
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Admin login now has its own layout and doesn't show the admin tabs. This looks more secure.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@436 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    I continue to pick away at the Sidebar system. In this patch we:
    
      * Pull Sidebars::Plugin out into lib
      * Add a Sidebars::!ComponentPlugin which all component based sidebars
        inherit from (not that there are any other sorts of sidebar yet. Bear
        with me
      * Pulled !SidebarController out of components and into app/controllers
      * Lay groundwork for eliminating {{{staged_position}}} from the Sidebar
        model
    
    We've also got the beginnings of a sidebar preview here, /sidebar will
    show you a dummy article with a sidebar -- eventually this should work
    to show you a preview of the staged sidebar configuration.
    
    Coming up, a way of calling actions other than 'configure' and 'content'
    on your sidebars -- a necessity for advanced navigation tools for
    instance.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1002 820eb932-12ee-0310-9ca8-eeb645f39767
    some refactoring around comment controller
    Remove trailing whitespace.
    Simplify render in controllers (Rails Best Practice).
    Remove cache_page override that has no effect.
    Do not provide this_blog in spec helper. Exposes bug in Redirect model.
    
    Due to the presence of this_blog in the spec helper, Redirect could use it
    in the specs, whereas it has no access to this method in the production
    environment.
    Fixes the view_paths issue with custom themes
    Replace deprecated filter_parameter_logging with config.filter_parameters.
    Call #view_path as a class method.
    
    This method does not appear to be an instance method anymore.
    Removing deprecated RAILS_ROOT
    Update files to match what Rails 2.3.8 generates.
    Mass-removal of trailing whitespace.
    Refactoring of the code from last commit => 'Added setting of I18n.locale when setting Localization.lang'
    Added setting of I18n.locale when setting Localization.lang
    Moves cache to public/cache. Ditches database use for cache storing. Please, read doc/CACHE.SETUP.README to setup the new cache system, otherwise Typo now runs smoothly without cache, I've been running it cacheless for months on a fairly crowded blog without even knowing it
    Remove unused find_blog and update comments to reflect single-blog nature
    of typo.
    Spec cleanup:
    - Remove outdated boilerplate.
    - Remove useless reset_blog_ids method.
    - Check authors feeds.
    renaming application controller to application_controller
    GRMPHOMGWTF
    Removing more dead code
    Removing useless SimpleCache
    Removing cached_model + memcache, useless since we're now doing static caching. First step for Typo diet
    add cache_informations table in database. Use this table to save all cache
    add file to track all page cache. Delete all by this file when sweep cache
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    – Cleans some views by moving condition statements to a helper
    – Fix a draft + autosave behavior bug: if I save an autosaved article as a draft, it is duplicated as the autosaved article id is not taken into account in the draft saving process.
    – Moves the autosave delay to 30 seconds to cut the server a little slack
    – Removes comments creation from protect_from_forgery to avoid crash with caches_page when adding comments
    – Fixes a bug with the contributor role tha prevents contributors to access anything in the admin
    – Adds draft deletion (useful heh ?)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1778 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes bug 1239 : the cache and InvalidAuthenticityToken
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1763 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes ticket 1237 : file not found on category browsing in the admin
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1745 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes crash due to uncreated session after adding forgery reqest protection removing the deprecation warning on plugins. It's enough now. fixing some css issue on the new default theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1743 820eb932-12ee-0310-9ca8-eeb645f39767
    fixes a major security version
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1741 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing a lang issue, fixing attachment issues in posts
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1731 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    More test tweaks
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1622 820eb932-12ee-0310-9ca8-eeb645f39767
    Tests passing. Rails 2.0.2 required. I think we may be good to go for 5.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1602 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix for a theming issue
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1575 820eb932-12ee-0310-9ca8-eeb645f39767
    A few more tests should be passing
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1571 820eb932-12ee-0310-9ca8-eeb645f39767
    Language is now set from the admin pannel and not from environment.rb anymore
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1560 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed resource consuming and not reliable sitealizer.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1539 820eb932-12ee-0310-9ca8-eeb645f39767
    More tweaks. Removed the useless include_protected method
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1524 820eb932-12ee-0310-9ca8-eeb645f39767
    Switched to storing only the user_id in the session rather than the whole
    user.
    
    You know it makes sense :).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1516 820eb932-12ee-0310-9ca8-eeb645f39767
    Right ho, /articles/category now redirects to /articles/categories,
    which is a resource now.
    
    Eventually, CategoriesController will take on the duties of
    Admin::CategoriesController, but not quite yet, for now it just handles
    index and show.
    
    Note that we've also introduced a new type of resource, the 'inflected_resource'
    which uses /articles/categories/... for its collection methods, but
    /articles/category/whatever for its members. This means that you we can
    have a category with a permalink of 'new' and it won't clash with with the
    admin form for creating a new category.
    
    Isn't that lovely?
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1510 820eb932-12ee-0310-9ca8-eeb645f39767
    Slowly moving behaviour from the controllers to the models by
    applying the Law of Demeter.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1509 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    Slowly moving towards a more Resourceful setup. Added (and started to test)
    a CommentsController class and its associated views.
    
    We aren't actually using it from anything yet, but it's only a matter of time.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1461 820eb932-12ee-0310-9ca8-eeb645f39767
    – Changed a few things in the UI
    – Now you can edit and view comments from the discuss page
    – Started Sitealizer integration
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1396 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Stop pre-populating the blog_id_for cache - it breaks migration from versions that don't have Blog.blog_url.
    Also switch to a class var rather than global, since it's only ever accessed directly from that class. Sure, development environment will lose the cache between requests, but I don't think that's necessarily a bad thing
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1341 820eb932-12ee-0310-9ca8-eeb645f39767
    More ports to Rspec
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1325 820eb932-12ee-0310-9ca8-eeb645f39767
    Assorted tweaks.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1301 820eb932-12ee-0310-9ca8-eeb645f39767
    Doing Blog.find_by_base_url(...) for every single request when the mapping
    from base url to blog id changes once a flood and Blog.find(<id>) is,
    putting it mildly, rather quicker, seems somewhat silly.
    
    So now we calculate a mapping from base url to blog id in environment.rb and
    use that. Doing this actually reduces the query count for index pages etc,
    because before we were doing one find by base url and then later populating the
    instance cache via a find by id.
    
    Whee! More performance fixes coming your way soon.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1281 820eb932-12ee-0310-9ca8-eeb645f39767
    Mmm... instance caching... you know you *want* it!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1280 820eb932-12ee-0310-9ca8-eeb645f39767
    More 4.1 cleanups.  Complete move from serialized canonical_server_url to non-serialized base_url.
    Add a bunch of rdoc.  More deprecations and cleanups.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1242 820eb932-12ee-0310-9ca8-eeb645f39767
    A bit of multi-blog code.  It doesn't work yet.  via GPRS :-).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1240 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    The beginnings of some serious reworking of the way article publication,
    notifications, remote pings and (possibly) caching will work. After this patch
    an article's 'published' flag will never be set before its 'published_at' time.
    
    This is handled by introducing a 'triggers' table which holds a list of actions
    to perform on objects in the future. Every time the rails system gets a request,
    it performs any pending trigger actions. That way, although a message may well
    not be 'really' published until some time after its published_at time, it will
    appear as if it was.
    
    Next up, moving various 'on save' actions out of duplicated code in controllers
    
    NB: There's a bug in Rails that means that migration 45 shouldn't work with
    mysql or sqlite, hence the utterly gruesome monkey patch in
    lib/rails_patch/active_record.rb -- I look
    forward to the next release of Rails when I can get rid of those monstrosities.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1042 820eb932-12ee-0310-9ca8-eeb645f39767
    I've havered over doing this for a while now, if only because Rails
    is very strongly of the opinion that models don't need to know about
    url_for.
    
    Which is all very well, but Blog is a model of something that has
    contents accessible through urls.
    
    As always in these matters, the true test of whether something's a
    good idea or not is:
    
      Does it make the code clearer?
    
    And in this case, I think it does. By adding Blog#url_for, and
    especially by allowing it to take an object that responds to
    {{{location(anchor=nil, only_path=true)}}} I've managed to
    refactor out a great deal of repetition.
    
    Since url_for is also the stumbling block which stops us turning
    textfilters back into models, you can also consider this as a
    step along the road to making textfilters a little less weird.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1036 820eb932-12ee-0310-9ca8-eeb645f39767
    Sing, muse the joy of pdcawley as he puts the monstrosity {{{article_url}}} and
    all its spawn to his sure swift sword and casts the tiny pieces down, down,
    ye even unto the very depths of The Pit.
    
    Bear witness as {{{Content#full_html}}} returns to the fray, trailing clouds of
    glory, renewing the vigour of old themes left withering in the TypoGarden.
    
    For, verily, I have returned the sensible API to its rightful place.
    
    (Oh, and if you ''must'' use them, {{{article_url}}} et al. will continue to work
    for the forseeable future, but I will insist on treating them like red headed
    stepchildren.)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1004 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix mysql/postgres problems with blog code--Blog.find(:first) doesn't always return Blog #1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@951 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove DEFAULT_BLOG_ID, it won't be useful when we have actual multi-blog support, and for now since we only have one Blog instance it also isn't useful.
    Fix the this_blog.blog_name issue. My guess is redirect_to, for whatever reason, avoids running after_filters, and so $blog was never getting reaped, and a stale Blog object somehow loses its settings methods. The before_filter now explicitly finds/creates a new Blog instance
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@937 820eb932-12ee-0310-9ca8-eeb645f39767
    Don't bother reloading blog object for sidebars
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@934 820eb932-12ee-0310-9ca8-eeb645f39767
    Move $blog logic from ContentController to ApplicationController. Seems to fix intermittent this_blog.blog_name undefined problem
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@931 820eb932-12ee-0310-9ca8-eeb645f39767
    Hopefully fixed the flickr problem (and by extension the problems with
    other RSS based sidebars).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@924 820eb932-12ee-0310-9ca8-eeb645f39767
    Do some shuffling of controller inheritance and move the theme helper method from application to content helper. This is to allow the admin migration redirection to work without ever touching the magic {{{this_blog}}} method which blows up if you are before migration 38.
    I tested a bunch of stuff after making these changes and everythign seems to work right, but pdcawley and slaird, I would rest easier if you could double-check that my controller inheritance changes are kosher.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@922 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Closes #222
    
    Which means that you can now post an article with a creation date some time
    in the future and it won't appear in your blog until that point.
    
    For bonus points, so long as you are using action caching instead of page
    caching (and you should be!), the cache will be expired correctly.
    
    Essentially, every cachable request checks for the next article in the future
    and sets response.lifetime to that point. Which means that the cache expires
    just before the article is due to show, et voila!
    
    The admin interface for this is the same as it ever was, you have to click on
    advanced options and set the created_at value appropriately. Patches are
    welcome if you have better interface ideas.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@905 820eb932-12ee-0310-9ca8-eeb645f39767
    Integrated patch 526
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@872 820eb932-12ee-0310-9ca8-eeb645f39767
    experimental branch
    * Fixed an assumption in :test_comment_posting
    * Made :comment_template_test use assert_match to check its template
    * :test_comment_spam2 now uses a regular expression to account for the
      fact that different *cloth versions have different ideas about how
      <a href='...'> (or should that be <a href="...">) is supposed to look.
      Stopped short of using a full on XML parser.
    Moved the inclusion of helpers up to application.rb
    Got the feeds passing feedvalidator.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@871 820eb932-12ee-0310-9ca8-eeb645f39767
    Add lightbox support as per ticket #651. However, the implementation varies slightly from the patch. The macro is the same, but the script/stylesheet includes are now done automatically whenever you use the {{{<typo:lightbox>}}} macro. This still requires themes to update themselves, but this update is more generalized, and is explained below.
    Textfilters are now passed a model object in addition to the controller object whenever the model object is known. Any custom textfilters will need to be updated. If you do use the model object be sure to check for nil.
    There is now a helper method to provide most of the contents of the {{{<head>}}} tag. Look at Azure for usage. This not only means update-once apply-everywhere, but it ties directly into the next change.
    Textfilters can now add includes to the header via the Content object's whiteboard. For that matter, anything with access to a whiteboard can do this, but it was intended primarily for textfilters. The mechanism for this is by adding a key to the whiteboard called {{{page_header_*}}} where * can be anything. The value of this key is inserted into the {{{<head>}}} tag. The headers of all the rendered content objects are coalesced so if, for example, 2 Articles declare the same includes it will only show up once in the {{{<head>}}} tag. This is a straight equality comparison so don't fall afoul of whitespace. For usage, check out the Lightbox textfilter.
    There are two primary benefits of this change. The first is that any addition, like a textfilter, that needs includes can add them without worrying about updating everybody's theme. Second, includes that aren't necessary will not show up. By this I mean the lightbox javascript/css includes will not show up in {{{<head>}}} unless a rendered Content object actually uses the {{{<typo:lightbox>}}} macro. We may want to consider moving the {{{<typo:code>}}} syntax coloration into a separate CSS file and adding it the same way.
    Also modify register_onload to use prototype's Event.observe - this works around not only a bug in Safari (I think), but also keeps themes like lush from interfering by setting body's onload directly in the layout. I recommend modifying any existing themes that need onload handlers to use register_onload() as well.
    Closes #651.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@848 820eb932-12ee-0310-9ca8-eeb645f39767
    In which your maintainer has a Sunday morning crisis of confidence... this patch will be back after some more tinkering.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@837 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged the fixed cache branch back to the trunk. Sorry for letting something broken escape like that in the first place
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@836 820eb932-12ee-0310-9ca8-eeb645f39767
    Revert [830] as it should have been applied on a branch
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@831 820eb932-12ee-0310-9ca8-eeb645f39767
    Started down the road to abstemious cache sweeping. Headline change is that
    adding/deleting comments and trackbacks no longer needs to rebuild the world
    
    Most of the magic happens in controllers/application.rb, which is responsible
    for creating PageCache entries and linking them appropriately.
    
    BlogSweeper then makes use of the extra information to do intelligent cache
    sweeping -- as time goes by, expect more intelligence to appear.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@830 820eb932-12ee-0310-9ca8-eeb645f39767
    Rolled back mistaken changes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@821 820eb932-12ee-0310-9ca8-eeb645f39767
     r819@Menhir:  pdcawley | 2006-01-06 10:15:08 +0000
     Getting order screen working again
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@820 820eb932-12ee-0310-9ca8-eeb645f39767
    Minor performance boost from skaes.  Every little factor of 4-5x helps.  Closes #513
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@756 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrade Typo to run with Rails 0.14.1 (AKA 1.0rc2)
    
    This required a few minor changes, and I took the opportunity to do a bit of
    refactoring that I'd been avoiding for a while--text filters no longer use
    render() to do their filtering.  That was broken with 1.0, and I've been
    meaning to fix it anyway.
    
    All tests now pass for me, but I haven't tested it extensively outside of
    the unit test system, so be careful.
    
    This may or may not work with 0.13.1--there's no reason why it shouldn't, but
    it's untested.  I'm going to include a few 1.0rc2-specific cleanups soon, so
    the days of the trunk working with 0.13.1 are numbered.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@685 820eb932-12ee-0310-9ca8-eeb645f39767
    BACK UP YOUR DATABASE BEFORE RUNNING THESE MIGRATIONS.  Merge pdcawley's big superclass patch.  This rolls articles, pages, comments, and trackbacks into one big table, using STI.  This lets us get rid of a huge amount of duplicated code; diffstat shows a net of -148 lines, and the resulting code looks cleaner.  Closes #414
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@660 820eb932-12ee-0310-9ca8-eeb645f39767
    Change Atom autodiscovery from Atom 0.3 to Atom 1.0.  Explicitly make RSS autodiscovery use RSS 2.0.  Add Atom autodiscovery tests.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@654 820eb932-12ee-0310-9ca8-eeb645f39767
    RSS autodiscovery changes:
    
     * Add Atom autodiscovery as well as RSS autodiscovery
     * Change which feed is autodiscovered depending on which page is being viewed, so
       trying to autodiscover on /articles/category/foo will find the category feed
       for 'foo', not the generic RSS feed.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@621 820eb932-12ee-0310-9ca8-eeb645f39767
    Unify Atom and RSS feed logic.  Add Atom 1.0.  Add per-category and per-tag feeds.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@601 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    Exclude pages with page\d+ in their path from being cached (temporarily closes #234, any other takes?)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@462 820eb932-12ee-0310-9ca8-eeb645f39767
    removed ugly theme_system.rb in favor of a proper Theme model
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@437 820eb932-12ee-0310-9ca8-eeb645f39767
    Hide caching errors.  (closes #206)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@434 820eb932-12ee-0310-9ca8-eeb645f39767
    another take on the theming system
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@418 820eb932-12ee-0310-9ca8-eeb645f39767
    Very basic theme support.  (closes #184)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@405 820eb932-12ee-0310-9ca8-eeb645f39767
    Code cleanups, migration to new sweeping system, fixes for new sweeping system
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@400 820eb932-12ee-0310-9ca8-eeb645f39767
    Add static pages.  Also fixes a caching bug (the new PageCache was broken due to :name/:page_name mix).  (closes #181)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@391 820eb932-12ee-0310-9ca8-eeb645f39767
    renamed the Cache model to PageCache to be more descriptive. Also added unit tests for PageCache
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@387 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds Cache model.  (closes #183)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@385 820eb932-12ee-0310-9ca8-eeb645f39767
    humongous refactoring of the config setup. It doesn't suck anymore!
    added that you can specify how many articles you want to show in rss and on the blog (seth@remor.com) closes #133
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@286 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed a bug that the configuration was only available after a web request was issuered to typo (scoop)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@113 820eb932-12ee-0310-9ca8-eeb645f39767
    removed config/config.yml, on first request you will be redirected to settings/install to enter the values. This page is currently not protected, need to come up with something
    before next release.
    Added categories to the right hand side
    Fixed the ordering of articles in the categories filtered view
    Added a config manager
    Adjusted html of live preview
    Created settings table
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@93 820eb932-12ee-0310-9ca8-eeb645f39767
    Added flickr support in style of tadalist support.
    Added really cool caching class which makes sure we only update tada/flickr once an
    hour
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@38 820eb932-12ee-0310-9ca8-eeb645f39767
    improved search and added public exception handling
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@16 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Simplify render in controllers (Rails Best Practice).
    Fix link /trackback.atom|rss broken before
    fix some issue in trackback system
    More UrlPolicy work.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1668 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed a bug that was masked by a bad mock.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1645 820eb932-12ee-0310-9ca8-eeb645f39767
    Various fixes for the 5.0 release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1601 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Introduced a FeedbackController and pulled up a bunch of stuff from
    TrackbacksController and CommentsController into it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1519 820eb932-12ee-0310-9ca8-eeb645f39767
    More decomposition of the monolith that it ArticlesController into
    per resource controllers. Trackbacks get their own controller this time.
    
    Also, work continues on pushing behaviour out of controllers and into
    models.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1514 820eb932-12ee-0310-9ca8-eeb645f39767
    Empty out TextFilterController.
    
    This controller had no function.
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix various dependency issues
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@961 820eb932-12ee-0310-9ca8-eeb645f39767
    Move plugin.rb to typo_plugin.rb, and clean up textfilters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@960 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting [948], it did in fact break 1.0 support. I think it is ok to break 1.0 support as long as we introduce full 1.1 support, but let's not do it without telling anyone. If you want to do partial 1.1 fixes like this, it might be better to do it in a branch for now. I don't know about you, but I do not want to have people tell me they upgraded to HEAD and now neither 1.0 or 1.1 work
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@950 820eb932-12ee-0310-9ca8-eeb645f39767
    Initial work to make Typo work with 1.1.  Test still fail, but we're at least mostly
    functional.  I have a couple other commits to make before we're up to 100%.  This
    *should* work with 1.0, but it's untested.
    
    
    Scott
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@948 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Got rid of those annoying messages about missing default helpers.
    The changeset is slightly bigger than it should be because I can't
    work out how to make svk/svn ignore whitespace only changes, and
    emacs is a bit more eager than TextMate to remove extraneous spaces.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@901 820eb932-12ee-0310-9ca8-eeb645f39767
    Add lightbox support as per ticket #651. However, the implementation varies slightly from the patch. The macro is the same, but the script/stylesheet includes are now done automatically whenever you use the {{{<typo:lightbox>}}} macro. This still requires themes to update themselves, but this update is more generalized, and is explained below.
    Textfilters are now passed a model object in addition to the controller object whenever the model object is known. Any custom textfilters will need to be updated. If you do use the model object be sure to check for nil.
    There is now a helper method to provide most of the contents of the {{{<head>}}} tag. Look at Azure for usage. This not only means update-once apply-everywhere, but it ties directly into the next change.
    Textfilters can now add includes to the header via the Content object's whiteboard. For that matter, anything with access to a whiteboard can do this, but it was intended primarily for textfilters. The mechanism for this is by adding a key to the whiteboard called {{{page_header_*}}} where * can be anything. The value of this key is inserted into the {{{<head>}}} tag. The headers of all the rendered content objects are coalesced so if, for example, 2 Articles declare the same includes it will only show up once in the {{{<head>}}} tag. This is a straight equality comparison so don't fall afoul of whitespace. For usage, check out the Lightbox textfilter.
    There are two primary benefits of this change. The first is that any addition, like a textfilter, that needs includes can add them without worrying about updating everybody's theme. Second, includes that aren't necessary will not show up. By this I mean the lightbox javascript/css includes will not show up in {{{<head>}}} unless a rendered Content object actually uses the {{{<typo:lightbox>}}} macro. We may want to consider moving the {{{<typo:code>}}} syntax coloration into a separate CSS file and adding it the same way.
    Also modify register_onload to use prototype's Event.observe - this works around not only a bug in Safari (I think), but also keeps themes like lush from interfering by setting body's onload directly in the layout. I recommend modifying any existing themes that need onload handlers to use register_onload() as well.
    Closes #651.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@848 820eb932-12ee-0310-9ca8-eeb645f39767
    Podcasting, thanks to bingeldac (Grant Schofield).  This also reverts the previous two patches--it's possible that migrations are broken, but that's better then everything else being broken.  There are a few things that I'd like to change here, but by and large it works.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@752 820eb932-12ee-0310-9ca8-eeb645f39767
    We need to stop using 'Plugin::' as a prefix for Typo plugins, as it seems to do weird things sometimes
    with Rails 0.14.3.  Specifically, I can't make 'rake migrate' work at all, even though tests work and the app
    itself works.  This is the first step.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@750 820eb932-12ee-0310-9ca8-eeb645f39767
    I hate Ruby's class variable architecture.  I really do.  Closes #462
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@695 820eb932-12ee-0310-9ca8-eeb645f39767
    More filter cleanup--now use a small DSL for name/description rather then 'def description'.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@687 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrade Typo to run with Rails 0.14.1 (AKA 1.0rc2)
    
    This required a few minor changes, and I took the opportunity to do a bit of
    refactoring that I'd been avoiding for a while--text filters no longer use
    render() to do their filtering.  That was broken with 1.0, and I've been
    meaning to fix it anyway.
    
    All tests now pass for me, but I haven't tested it extensively outside of
    the unit test system, so be careful.
    
    This may or may not work with 0.13.1--there's no reason why it shouldn't, but
    it's untested.  I'm going to include a few 1.0rc2-specific cleanups soon, so
    the days of the trunk working with 0.13.1 are numbered.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@685 820eb932-12ee-0310-9ca8-eeb645f39767
    Modularized some of the textfilter plugin code, so we can reuse it in the sidebar.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@628 820eb932-12ee-0310-9ca8-eeb645f39767
     * Bundle syntax module (closes #350)
     * Explicitly require 'application' in TextfilterController, otherwise script/console is broken because of the inability to require 'application_controller' (derived from the TextfilterController inheritance)
     * Wrap text_filter_id assignment in Article#set_defaults in a schema_version check to fix migrations from farther back
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@571 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old will_paginate with scope based Kaminari.
    use named scope for selecting published articles
    Adding per tag and category templating.
    
    If your site has a category called foo and your theme provides a categories/foo.html.erb template, then this template will be used instead of categories/show.html.erb or articles/index.html.erb as a fallback. Same mechanisme is used for tags.
    
    I love how easy Rails makes that, w00t.
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Remove trailing whitespace.
    add spec on set_noindex method and clean grouping_controller code
    Make grouping controller use article's feed templates.
    refactoring to reduce test execution time
    extract method, test refactoring, to improve test time execution and code understandability
    Spec RSS feed view.
    Make atom and rss feed builders shared partials.
    Remove trailing whitespace.
    Simplify render in controllers (Rails Best Practice).
    Adding a "use meta tags option", enabled by default. Changing the grouping controller behavior to add the blog meta keywords to the categories and tags when their keywords are empty (always for tags). Adding specs.
    Changes the settings behavior for nofollowify, index categories and index tags. Comes with migration. Adds missing specs.
    
    Current settings behavior were beyond stupidity : every feature were enabled by default and admin had to uncheck them to disable them:
    Unchecking nofollowify was enabling dofollow.
    Unchecking index categories was removing categories from search engine index
    Unchecking index tags was removing categories from search engine tags.
    
    New behavior:
    Checking dofollowify actually enables dofollow
    Checking unindex categories removes categories from search engine index
    Checking unindex tags removes tags from search engine index
    
    TODO :
    Allow unindex / index by category.
    Allow unindex / index by tag.
    Adding support for rel='canonical' in pages header to avoid duplicate content.
    
    A canonical page is the preferred version of a set of pages with highly similar content.
    
    It's common for a site to have several pages listing the same set of products. For example, one page might display products sorted in alphabetical order, while other pages display the same products listed by price or by rating. For example:
    
    http://www.example.com/product.php?item=swedish-fish&trackingid=1234567&sort=alpha&sessionid=5678asfasdfasfd
    http://www.example.com/product.php?item=swedish-fish&trackingid=1234567&sort=price&sessionid=5678asfasdfasfd
    If Google knows that these pages have the same content, we may index only one version for our search results. Our algorithms select the page we think best answers the user's query. Now, however, users can specify a canonical page to search engines by adding a <link> element with the attribute rel="canonical" to the <head> section of the non-canonical version of the page. Adding this link and attribute lets site owners identify sets of identical content and suggest to Google: "Of all these pages with identical content, this page is the most useful. Please prioritize it in search results."
    Fix rendering of non-existent tags.
    With a downcase, it will work even better
    This one was breaking all our theme customization thing :-(
    Use standard Rails 3 template_exists? method.
    
    Specs were also updated, since that version of template_exists? requires at
    least one argument. Additionally, fix a broken spec for this functionality
    for CategoriesController.
    Use :locals option with render :partial for collections.
    
    Passing a collection to the :object option now results in each member being
    passed. Use :locals instead to pass the actual collection. Changes to the
    feed partials were also needed to make this work.
    Mass-removal of trailing whitespace.
    Change the grouping visibility to be able to access data like name and description from the themes and plugins
    Change the grouping visibility to be able to access data like name and description from the themes and plugins
    Only do page caching if there's no query string.
    
    This solves the problem where the first time a page is accessed, the client
    passes additional parameters in the query string that change the way the
    page looks, causing the wrong version to be presented to later clients.
    
    The first access without query string is the one that gets cached. After
    that, query strings have no effect on what gets shown anymore, but that's
    ok, since the client is not supposed to add query strings to these URLs
    anyway.
    add template_exists? method back in
    Better title for grouping pages. Closes ticket #100
    Pushing some usability changes
    Allow on demand search removal for tags and categories. This adds noindex follow headers on related pages, and removes them from sitemap.xml
    Adding meta noindex follow on archives, paginated index, paginated categories and paginated tags to avoid duplicate content
    backport some fix in nice_permalinks but not in master branch
    Caches_action_with_params was not properly removed. Seems I forgot some things here and there that actually breaks everything if caches_action_with_params is actually the caching methode
    Ooops stupid me
    Adding the same 301 redirect instead of 404 for tags/show as for articles, better for SEO
    Getting rid of the worse piece of code ever, multiplies Typo perfs by 10 when calling articles/index (see http://t37.net/ya-pas-comme-un-truc-qui-vous-fait-hurler-li)
    Getting rid of classic pagination for will_paginate
    Revamping the dashboard, step 1
    Revamping login form step 1
    cleaning admin/css step 1
    migrating default themes to will_paginate
    localizing rouping titles
    Adding subcategories
    Giving Typo some SEO capabilities
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1849 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed the caching declarations for the grouping controller.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1674 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds some SEO in your typo life
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1588 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed a small problem.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1525 820eb932-12ee-0310-9ca8-eeb645f39767
    More tweaks. Removed the useless include_protected method
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1524 820eb932-12ee-0310-9ca8-eeb645f39767
    More refactoring of the groupings - the individual groupings_controllers have now
    almost completely disappeared...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1522 820eb932-12ee-0310-9ca8-eeb645f39767
    More decomposition of articles_controller.rb; this time we've pulled
    /articles/author out to an AuthorsController and started the process
    of pulling up the common behaviour in AuthorsController and
    CategoriesController to a new GroupingController.
    
    Who knows, one of these days, ArticlesController might start looking
    positively svelte.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1517 820eb932-12ee-0310-9ca8-eeb645f39767
    Simplify setup controller: Let models do input validation.
    Moving login, password recovery and setup to a vertical and horizontal grid system
    Adding setup a better error handling, giving an empty email or blog name would lead to some strange behavior
    Do not go to confirm page if saving user fails.
    
    If the user is not saved, there will be no current_user and the confirm
    action will throw an exception.
    Mass-removal of trailing whitespace.
    Adds a better setup, some things may need some refactoring (like moving generated password in the model, but can't make it without having specs failing)
    Adding a setup to typo blog. Will redirect user to the editor after first account creation
    use named scope for selecting published articles
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Show only published articles on the author page and feeds.
    
    It's probably only because we don't seem to actually link to this page
    anywhere that no-one reported this as a bug before...
    Give Atom and RSS feeds for author articles their own templates.
    Fetch author's articles inside controller.
    Spec RSS feed view.
    Make atom and rss feed builders shared partials.
    Use :locals option with render :partial for collections.
    
    Passing a collection to the :object option now results in each member being
    passed. Use :locals instead to pass the actual collection. Changes to the
    feed partials were also needed to make this work.
    Mass-removal of trailing whitespace.
    raise an error for now in case the user does not exist
    enable author based RSS/atom feeds as in typo 5.2
    Giving users a public profile. Elements to display are defined in the profile
    delete author and users controller. Useless
    More refactoring of the groupings - the individual groupings_controllers have now
    almost completely disappeared...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1522 820eb932-12ee-0310-9ca8-eeb645f39767
    More decomposition of articles_controller.rb; this time we've pulled
    /articles/author out to an AuthorsController and started the process
    of pulling up the common behaviour in AuthorsController and
    CategoriesController to a new GroupingController.
    
    Who knows, one of these days, ArticlesController might start looking
    positively svelte.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1517 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds customizable 404 pages with optionnal messages in the admin. Next: 500
    Replacing old will_paginate with scope based Kaminari.
    use named scope for selecting published articles
    Pass article to partial when password checks out.
    Fixes pages views with Ruby 1.9.2.
    
    Ruby 1.9 does not accept implicit type conversion.
    Adds post types with admin management.
    
    Author can define multiple post types with associated templates. Default post type is 'read' so existing themes won't break.
    
    I didn't use Rails relational model on purpose as I wanted article to store the post type permalink. This will make theme helpers such as menu helpers easier to write. Maybe there's a cleaner way to do it though.
    Move rendering part of SEO options spec to view specs.
    
    The controller spec now just checks assignment (leading to the removal of
    a spurious comma), while the view spec checks if the assigned keywords are
    rendered or not (depending on the blog settings).
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Add specific route for ArticlesController#markup_help.
    Remove now unused render_feed method.
    Use article index RSS feed template for search results.
    Give article feedback RSS feed its own template.
    Give articles index RSS feed its own template.
    Use article index Atom feed template for search results.
    Give article feedback Atom feed its own template.
    Give articles index Atom feed its own template.
    
    I want to give each feed its own template, and remove the to_atom and
    to_rss methods from the models.
    Spec RSS feed view.
    Make atom and rss feed builders shared partials.
    Factor password-protected article view logic into partials.
    Remove trailing whitespace.
    Simplify render in controllers (Rails Best Practice).
    Update article redirect specs to match new *from glob behavior.
    Adding support for rel='canonical' in pages header to avoid duplicate content.
    
    A canonical page is the preferred version of a set of pages with highly similar content.
    
    It's common for a site to have several pages listing the same set of products. For example, one page might display products sorted in alphabetical order, while other pages display the same products listed by price or by rating. For example:
    
    http://www.example.com/product.php?item=swedish-fish&trackingid=1234567&sort=alpha&sessionid=5678asfasdfasfd
    http://www.example.com/product.php?item=swedish-fish&trackingid=1234567&sort=price&sessionid=5678asfasdfasfd
    If Google knows that these pages have the same content, we may index only one version for our search results. Our algorithms select the page we think best answers the user's query. Now, however, users can specify a canonical page to search engines by adding a <link> element with the attribute rel="canonical" to the <head> section of the non-canonical version of the page. Adding this link and attribute lets site owners identify sets of identical content and suggest to Google: "Of all these pages with identical content, this page is the most useful. Please prioritize it in search results."
    Enforce matching of fixed components.
    Avoid matching literal parts of the URL in the wrong places.
    Simplify format matcher.
    Clean up ArticleController's redirect action.
    Use the blog's root path in redirects instead of relative_url_root.
    
    This changes the behavior slightly when accessing the blog from outside its
    base_url.
    Use request.format= to set format instead of params[:format].
    Use :locals option with render :partial for collections.
    
    Passing a collection to the :object option now results in each member being
    passed. Use :locals instead to pass the actual collection. Changes to the
    feed partials were also needed to make this work.
    Replace Object#returning with Object#tap.
    
    Object#returning is deprecated. Some instances were replaced with #tap,
    some pathological cases were removed and replaced with a simple return.
    Mass-removal of trailing whitespace.
    Fixes some nasty bugs with password protection. I need to add tests in the views
    Adding password protected posts. Things are done 100% AJAX because of the static cache. Logged in users are considered as being able to see a protected post. Protected posts content is removed from RSS feed. Need to add some specs, it's curious to see that they didn't break
    Add meta tags to pages.
    Fixing a bug I introduced with the latest commit
    Adding a setup to typo blog. Will redirect user to the editor after first account creation
    Fixes ticket #143 Publish at post setting does not work
    Move function of RedirectsController into ArticlesController
    Move previews to an action of ArticlesController
    Only do page caching if there's no query string.
    
    This solves the problem where the first time a page is accessed, the client
    passes additional parameters in the query string that change the way the
    page looks, causing the wrong version to be presented to later clients.
    
    The first access without query string is the one that gets cached. After
    that, query strings have no effect on what gets shown anymore, but that's
    ok, since the client is not supposed to add query strings to these URLs
    anyway.
    Fixes another bug in feedburner
    Fixing bug #102: feedburner user agent not correct
    Removing more dead code
    add rss/atom feed in search result
    add file to track all page cache. Delete all by this file when sweep cache
    Fixing brocken tests
    Adding feedburner support
    Fix error on search with no result
    
    [#37 state:resolved]
    Adding meta noindex follow on archives, paginated index, paginated categories and paginated tags to avoid duplicate content
    update cache_page with redirect and article controller
    delete some unuse code
    delete all authors relation
    delete live controller with move live search in article controller. Fix some live search issue
    Order articles by published_at
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Removing old caches_actions_with params, caches_page is enough, less ressource consumming and much better
    Replacing default live search with real search. Adding live search as a plugin instead
    fix bug #1278 and improvement search page render, with less sql interrogation
    Getting rid of the worse piece of code ever, multiplies Typo perfs by 10 when calling articles/index (see http://t37.net/ya-pas-comme-un-truc-qui-vous-fait-hurler-li)
    Getting rid of classic pagination for will_paginate
    Revamping the dashboard, step 1
    Revamping login form step 1
    cleaning admin/css step 1
    migrating default themes to will_paginate
    Fixing a bug in archive generation
    Fixing a bug
    Fine tuning SEO things
    Fixed a few things here and there
    Adding subcategories
    Giving Typo some SEO capabilities
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1849 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed bug #1271 and add spec to test it
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1832 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes session resetting when visiting homepage. Needs some test before release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1759 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing a bug which prevented pages having multiple / in them to be displayed
    Fixing a bug that would redirect page creation to show instead of list
    Removing link to preview on unpublished page and articles unless I find a better solution for this.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1750 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes crash due to uncreated session after adding forgery reqest protection removing the deprecation warning on plugins. It's enough now. fixing some css issue on the new default theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1743 820eb932-12ee-0310-9ca8-eeb645f39767
    This should apparently solve every redirect issue left so far
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1701 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes old permalink redirect, everything in the routes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1700 820eb932-12ee-0310-9ca8-eeb645f39767
    Getting rid of /articles in the URL. Still need to add a redirect from old to new url. method exists in article controller, however, must find the best way to call it (routes for every possible url ?).
    
    Don't want to have it done by the web server anyway
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1697 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a couple of bugs, closing ticket 1224
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1694 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes brocken archives
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1693 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a very old bug affecting pages and allowing unpublished pages to be displayed on the blog. I actually wonder why no one told us about this before.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1685 820eb932-12ee-0310-9ca8-eeb645f39767
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    Got rid of some explicit &block arguments and replaced a call to send_file when caching with a redirect.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1637 820eb932-12ee-0310-9ca8-eeb645f39767
    Few changes in back office
    Fixes 1184
    Few bug fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1614 820eb932-12ee-0310-9ca8-eeb645f39767
    – Moving settings to a real settings controller
    – Splitting settings into different pages, a more sensible way
    – Removing old files
    – Fixing the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1611 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the issue with a user profile not getting set.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1608 820eb932-12ee-0310-9ca8-eeb645f39767
    Tests passing. Rails 2.0.2 required. I think we may be good to go for 5.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1602 820eb932-12ee-0310-9ca8-eeb645f39767
    Let users choose their cache model between caches_page and caches_action_with_params with proper explanation of what they do and when not to use it.
    
    This should solve a long commit / revert game we had these days
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1591 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds some SEO in your typo life
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1588 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a typo (sic) that made articles controller crash in production mode.
    Closes ticket 1163
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1586 820eb932-12ee-0310-9ca8-eeb645f39767
    Much as I would love to switch to caches_page as the default, I don't think we can. Need to make in an environmental switch I think.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1585 820eb932-12ee-0310-9ca8-eeb645f39767
    switching back to caches_page
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1584 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Roll back r1527 at Piers's request
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1528 820eb932-12ee-0310-9ca8-eeb645f39767
    Initial commit. Bar is green, but we're a long way from finished.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1527 820eb932-12ee-0310-9ca8-eeb645f39767
    More tweaks. Removed the useless include_protected method
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1524 820eb932-12ee-0310-9ca8-eeb645f39767
    Yay! Eliminated the ugly 'render_grouping' stuff from ArticlesController.
    Authors, Tags, Categories all have their own controllers now. Currently
    they only handle #show and #index, but the next trick will be to migrate
    appropriate #create/#desroy/#update from their appropriate admin/*
    controllers with the eventual aim of eliminating most of the specific
    admin controllers.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1523 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed some dead functionality.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1521 820eb932-12ee-0310-9ca8-eeb645f39767
    More decomposition of articles_controller.rb; this time we've pulled
    /articles/author out to an AuthorsController and started the process
    of pulling up the common behaviour in AuthorsController and
    CategoriesController to a new GroupingController.
    
    Who knows, one of these days, ArticlesController might start looking
    positively svelte.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1517 820eb932-12ee-0310-9ca8-eeb645f39767
    More decomposition of the monolith that it ArticlesController into
    per resource controllers. Trackbacks get their own controller this time.
    
    Also, work continues on pushing behaviour out of controllers and into
    models.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1514 820eb932-12ee-0310-9ca8-eeb645f39767
    Much footling with the feedback state machine and various
    caching related things.
    
    I ''think'' cache sweeping should now be happening in all the
    right places, while being reasonably light on the CPU and memory.
    
    If you do come across cases where the cache isn't being emptied
    when it should, please let me know <pdcawley-typo@bofh.org.uk>
    or raise a ticket here and we'll look into it.
    
    Also, we've reinstated fragment caching; page caching comes with
    a whole host of gotchas that I'd rather not think about just now.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1511 820eb932-12ee-0310-9ca8-eeb645f39767
    Right ho, /articles/category now redirects to /articles/categories,
    which is a resource now.
    
    Eventually, CategoriesController will take on the duties of
    Admin::CategoriesController, but not quite yet, for now it just handles
    index and show.
    
    Note that we've also introduced a new type of resource, the 'inflected_resource'
    which uses /articles/categories/... for its collection methods, but
    /articles/category/whatever for its members. This means that you we can
    have a category with a permalink of 'new' and it won't clash with with the
    admin form for creating a new category.
    
    Isn't that lovely?
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1510 820eb932-12ee-0310-9ca8-eeb645f39767
    More smallish refactorings. Just easing my way back
    into the code.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1508 820eb932-12ee-0310-9ca8-eeb645f39767
    A little bit of housekeeping. Starting to follow the law of demeter
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1507 820eb932-12ee-0310-9ca8-eeb645f39767
    Added page sidebar plugin.
    Activated page sidebar and archive sidebar by default in new blogs.
    Added default category.
    Added default post.
    
    Reverted cache from caches_action_with_params to caches_page. The reasons for this are 40% memory saved + about 3 times faster according to a2b. People can still revert, but I would not advice it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1503 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed a cockup in Article which meant that atom feeds broke if any
    article in them had an enclosure (Article knows about blog, only
    controllers and views know about this_blog)
    
    Also, restored limits to the article feed. Because not everyone (anyone)
    wants to get every single article that ever appeared on a blog
    in their feed. That would be bad.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1476 820eb932-12ee-0310-9ca8-eeb645f39767
    A surprisingly convoluted fix for the broken 'nuke' admin tool.
    It turns out that datestamped_resources didn't quite do the
    right thing when building paths.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1469 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    At some point in any refactoring you have to trust your gut and check
    it in.
    
    This point has now been reached...
    
    New things:
    * routes.rb continues to get shorter, ArticlesController is now declared
      with 'map.datestamped_resource :articles' plus a few extra actions that
      will eventually move to other controllers
    * Comment posting is now handled by the shiny new CommentsController, which
      is resourceful. However, because we don't want to break too many themes
      yet, it's still rendering templates from the articles directory
    * If you want to make your themes work better with the new scheme, you
      should alter your comment form url to be:
      {{{ :url => comments_path(@article) }}}
      If you're linking to the preview action, that becomes
      {{{ preview_new_comment_path(@article) }}}
    * This breaks #1463 rather hard. I shall be rolling #1463 all the way back
      for the time being, at least until I've got the controllers working
      restfully. Once that's done, it should be relatively trivial to change
      the routes file from using {{{datestamped_resources(:articles)}}} to using
      {{{resources(:articles)}}}
    * Deprecation warnings for badly placed controller actions aren't yet
      in place. I need to work out some way of having those warnings show
      up on the admin pages...
    * This may break things horribly. I've run it against the test suite,
      I've walked through most stuff on my test blog, but (always) there
      is the niggling feeling that I've missed something.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1465 820eb932-12ee-0310-9ca8-eeb645f39767
    Added a bunch of things for seo permalinks friendly
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1463 820eb932-12ee-0310-9ca8-eeb645f39767
    Slowly moving towards a more Resourceful setup. Added (and started to test)
    a CommentsController class and its associated views.
    
    We aren't actually using it from anything yet, but it's only a matter of time.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1461 820eb932-12ee-0310-9ca8-eeb645f39767
    * Did a bit of javascript tidying. Expect more to come.
    * Fixed an obscure commenting bug that only tripped up
      administrators.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1456 820eb932-12ee-0310-9ca8-eeb645f39767
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    Some tweaks to commenting. And some tweaks to scribbish to make it play nicely with
    commenting.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1394 820eb932-12ee-0310-9ca8-eeb645f39767
    Reduces the impact of an attempt trackback ping when trackbacks are
    disabled. I'm not sure if it's actually faster, but it dumps way less
    stuff in your logs, which can't be bad.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1393 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweaked session control. ArticlesController now does 'session :new_session => false'
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1365 820eb932-12ee-0310-9ca8-eeb645f39767
    Assorted tweaks.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1301 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Mmm... instance caching... you know you *want* it!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1280 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Don't throw exceptions on bad comments.  Closes #1082
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1223 820eb932-12ee-0310-9ca8-eeb645f39767
    Big changes to the state engine for feedback. Feedback now starts off
    in the 'Unclassified' state and moves to either JustPresumedHam or
    PresumedSpam depending on the results of Feedback#classify (the various Just*
    states are there as one shot states to handle sending of notifications or
    registering of spam/ham classification with akismet). JustPresumedHam
    decays to PresumedHam as soon as the feedback has been saved and the
    notifications sent.
    
    And there they rest until the classifications are solidified by the blog
    administrator on the feedback page. Feedback ends up as either Spam or Ham
    with an intermediate 'JustMarkedAs*' step for registering with Akismet.
    
    It should be possible to do some useful filtering on the feedback page
    (for instance, only see those messages whose classification hasn't been
    confirmed), but for that we need to add a couple of boolean fields to the
    contents table.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1188 820eb932-12ee-0310-9ca8-eeb645f39767
    Big spam filtering upgrade.
    
    This turns on Akismet filtering for all incoming comments and trackbacks.
    Comments (and trackbacks) that fail the spam check are marked as unpublished
    and can be deleted via the admin feedback page.
    
    In addition, the feedback page's publish/unpublish buttons now send feedback
    to Akismet (when enabled, of course).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1148 820eb932-12ee-0310-9ca8-eeb645f39767
    Add popup markup helper.  Closes #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1104 820eb932-12ee-0310-9ca8-eeb645f39767
    Comment update
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1087 820eb932-12ee-0310-9ca8-eeb645f39767
    A bunch of performance fixes (and also a couple created_at/published_at fixes).
    
    This drops our render time on my big DB from ~12 seconds to ~1 second.  That's still
    *way* too slow, but we're moving in the right direction.  We're down to ~40 queries
    for a 15-entry index page now, down from *300*.  And, half of the remaining queries
    are basically Blog.find(1).  I'm not sure why the eager loading on Articles isn't
    helping with this.
    
    This also closes #851--the archive sidebar was one of the big contenders, eating
    6 or 7 seconds per query.  It's down to a few ms now.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1086 820eb932-12ee-0310-9ca8-eeb645f39767
    Use published_at instead of created_at for permalinks.  Since published_at is new and it's initialized from created_at, this should be safe.  Closes #920
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1079 820eb932-12ee-0310-9ca8-eeb645f39767
    Add tag/category name to <title>.  Closes #958
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1075 820eb932-12ee-0310-9ca8-eeb645f39767
    Okay, this is the big, scary patch.
    
    Content is now using a state object to handle transitions between
    'new', 'draft', 'just_published', 'published' and 'publication_pending'
    states. The interesting states in that lot are:
    
      * just_published -- this is a transient state, nothing gets fetched
        from the object store in this state. content is marked as just
        published so that various things that should only happen when an
        article is just published (notifications, pings, etc) only happen
        once.
    
      * publication_pending -- this is when content is due to be published
        in the future. It generally means there's a trigger hanging about
        in the triggers table waiting to publish the article.
    
    At the moment the publication state isn't stored in the database, but derived
    from the 'published' flag and the 'published_at' field. I think we can
    survive like this for a while, but we may end up getting rid of the 'published'
    flag and replacing it with a publication_state field holding a simple
    memento that we can use to reconstruct the state object. (We can't just
    use slaird's {{{acts_as_state}}} plugin because that doesn't appear
    to use 'real' state objects that we can hang behaviour off, and I've
    switched us to using the state pattern precisely so I can hang behaviour
    off the states -- check out {{{ContentState::JustPublished}}} for an
    example of the kind of thing the state pattern lets you do.)
    
    Also, I've switched all the views I could find over to using
    {{{published_at}}} rather than {{{created_at}}}; if you're a theme author
    you might like to do the same.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1047 820eb932-12ee-0310-9ca8-eeb645f39767
    Started the process of moving 'on publication' behaviour out of controllers and
    apis and onto observers. The observer implementations are currently just simple
    callbacks onto the content objects, but that may change in the medium to long
    term.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1043 820eb932-12ee-0310-9ca8-eeb645f39767
    The beginnings of some serious reworking of the way article publication,
    notifications, remote pings and (possibly) caching will work. After this patch
    an article's 'published' flag will never be set before its 'published_at' time.
    
    This is handled by introducing a 'triggers' table which holds a list of actions
    to perform on objects in the future. Every time the rails system gets a request,
    it performs any pending trigger actions. That way, although a message may well
    not be 'really' published until some time after its published_at time, it will
    appear as if it was.
    
    Next up, moving various 'on save' actions out of duplicated code in controllers
    
    NB: There's a bug in Rails that means that migration 45 shouldn't work with
    mysql or sqlite, hence the utterly gruesome monkey patch in
    lib/rails_patch/active_record.rb -- I look
    forward to the next release of Rails when I can get rid of those monstrosities.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1042 820eb932-12ee-0310-9ca8-eeb645f39767
    Added an /articles/author/whoever action for listing articles by a given author
    (based on #825). Nothing's linking to it in the default theme though.
    
    /articles will list the authors, obviously.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1027 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix #743 - category/tag not found message needs to escape id param
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1012 820eb932-12ee-0310-9ca8-eeb645f39767
    Add test for trackback-pinging an article.
    Fix trackback pinging so it actually works.
    Move some test helper methods from xml_controller_test into test_helper.
    Fix the XPath helper methods to support non-Element results
    Also fixes #747
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@996 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes for #775 and #780
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@992 820eb932-12ee-0310-9ca8-eeb645f39767
    Not setting @article in the comment action breaks some themes. Oops.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@979 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed #736, with tests to make sure it doesn't happen again
    Added a few more tests inspired by this bug report too.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@945 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Introduce a new pseudo-action for admin/general so we can tell the user to save settings if ! this_blog.is_ok?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@933 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Removes a couple of special case search methods from article.rb in
    favour of using some_tag.articles.find_already_published and
    some_category.articles.find_already_published
    
    I don't like special case searches that the framework can handle
    adequately.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@906 820eb932-12ee-0310-9ca8-eeb645f39767
    Closes #222
    
    Which means that you can now post an article with a creation date some time
    in the future and it won't appear in your blog until that point.
    
    For bonus points, so long as you are using action caching instead of page
    caching (and you should be!), the cache will be expired correctly.
    
    Essentially, every cachable request checks for the next article in the future
    and sets response.lifetime to that point. Which means that the cache expires
    just before the article is due to show, et voila!
    
    The admin interface for this is the same as it ever was, you have to click on
    advanced options and set the created_at value appropriately. Patches are
    welcome if you have better interface ideas.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@905 820eb932-12ee-0310-9ca8-eeb645f39767
    experimental branch
    * Fixed an assumption in :test_comment_posting
    * Made :comment_template_test use assert_match to check its template
    * :test_comment_spam2 now uses a regular expression to account for the
      fact that different *cloth versions have different ideas about how
      <a href='...'> (or should that be <a href="...">) is supposed to look.
      Stopped short of using a full on XML parser.
    Moved the inclusion of helpers up to application.rb
    Got the feeds passing feedvalidator.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@871 820eb932-12ee-0310-9ca8-eeb645f39767
    Do a much better fix for the auto-linking problem. Markdown once again auto-links, but now sanitization and linking is done on the HTML value of the comment, not the source value. This also has the benefit of making auto-linking work on comment previews. Fixes #685
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@862 820eb932-12ee-0310-9ca8-eeb645f39767
    Commit ugly hack to fix #683.
    Basically, if comments are set to markdown, disable the auto-link feature.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@861 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds the time-limited action cache discussed on
    http://scottstuff.net/blog/articles/2006/01/20/time-limited-caching-for-rails
    to Typo.  This includes a new fragment cache plugin that allows individual items
    to expire from the cache after a certain deadline, and a replacement for the
    action cache that fixes a few action cache bugs (query param handling and error
    caching) and adds simple support for limiting the lifespan of cached pages.
    
    To add a limited lifespan to any page, just set response.lifetime in any controller
    or component.  See the Flickr sidebar for an example--right now, any Typo page
    that includes the Flickr sidebar will only be cached for 1 hour.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@852 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix ArticleController#add_to_cookie to actually set a cookie based on the name passed instead of naming the cookie 'name' all the time; also moved it into private methods as it doesn't make sense to expose it to the outside (closes #585)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@808 820eb932-12ee-0310-9ca8-eeb645f39767
    Turned Content.published into a real boolean. Which has surprisingly far reaching effects.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@790 820eb932-12ee-0310-9ca8-eeb645f39767
     r740@Menhir:  pdcawley | 2005-12-08 00:54:14 +0000
     Fixed an embarrassing problem with ArticlesController.include_protected that
     meant some tests failed. I could have sworn I ran them before checkin, but
     apparently not.
    
     Also made boolean handling more consistent (for the known booleans in the
     schema, I shall be attacking the unknown ones later). For the record, booleans
     are set with 'object.boolean_attrib = true/false' and queried with
     'object.boolean_attrib?'. You should not use the '?' form, and you should
     also strive to name boolean attribs so that it's obvious they are booleans.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@787 820eb932-12ee-0310-9ca8-eeb645f39767
     r737@Menhir:  pdcawley | 2005-12-07 22:20:41 +0000
     Protected the newly included modules
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@786 820eb932-12ee-0310-9ca8-eeb645f39767
     r731@Menhir:  pdcawley | 2005-12-07 19:41:38 +0000
     lib/rails_patch must die! One file at a time
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@784 820eb932-12ee-0310-9ca8-eeb645f39767
    Really, really strip Javascript from comments.  Closes #551
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@763 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Use published? for trackbacks and comments.  This is the first step towards support for moderation.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@755 820eb932-12ee-0310-9ca8-eeb645f39767
    false alarm on this security issue, reverting the previous change.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@737 820eb932-12ee-0310-9ca8-eeb645f39767
    security fix
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@736 820eb932-12ee-0310-9ca8-eeb645f39767
    Strip sessions from all cached ArticleController pages.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@719 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix tag pagination.  Closes #415
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@716 820eb932-12ee-0310-9ca8-eeb645f39767
    Add tag/category lists.  Closes #478
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@707 820eb932-12ee-0310-9ca8-eeb645f39767
    Minor performance fix
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@672 820eb932-12ee-0310-9ca8-eeb645f39767
    BACK UP YOUR DATABASE BEFORE RUNNING THESE MIGRATIONS.  Merge pdcawley's big superclass patch.  This rolls articles, pages, comments, and trackbacks into one big table, using STI.  This lets us get rid of a huge amount of duplicated code; diffstat shows a net of -148 lines, and the resulting code looks cleaner.  Closes #414
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@660 820eb932-12ee-0310-9ca8-eeb645f39767
    Actually refuse to accept new trackbacks if allow_pings is false
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@659 820eb932-12ee-0310-9ca8-eeb645f39767
    Added ability to completely and utterly disallow non-ajax commenting. This is disabled by default, preference available in the spam protection area of the settings page. (refs #355)
    
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@644 820eb932-12ee-0310-9ca8-eeb645f39767
    Clean up category and tag finding code, fix the order in category and tag feeds, as per Aitor Garcia Ray's suggestion on the mailing list
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@633 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a user_id field to comments, and stuff it with session[:user].  Also fix over-eager saves triggered by previews
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@627 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved body_html and friends from push to pull.  See http://scottstuff.net/blog/articles/2005/09/04/push-me-pull-me
    for details.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@622 820eb932-12ee-0310-9ca8-eeb645f39767
    RSS autodiscovery changes:
    
     * Add Atom autodiscovery as well as RSS autodiscovery
     * Change which feed is autodiscovered depending on which page is being viewed, so
       trying to autodiscover on /articles/category/foo will find the category feed
       for 'foo', not the generic RSS feed.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@621 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix tags to not show unpublished articles.  Add tag tests.  (closes #369)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@593 820eb932-12ee-0310-9ca8-eeb645f39767
    Revert previous patch
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@592 820eb932-12ee-0310-9ca8-eeb645f39767
    Change find_by_tag to find_all_by_tag
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@591 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved false require from controller file to test file
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@568 820eb932-12ee-0310-9ca8-eeb645f39767
    Added comment submission live preview using new filter architecture (closes #331) [anonymous]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@567 820eb932-12ee-0310-9ca8-eeb645f39767
    Exclude unpublished articles from index action pagination (closes #297) [atmos]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@566 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    Swapped out hardcoded table names in raw SQL statements by more flexible Model.table_name calls allowing the use of Rails' table_name prefix/suffix settings (closes #342) [Jakob S]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@557 820eb932-12ee-0310-9ca8-eeb645f39767
    Added published != 0 to ArticleController#read conditions to make sure unpublished articles aren't available by their ID (closes #341)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@547 820eb932-12ee-0310-9ca8-eeb645f39767
    Tags.  (closes #282)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@533 820eb932-12ee-0310-9ca8-eeb645f39767
    Changed verify_config to be more rational.  (closes #273, #250)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@499 820eb932-12ee-0310-9ca8-eeb645f39767
    fixes frontpage caching regression which would overwrite the index.html with an old version with specially crafted urls (Damien Pollet) closes #234
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@466 820eb932-12ee-0310-9ca8-eeb645f39767
     * Added title attributes to static pages and the name of the page in question to the page destroy page (closes #236) [atmos]
     * Also fixed label for values to match the corresponding fields
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@464 820eb932-12ee-0310-9ca8-eeb645f39767
    Very basic theme support.  (closes #184)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@405 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged permalink patch which no longer breaks links when the blog author changes an article title. It also allows for custom permalinks by editing it via the content admin. Storing permalinks in the database also means we're no longer doing nasty string comparisons for permalink-accessed articles since we're able to do a direct SQL query on that column. (closes #147)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@394 820eb932-12ee-0310-9ca8-eeb645f39767
    Add static pages.  Also fixes a caching bug (the new PageCache was broken due to :name/:page_name mix).  (closes #181)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@391 820eb932-12ee-0310-9ca8-eeb645f39767
    Added article archives page.  (closes #178)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@356 820eb932-12ee-0310-9ca8-eeb645f39767
    Pluralized the trackback_controller and fixed problem with layout rendering when submitting trackbacks.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@347 820eb932-12ee-0310-9ca8-eeb645f39767
    Frontpage now decides weather to display admin links based on a cookie, comment form is prefilled from cookies by JS (Damien Pollet) closes #164, #165
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@344 820eb932-12ee-0310-9ca8-eeb645f39767
    applied static pages updates by Damien Pollet closes #127
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@343 820eb932-12ee-0310-9ca8-eeb645f39767
    typo is now full static. The entire front end comes from static pages which are swept on commenting, trackbacks, new article posts and category changes.
    This means we cannot do the "posted 25 minutes ago" business but we can easily serve in excess of 1k pages per second so this should be worth it.
    
    closes #127, #21
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@337 820eb932-12ee-0310-9ca8-eeb645f39767
     * Slice find_by_date results in memory instead of using the unsupported :limit/:offset parameters for eager loaded associations (fixes #146)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@322 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed the nuke_* rights verification
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@313 820eb932-12ee-0310-9ca8-eeb645f39767
    Uncomment verify check for nuke_* actions
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@312 820eb932-12ee-0310-9ca8-eeb645f39767
    follow rails style closely by using symbols where ever possible
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@310 820eb932-12ee-0310-9ca8-eeb645f39767
    if you are logged into typo you can now nuke comments and trackbacks right in the blog ui.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@308 820eb932-12ee-0310-9ca8-eeb645f39767
    updated comment posting to have much better error message handling
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@304 820eb932-12ee-0310-9ca8-eeb645f39767
    closes #107
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@292 820eb932-12ee-0310-9ca8-eeb645f39767
    humongous refactoring of the config setup. It doesn't suck anymore!
    added that you can specify how many articles you want to show in rss and on the blog (seth@remor.com) closes #133
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@286 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed comments posting javascript and restructured things a bit. fixes #139
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@282 820eb932-12ee-0310-9ca8-eeb645f39767
    style upgrade (@request = request, @params = params, @session = session)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@279 820eb932-12ee-0310-9ca8-eeb645f39767
     * Fixed the rest of the functional controller test failures for compatibility with Rails 0.13
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@278 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed broken redirect after install
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@275 820eb932-12ee-0310-9ca8-eeb645f39767
    Don't show drafts on category pages (fixes #91)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@263 820eb932-12ee-0310-9ca8-eeb645f39767
    Integrated Azure design.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@247 820eb932-12ee-0310-9ca8-eeb645f39767
     * Force content-type = utf-8 for comment partial rendered for newly posted comments fixing Unicode problems
     * Explicitly return str in HtmlEngine#encode_html
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@238 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed condititions of ArticleController#index to properly hide unpublished articles
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@234 820eb932-12ee-0310-9ca8-eeb645f39767
    gives better error message if a post can't be found even though a proper permaurl was supplied
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@227 820eb932-12ee-0310-9ca8-eeb645f39767
    a few optimisations
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@204 820eb932-12ee-0310-9ca8-eeb645f39767
     * Merged spamprot branch containing DNSRBL blocking, URL count limit, old article auto-close (refs #25)
       MISSING: Moderation options instead of flat out blocking, bayes based blocking, web-interface for blacklist items, auto-close indication
     * Minor fixes from spamprot branch:
       * No more escaping of article titles in articles/_read.rhtml
       * Proper sorting for delicious partial
       * Better semantics for sidebar boxes
    
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@178 820eb932-12ee-0310-9ca8-eeb645f39767
     * Refactoring of settings controller into admin/general controller
     * Fixed functional tests for admin interface
     * Authenticate backend services against user database (again) instead of old user/pass from configuration (fixes #27)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@176 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
     * Fixed category pagination (fixes #38) [wismar@gmail.com]
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@166 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged /branches/aws to /trunk. Three cheers for Patrick Lenz's fantastic work in this branch
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@132 820eb932-12ee-0310-9ca8-eeb645f39767
    added perma urls like /articles/2005/03/22/what-the-hell but also /articles/2005/02 to see all february posts and such
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@102 820eb932-12ee-0310-9ca8-eeb645f39767
    converted live search to prototype library
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@99 820eb932-12ee-0310-9ca8-eeb645f39767
    switched commenting to ajax. ob boy is that cool
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@98 820eb932-12ee-0310-9ca8-eeb645f39767
    Replaced the title of the page with the title of the current article if available, fixing #10
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@97 820eb932-12ee-0310-9ca8-eeb645f39767
    removed config/config.yml, on first request you will be redirected to settings/install to enter the values. This page is currently not protected, need to come up with something
    before next release.
    Added categories to the right hand side
    Fixed the ordering of articles in the categories filtered view
    Added a config manager
    Adjusted html of live preview
    Created settings table
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@93 820eb932-12ee-0310-9ca8-eeb645f39767
    Article trackback inbound and outbound should be fully working now.
    Category trackback coming soon.
    Some small code cleanups.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@83 820eb932-12ee-0310-9ca8-eeb645f39767
    compatibility with rails 0.10.0 and the first stab at pretty urls ( for xmls so far )
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@63 820eb932-12ee-0310-9ca8-eeb645f39767
    Big additions again
    Another big commit.
    
    Additions:
      Trackbacks fully integrated.
      Per article decision to allow trackbacks and comments.
      "transforms" library added for text transforming methods. (
      Google's nofollow fully supported where necessary.
    
    Changes:
      Cleaned up some duplicated code.
      New trackbacks cause the sweeper to go into effect.
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@46 820eb932-12ee-0310-9ca8-eeb645f39767
    mainly rhtml changes, switched production server and development environment to mysql
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@41 820eb932-12ee-0310-9ca8-eeb645f39767
    removed full page caching for read page
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@22 820eb932-12ee-0310-9ca8-eeb645f39767
    added caching
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@18 820eb932-12ee-0310-9ca8-eeb645f39767
    improved search and added public exception handling
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@16 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@8 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    some refactoring around comment controller
    Remove trailing whitespace.
    Simplify render in controllers (Rails Best Practice).
    Added reCaptcha support in backend
    Fixes comment preview
    Mass-removal of trailing whitespace.
    Removing the filter on AJAX / non AJAX comments since now some themes (including default theme...) comes without AJAX enabled by default. This will prevent some well known issues...
    fix some test on redirect controller and fix some error if no current_user
    Ticket 43: when a commenter is logged in, his user_id should be added to the comment (useful to count a user's comment) both on admin and frontend)
    fix spec in comment controller with non use of mock
    start using same formating but only define by a string
    say that comment closed in preview
    – Cleans some views by moving condition statements to a helper
    – Fix a draft + autosave behavior bug: if I save an autosaved article as a draft, it is duplicated as the autosaved article id is not taken into account in the draft saving process.
    – Moves the autosave delay to 30 seconds to cut the server a little slack
    – Removes comments creation from protect_from_forgery to avoid crash with caches_page when adding comments
    – Fixes a bug with the contributor role tha prevents contributors to access anything in the admin
    – Adds draft deletion (useful heh ?)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1778 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bad clear: left in Typographic\n
    Fixes comments cache issues (Ticket 1218)\n
    Adds a control on comment.save (Ticket 1207)\n
    Adds the forgotten spinner to Typographic
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1744 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes comments
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1732 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a couple of bugs, closing ticket 1224
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1694 820eb932-12ee-0310-9ca8-eeb645f39767
    More UrlPolicy work.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1669 820eb932-12ee-0310-9ca8-eeb645f39767
    More UrlPolicy work.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1668 820eb932-12ee-0310-9ca8-eeb645f39767
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed a bug that was masked by a bad mock.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1645 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Introduced a FeedbackController and pulled up a bunch of stuff from
    TrackbacksController and CommentsController into it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1519 820eb932-12ee-0310-9ca8-eeb645f39767
    Switched to storing only the user_id in the session rather than the whole
    user.
    
    You know it makes sense :).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1516 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing another silly oops
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1513 820eb932-12ee-0310-9ca8-eeb645f39767
    Oops
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1512 820eb932-12ee-0310-9ca8-eeb645f39767
    Much footling with the feedback state machine and various
    caching related things.
    
    I ''think'' cache sweeping should now be happening in all the
    right places, while being reasonably light on the CPU and memory.
    
    If you do come across cases where the cache isn't being emptied
    when it should, please let me know <pdcawley-typo@bofh.org.uk>
    or raise a ticket here and we'll look into it.
    
    Also, we've reinstated fragment caching; page caching comes with
    a whole host of gotchas that I'd rather not think about just now.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1511 820eb932-12ee-0310-9ca8-eeb645f39767
    Slowly moving behaviour from the controllers to the models by
    applying the Law of Demeter.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1509 820eb932-12ee-0310-9ca8-eeb645f39767
    More smallish refactorings. Just easing my way back
    into the code.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1508 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes ticket 1137
    Adds a default page on first migration.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1502 820eb932-12ee-0310-9ca8-eeb645f39767
    Added limits to CommentsController#index
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1475 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    At some point in any refactoring you have to trust your gut and check
    it in.
    
    This point has now been reached...
    
    New things:
    * routes.rb continues to get shorter, ArticlesController is now declared
      with 'map.datestamped_resource :articles' plus a few extra actions that
      will eventually move to other controllers
    * Comment posting is now handled by the shiny new CommentsController, which
      is resourceful. However, because we don't want to break too many themes
      yet, it's still rendering templates from the articles directory
    * If you want to make your themes work better with the new scheme, you
      should alter your comment form url to be:
      {{{ :url => comments_path(@article) }}}
      If you're linking to the preview action, that becomes
      {{{ preview_new_comment_path(@article) }}}
    * This breaks #1463 rather hard. I shall be rolling #1463 all the way back
      for the time being, at least until I've got the controllers working
      restfully. Once that's done, it should be relatively trivial to change
      the routes file from using {{{datestamped_resources(:articles)}}} to using
      {{{resources(:articles)}}}
    * Deprecation warnings for badly placed controller actions aren't yet
      in place. I need to work out some way of having those warnings show
      up on the admin pages...
    * This may break things horribly. I've run it against the test suite,
      I've walked through most stuff on my test blog, but (always) there
      is the niggling feeling that I've missed something.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1465 820eb932-12ee-0310-9ca8-eeb645f39767
    Slowly moving towards a more Resourceful setup. Added (and started to test)
    a CommentsController class and its associated views.
    
    We aren't actually using it from anything yet, but it's only a matter of time.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1461 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds customizable 404 pages with optionnal messages in the admin. Next: 500
    Cache theme items in the same way as other items.
    Mass-removal of trailing whitespace.
    remove rails 2.3 depreciated manual session management
    Removing more dead code
    Rolled back a theme optimization that wasn't
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1642 820eb932-12ee-0310-9ca8-eeb645f39767
    Got rid of some explicit &block arguments and replaced a call to send_file when caching with a redirect.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1637 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed the dst in theme_controller
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1626 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds some SEO in your typo life
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1588 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed them asset caching.
    
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1581 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Add charset to theme stylesheets/javascripts, as the test indicates it should be there
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1313 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    More 4.1 cleanups.  Complete move from serialized canonical_server_url to non-serialized base_url.
    Add a bunch of rdoc.  More deprecations and cleanups.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1242 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    More session :off
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@720 820eb932-12ee-0310-9ca8-eeb645f39767
    Give themes the ability to override views.  (closes #354)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@578 820eb932-12ee-0310-9ca8-eeb645f39767
    Blocked access to theme_controller directly via /theme.  (closes #243)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@474 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed security vulnerability in ThemeController due to missing sanitization of the filename parameter (closes #244)
    PLEASE NOTE: This is by no means a catch-all fix. It'll disallow perfectly valid filenames on non-Windows operating systems. But in order to provide a timely fix that doesn't allow for exploitation on neither Windows nor non-Windows machines, this was found to be tolerable. It is also much more likely to have people with typo installations on Windows than people using filenames containing a forward slash followed by two consequtive periods followed by another forward slash in their naming for files destined for the Web.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@470 820eb932-12ee-0310-9ca8-eeb645f39767
    removed ugly theme_system.rb in favor of a proper Theme model
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@437 820eb932-12ee-0310-9ca8-eeb645f39767
    another take on the theming system
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@418 820eb932-12ee-0310-9ca8-eeb645f39767
    Clean up RSD route.
    Make #rsd use rsd format.
    Clean up XmlController#feed as it now only needs to render googlesitemap.
    Redirect XmlController#feed of type trackbacks to TrackbacksController.
    
    This means XmlController now only handles google sitemap and rsd by itself.
    Make ancient XmlController actions redirect to their final destination.
    
    The existing situation would redirect to the XmlController#feed action, and
    then redirect again to another controller. This change streamlines this by
    redirecting, with a :moved_permanently response, to the other controllers
    immediately.
    Make handling of unsupported type similar to unsupported format.
    Remove unused XmlController methods.
    Changes the settings behavior for nofollowify, index categories and index tags. Comes with migration. Adds missing specs.
    
    Current settings behavior were beyond stupidity : every feature were enabled by default and admin had to uncheck them to disable them:
    Unchecking nofollowify was enabling dofollow.
    Unchecking index categories was removing categories from search engine index
    Unchecking index tags was removing categories from search engine tags.
    
    New behavior:
    Checking dofollowify actually enables dofollow
    Checking unindex categories removes categories from search engine index
    Checking unindex tags removes tags from search engine index
    
    TODO :
    Allow unindex / index by category.
    Allow unindex / index by tag.
    Add some TODOs.
    Set format using request.format=
    Dropping iTunes metadata support. They will probably come back in the futur as a plugin
    Fix feed behavior without format parameter.
    TODO: use same rss template everywhere.
    Only do page caching if there's no query string.
    
    This solves the problem where the first time a page is accessed, the client
    passes additional parameters in the query string that change the way the
    page looks, causing the wrong version to be presented to later clients.
    
    The first access without query string is the one that gets cached. After
    that, query strings have no effect on what gets shown anymore, but that's
    ok, since the client is not supposed to add query strings to these URLs
    anyway.
    changed depreciated formatted url/path
    remove rails 2.3 depreciated manual session management
    Allow on demand search removal for tags and categories. This adds noindex follow headers on related pages, and removes them from sitemap.xml
    fix spec in xmlcontroller
    Make feed validate
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Prevent accidentally changing the blog's title
    
    When running the unit tests, I was getting the following error:
    
      Test::Unit::AssertionFailedError in 'BackendController
        test_blogger_get_users_blogs'
      <"test blog trackbacks trackbacks"> expected but was
        <"test blog">.
      ./spec/controllers/backend_controller_spec.rb:37:in
        `test_blogger_get_users_blogs'
    
    First problem: This error message has accidentally reversed the expected and
    actual values.
    
    Second problem: The following two lines in xml_controller.rb were
    accidentally changing the blog title.  This occurs because '<<' actually
    updates a string in place.
    
      @feed_title = this_blog.blog_name
      ...
      @feed_title << " trackbacks"
    
    The fix: Make a copy of the blog title before storing it in @feed_title.
    fixes the .rss issue
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1738 820eb932-12ee-0310-9ca8-eeb645f39767
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    Language is now set from the admin pannel and not from environment.rb anymore
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1560 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    * Fixed a couple of broken tests introduced by the changes in title_prefix
    * Nailed a few other issues brought up while porting tests to RSpec
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1323 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix deprecation in xml_controller
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1321 820eb932-12ee-0310-9ca8-eeb645f39767
    Restore xml_controller.rb, which [1300] accidentally killed
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1319 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    More 4.1 cleanups.  Complete move from serialized canonical_server_url to non-serialized base_url.
    Add a bunch of rdoc.  More deprecations and cleanups.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1242 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Eliminated the :controller/:action/:id default route, which works around
    the big nasty Rails Security Hole.
    
    It turns out we relied on it in all sorts of strange places. So I fixed that
    too.
    
    Expect a new Typo release real soon now.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1210 820eb932-12ee-0310-9ca8-eeb645f39767
    Another /created_at/published_at/ fix.  Closes #1063
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1195 820eb932-12ee-0310-9ca8-eeb645f39767
    Add Google sitemaps.  It needs better tests, but at least there *are* tests now.  Closes #315
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1097 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied #844. Many thanks to Sam Ruby
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1035 820eb932-12ee-0310-9ca8-eeb645f39767
    Closes #740
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@971 820eb932-12ee-0310-9ca8-eeb645f39767
    Added tests and an associated fix for #742
    
    Also, because case statements are evil (Evil, you hear me, Evil!)
    I've got rid of a big case statement in XmlController
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@969 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Closes #222
    
    Which means that you can now post an article with a creation date some time
    in the future and it won't appear in your blog until that point.
    
    For bonus points, so long as you are using action caching instead of page
    caching (and you should be!), the cache will be expired correctly.
    
    Essentially, every cachable request checks for the next article in the future
    and sets response.lifetime to that point. Which means that the cache expires
    just before the article is due to show, et voila!
    
    The admin interface for this is the same as it ever was, you have to click on
    advanced options and set the created_at value appropriately. Patches are
    welcome if you have better interface ideas.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@905 820eb932-12ee-0310-9ca8-eeb645f39767
    Tags now support the concept of a display name. This is to facility re-naming tags, an interface for which will be provided soon. Tag names are now canonicalized into a lowercase, space-stripped name so "Monty Python" and "montypython" will be the same tag. Please note that display name really should be a reformatted version of the original name - if you change the content, like using "Graham Chapman" for the tag "montypython" you can still get duplicate tag issues where a keyword "grahamchapman" will create a new tag since it will not match either "Graham Chapman" or "montypython".
    Please note that theme writers who override the tag sidebar display will have to modify their themes to use tag.display_name instead of tag.name.
    Also note that the migration was written to try and handle duplicate tags gracefully (currently you can have both "montypython" and "Monty Python" as separate tags but they will both end up as "montypython" after migration), by destroying the latter one and recreating the tag mappings for any affected articles. It was tested, but not extensively, so be careful - as always, back up your database before migrating.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@858 820eb932-12ee-0310-9ca8-eeb645f39767
    Turned Content.published into a real boolean. Which has surprisingly far reaching effects.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@790 820eb932-12ee-0310-9ca8-eeb645f39767
    Clean up itunes RSS.  Closes #576
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@766 820eb932-12ee-0310-9ca8-eeb645f39767
    Use published? for trackbacks and comments.  This is the first step towards support for moderation.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@755 820eb932-12ee-0310-9ca8-eeb645f39767
    Podcasting, thanks to bingeldac (Grant Schofield).  This also reverts the previous two patches--it's possible that migrations are broken, but that's better then everything else being broken.  There are a few things that I'd like to change here, but by and large it works.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@752 820eb932-12ee-0310-9ca8-eeb645f39767
    Disable sessions for feed pages
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@718 820eb932-12ee-0310-9ca8-eeb645f39767
    Clean up category and tag finding code, fix the order in category and tag feeds, as per Aitor Garcia Ray's suggestion on the mailing list
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@633 820eb932-12ee-0310-9ca8-eeb645f39767
    Unify Atom and RSS feed logic.  Add Atom 1.0.  Add per-category and per-tag feeds.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@601 820eb932-12ee-0310-9ca8-eeb645f39767
    trackback rss
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@317 820eb932-12ee-0310-9ca8-eeb645f39767
    follow rails style closely by using symbols where ever possible
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@310 820eb932-12ee-0310-9ca8-eeb645f39767
    humongous refactoring of the config setup. It doesn't suck anymore!
    added that you can specify how many articles you want to show in rss and on the blog (seth@remor.com) closes #133
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@286 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed comments posting javascript and restructured things a bit. fixes #139
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@282 820eb932-12ee-0310-9ca8-eeb645f39767
    style upgrade (@request = request, @params = params, @session = session)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@279 820eb932-12ee-0310-9ca8-eeb645f39767
    * Per article comment rss (closes #138)
    * Functional unit tests for xml_controller
    * Move to 0.13 cache sweeper
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@273 820eb932-12ee-0310-9ca8-eeb645f39767
    Added:
      Support for inbound trackbacks (very little testing) (http://someserver.com/trackback/ping/1)
      Support for the Moveable Type API - seems to work well.
      Support for RSD - autodiscovering of the xmlrpc uri
                      - aka "Autofill" in MarsEdit
                      - I'm not sure what should be returned for Movetype API support though
                        - Maybe MarsEdit just doesn't support it through RSD.
      Added a "Powered by Typo" link to the bottom of the articles.rthml template.
      RSS feed now has support for autodiscovery of trackback url's.
    
    Fixes:
      If a post isn't assigned to any categories, it won't choke now.
      Categories that an article is posted in are now displayed with the article.
    
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@39 820eb932-12ee-0310-9ca8-eeb645f39767
    added commentrss (so i see when people write something)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@20 820eb932-12ee-0310-9ca8-eeb645f39767
    added caching
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@18 820eb932-12ee-0310-9ca8-eeb645f39767
    added atom feed
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@17 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    More refactoring of the groupings - the individual groupings_controllers have now
    almost completely disappeared...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1522 820eb932-12ee-0310-9ca8-eeb645f39767
    More decomposition of articles_controller.rb; this time we've pulled
    /articles/author out to an AuthorsController and started the process
    of pulling up the common behaviour in AuthorsController and
    CategoriesController to a new GroupingController.
    
    Who knows, one of these days, ArticlesController might start looking
    positively svelte.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1517 820eb932-12ee-0310-9ca8-eeb645f39767
    Right ho, /articles/category now redirects to /articles/categories,
    which is a resource now.
    
    Eventually, CategoriesController will take on the duties of
    Admin::CategoriesController, but not quite yet, for now it just handles
    index and show.
    
    Note that we've also introduced a new type of resource, the 'inflected_resource'
    which uses /articles/categories/... for its collection methods, but
    /articles/category/whatever for its members. This means that you we can
    have a category with a permalink of 'new' and it won't clash with with the
    admin form for creating a new category.
    
    Isn't that lovely?
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1510 820eb932-12ee-0310-9ca8-eeb645f39767
    Make feedback controller use individual templates.
    Spec RSS feed view.
    Make atom and rss feed builders shared partials.
    Use :locals option with render :partial for collections.
    
    Passing a collection to the :object option now results in each member being
    passed. Use :locals instead to pass the actual collection. Changes to the
    feed partials were also needed to make this work.
    remove rails 2.3 depreciated manual session management
    delete unused code
    fix some issue in trackback system
    fix spec in comment controller with non use of mock
    start using same formating but only define by a string
    More UrlPolicy work.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1669 820eb932-12ee-0310-9ca8-eeb645f39767
    More UrlPolicy work.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1668 820eb932-12ee-0310-9ca8-eeb645f39767
    Tests passing. Rails 2.0.2 required. I think we may be good to go for 5.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1602 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed some dead functionality.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1521 820eb932-12ee-0310-9ca8-eeb645f39767
    Introduced a FeedbackController and pulled up a bunch of stuff from
    TrackbacksController and CommentsController into it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1519 820eb932-12ee-0310-9ca8-eeb645f39767
    Re-require action_web_service for BackendController.
    
    Without this, the singleton methods are not properly loaded into the
    BackendController class. A better solution is needed.
    Fix library loading for BackendController and its spec.
    
    ActionWebService::Protocol::Discovery uses write_inheritable_array to
    register protocols. Due to the order of library loading, during testing
    only, the ApplicationController class would be created before
    ActionWebService::Protocol::XmlRpc was registered in
    ActionController::Base. This meant BackendController needed to include
    ActionWebService::Protocol::XmlRpc again in the specs to register it.
    
    By requiring 'action_web_service' in environment.rb with the other included
    libraries, we make sure it is loaded early enough to avoid this.
    
    Also, some other unneccesary require statements were removed from the spec.
    Mass-removal of trailing whitespace.
    remove rails 2.3 depreciated manual session management
    Fixes a crash with AWS in production mode
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1842 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes ticket 1238 BackendController raise an internal error when using a desktop client because of searching for authenticity token.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1746 820eb932-12ee-0310-9ca8-eeb645f39767
    Clean up API exception reporting.  Closes #1088
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1226 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    More session :off
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@720 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    I spelled Movable Type wrong a while ago, and now it is fixed everywhere.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@196 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged /branches/aws to /trunk. Three cheers for Patrick Lenz's fantastic work in this branch
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@132 820eb932-12ee-0310-9ca8-eeb645f39767
    fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@85 820eb932-12ee-0310-9ca8-eeb645f39767
    Added:
      Support for inbound trackbacks (very little testing) (http://someserver.com/trackback/ping/1)
      Support for the Moveable Type API - seems to work well.
      Support for RSD - autodiscovering of the xmlrpc uri
                      - aka "Autofill" in MarsEdit
                      - I'm not sure what should be returned for Movetype API support though
                        - Maybe MarsEdit just doesn't support it through RSD.
      Added a "Powered by Typo" link to the bottom of the articles.rthml template.
      RSS feed now has support for autodiscovery of trackback url's.
    
    Fixes:
      If a post isn't assigned to any categories, it won't choke now.
      Categories that an article is posted in are now displayed with the article.
    
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@39 820eb932-12ee-0310-9ca8-eeb645f39767
    added caching
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@18 820eb932-12ee-0310-9ca8-eeb645f39767
    added image upload using marsedit!
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@3 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Yay! Eliminated the ugly 'render_grouping' stuff from ArticlesController.
    Authors, Tags, Categories all have their own controllers now. Currently
    they only handle #show and #index, but the next trick will be to migrate
    appropriate #create/#desroy/#update from their appropriate admin/*
    controllers with the eventual aim of eliminating most of the specific
    admin controllers.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1523 820eb932-12ee-0310-9ca8-eeb645f39767
    Update spec for article index view.
    
    Include layout when rendering the view. This required change moving the
    contents helper into application_helper.rb. All this was in order to add a
    spec to make sure no extra escaping was done anywhere in the rendered
    body.
    Make sure feed discovery url includes host name.
    Remove incorrect comment.
    Move function of RedirectsController into ArticlesController
    Removing more dead code
    Fixing a bug on the new layout defined pages
    add sitemap.xml in delete when sweep cache
    Caches_action_with_params was not properly removed. Seems I forgot some things here and there that actually breaks everything if caches_action_with_params is actually the caching methode
    Fixes bug 1215
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1696 820eb932-12ee-0310-9ca8-eeb645f39767
    Some article refactorings...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1676 820eb932-12ee-0310-9ca8-eeb645f39767
    Further attempts to fix the caching code. Should at least stop deleting /tmp now
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1612 820eb932-12ee-0310-9ca8-eeb645f39767
    Cache sweeping successfully sweeps pages now. Page caching no longer touches the database
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1583 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    More tweaks. Removed the useless include_protected method
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1524 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    At some point in any refactoring you have to trust your gut and check
    it in.
    
    This point has now been reached...
    
    New things:
    * routes.rb continues to get shorter, ArticlesController is now declared
      with 'map.datestamped_resource :articles' plus a few extra actions that
      will eventually move to other controllers
    * Comment posting is now handled by the shiny new CommentsController, which
      is resourceful. However, because we don't want to break too many themes
      yet, it's still rendering templates from the articles directory
    * If you want to make your themes work better with the new scheme, you
      should alter your comment form url to be:
      {{{ :url => comments_path(@article) }}}
      If you're linking to the preview action, that becomes
      {{{ preview_new_comment_path(@article) }}}
    * This breaks #1463 rather hard. I shall be rolling #1463 all the way back
      for the time being, at least until I've got the controllers working
      restfully. Once that's done, it should be relatively trivial to change
      the routes file from using {{{datestamped_resources(:articles)}}} to using
      {{{resources(:articles)}}}
    * Deprecation warnings for badly placed controller actions aren't yet
      in place. I need to work out some way of having those warnings show
      up on the admin pages...
    * This may break things horribly. I've run it against the test suite,
      I've walked through most stuff on my test blog, but (always) there
      is the niggling feeling that I've missed something.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1465 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    A bunch of performance fixes (and also a couple created_at/published_at fixes).
    
    This drops our render time on my big DB from ~12 seconds to ~1 second.  That's still
    *way* too slow, but we're moving in the right direction.  We're down to ~40 queries
    for a 15-entry index page now, down from *300*.  And, half of the remaining queries
    are basically Blog.find(1).  I'm not sure why the eager loading on Articles isn't
    helping with this.
    
    This also closes #851--the archive sidebar was one of the big contenders, eating
    6 or 7 seconds per query.  It's down to a few ms now.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1086 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied #844. Many thanks to Sam Ruby
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1035 820eb932-12ee-0310-9ca8-eeb645f39767
    Added an /articles/author/whoever action for listing articles by a given author
    (based on #825). Nothing's linking to it in the default theme though.
    
    /articles will list the authors, obviously.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1027 820eb932-12ee-0310-9ca8-eeb645f39767
    Sing, muse the joy of pdcawley as he puts the monstrosity {{{article_url}}} and
    all its spawn to his sure swift sword and casts the tiny pieces down, down,
    ye even unto the very depths of The Pit.
    
    Bear witness as {{{Content#full_html}}} returns to the fray, trailing clouds of
    glory, renewing the vigour of old themes left withering in the TypoGarden.
    
    For, verily, I have returned the sensible API to its rightful place.
    
    (Oh, and if you ''must'' use them, {{{article_url}}} et al. will continue to work
    for the forseeable future, but I will insist on treating them like red headed
    stepchildren.)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1004 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix various dependency issues
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@961 820eb932-12ee-0310-9ca8-eeb645f39767
    Move $blog logic from ContentController to ApplicationController. Seems to fix intermittent this_blog.blog_name undefined problem
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@931 820eb932-12ee-0310-9ca8-eeb645f39767
    Fiddle with the magic theme helper method again so sidebars can again be overridden by themes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@925 820eb932-12ee-0310-9ca8-eeb645f39767
    Hopefully fixed the flickr problem (and by extension the problems with
    other RSS based sidebars).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@924 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Closes #222
    
    Which means that you can now post an article with a creation date some time
    in the future and it won't appear in your blog until that point.
    
    For bonus points, so long as you are using action caching instead of page
    caching (and you should be!), the cache will be expired correctly.
    
    Essentially, every cachable request checks for the next article in the future
    and sets response.lifetime to that point. Which means that the cache expires
    just before the article is due to show, et voila!
    
    The admin interface for this is the same as it ever was, you have to click on
    advanced options and set the created_at value appropriately. Patches are
    welcome if you have better interface ideas.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@905 820eb932-12ee-0310-9ca8-eeb645f39767
    Integrated patch 526
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@872 820eb932-12ee-0310-9ca8-eeb645f39767
    experimental branch
    * Fixed an assumption in :test_comment_posting
    * Made :comment_template_test use assert_match to check its template
    * :test_comment_spam2 now uses a regular expression to account for the
      fact that different *cloth versions have different ideas about how
      <a href='...'> (or should that be <a href="...">) is supposed to look.
      Stopped short of using a full on XML parser.
    Moved the inclusion of helpers up to application.rb
    Got the feeds passing feedvalidator.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@871 820eb932-12ee-0310-9ca8-eeb645f39767
    Add lightbox support as per ticket #651. However, the implementation varies slightly from the patch. The macro is the same, but the script/stylesheet includes are now done automatically whenever you use the {{{<typo:lightbox>}}} macro. This still requires themes to update themselves, but this update is more generalized, and is explained below.
    Textfilters are now passed a model object in addition to the controller object whenever the model object is known. Any custom textfilters will need to be updated. If you do use the model object be sure to check for nil.
    There is now a helper method to provide most of the contents of the {{{<head>}}} tag. Look at Azure for usage. This not only means update-once apply-everywhere, but it ties directly into the next change.
    Textfilters can now add includes to the header via the Content object's whiteboard. For that matter, anything with access to a whiteboard can do this, but it was intended primarily for textfilters. The mechanism for this is by adding a key to the whiteboard called {{{page_header_*}}} where * can be anything. The value of this key is inserted into the {{{<head>}}} tag. The headers of all the rendered content objects are coalesced so if, for example, 2 Articles declare the same includes it will only show up once in the {{{<head>}}} tag. This is a straight equality comparison so don't fall afoul of whitespace. For usage, check out the Lightbox textfilter.
    There are two primary benefits of this change. The first is that any addition, like a textfilter, that needs includes can add them without worrying about updating everybody's theme. Second, includes that aren't necessary will not show up. By this I mean the lightbox javascript/css includes will not show up in {{{<head>}}} unless a rendered Content object actually uses the {{{<typo:lightbox>}}} macro. We may want to consider moving the {{{<typo:code>}}} syntax coloration into a separate CSS file and adding it the same way.
    Also modify register_onload to use prototype's Event.observe - this works around not only a bug in Safari (I think), but also keeps themes like lush from interfering by setting body's onload directly in the layout. I recommend modifying any existing themes that need onload handlers to use register_onload() as well.
    Closes #651.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@848 820eb932-12ee-0310-9ca8-eeb645f39767
    In which your maintainer has a Sunday morning crisis of confidence... this patch will be back after some more tinkering.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@837 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged the fixed cache branch back to the trunk. Sorry for letting something broken escape like that in the first place
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@836 820eb932-12ee-0310-9ca8-eeb645f39767
    Revert [830] as it should have been applied on a branch
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@831 820eb932-12ee-0310-9ca8-eeb645f39767
    Started down the road to abstemious cache sweeping. Headline change is that
    adding/deleting comments and trackbacks no longer needs to rebuild the world
    
    Most of the magic happens in controllers/application.rb, which is responsible
    for creating PageCache entries and linking them appropriately.
    
    BlogSweeper then makes use of the extra information to do intelligent cache
    sweeping -- as time goes by, expect more intelligence to appear.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@830 820eb932-12ee-0310-9ca8-eeb645f39767
    Rolled back mistaken changes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@821 820eb932-12ee-0310-9ca8-eeb645f39767
     r819@Menhir:  pdcawley | 2006-01-06 10:15:08 +0000
     Getting order screen working again
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@820 820eb932-12ee-0310-9ca8-eeb645f39767
    Minor performance boost from skaes.  Every little factor of 4-5x helps.  Closes #513
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@756 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrade Typo to run with Rails 0.14.1 (AKA 1.0rc2)
    
    This required a few minor changes, and I took the opportunity to do a bit of
    refactoring that I'd been avoiding for a while--text filters no longer use
    render() to do their filtering.  That was broken with 1.0, and I've been
    meaning to fix it anyway.
    
    All tests now pass for me, but I haven't tested it extensively outside of
    the unit test system, so be careful.
    
    This may or may not work with 0.13.1--there's no reason why it shouldn't, but
    it's untested.  I'm going to include a few 1.0rc2-specific cleanups soon, so
    the days of the trunk working with 0.13.1 are numbered.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@685 820eb932-12ee-0310-9ca8-eeb645f39767
    BACK UP YOUR DATABASE BEFORE RUNNING THESE MIGRATIONS.  Merge pdcawley's big superclass patch.  This rolls articles, pages, comments, and trackbacks into one big table, using STI.  This lets us get rid of a huge amount of duplicated code; diffstat shows a net of -148 lines, and the resulting code looks cleaner.  Closes #414
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@660 820eb932-12ee-0310-9ca8-eeb645f39767
    Change Atom autodiscovery from Atom 0.3 to Atom 1.0.  Explicitly make RSS autodiscovery use RSS 2.0.  Add Atom autodiscovery tests.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@654 820eb932-12ee-0310-9ca8-eeb645f39767
    RSS autodiscovery changes:
    
     * Add Atom autodiscovery as well as RSS autodiscovery
     * Change which feed is autodiscovered depending on which page is being viewed, so
       trying to autodiscover on /articles/category/foo will find the category feed
       for 'foo', not the generic RSS feed.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@621 820eb932-12ee-0310-9ca8-eeb645f39767
    Unify Atom and RSS feed logic.  Add Atom 1.0.  Add per-category and per-tag feeds.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@601 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    Exclude pages with page\d+ in their path from being cached (temporarily closes #234, any other takes?)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@462 820eb932-12ee-0310-9ca8-eeb645f39767
    removed ugly theme_system.rb in favor of a proper Theme model
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@437 820eb932-12ee-0310-9ca8-eeb645f39767
    Hide caching errors.  (closes #206)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@434 820eb932-12ee-0310-9ca8-eeb645f39767
    another take on the theming system
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@418 820eb932-12ee-0310-9ca8-eeb645f39767
    Very basic theme support.  (closes #184)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@405 820eb932-12ee-0310-9ca8-eeb645f39767
    Code cleanups, migration to new sweeping system, fixes for new sweeping system
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@400 820eb932-12ee-0310-9ca8-eeb645f39767
    Add static pages.  Also fixes a caching bug (the new PageCache was broken due to :name/:page_name mix).  (closes #181)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@391 820eb932-12ee-0310-9ca8-eeb645f39767
    renamed the Cache model to PageCache to be more descriptive. Also added unit tests for PageCache
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@387 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds Cache model.  (closes #183)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@385 820eb932-12ee-0310-9ca8-eeb645f39767
    humongous refactoring of the config setup. It doesn't suck anymore!
    added that you can specify how many articles you want to show in rss and on the blog (seth@remor.com) closes #133
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@286 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed a bug that the configuration was only available after a web request was issuered to typo (scoop)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@113 820eb932-12ee-0310-9ca8-eeb645f39767
    removed config/config.yml, on first request you will be redirected to settings/install to enter the values. This page is currently not protected, need to come up with something
    before next release.
    Added categories to the right hand side
    Fixed the ordering of articles in the categories filtered view
    Added a config manager
    Adjusted html of live preview
    Created settings table
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@93 820eb932-12ee-0310-9ca8-eeb645f39767
    Added flickr support in style of tadalist support.
    Added really cool caching class which makes sure we only update tada/flickr once an
    hour
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@38 820eb932-12ee-0310-9ca8-eeb645f39767
    improved search and added public exception handling
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@16 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    I don't like controllers with empty indexes rendering errors
    Law of Demeter fix for User.profile.label.
    Replace deprecated filter_parameter_logging with config.filter_parameters.
    Use method.post? instead of comparing request.method.
    
    The use of request.method was broken since it does not return symbols
    anymore. Also, only the :post case was ever considered. So it's both a fix
    and a cleanup.
    Mass-removal of trailing whitespace.
    Silence deprecation warning.
    Adds a better setup, some things may need some refactoring (like moving generated password in the model, but can't make it without having specs failing)
    Adding a setup to typo blog. Will redirect user to the editor after first account creation
    Adding a recover password functionnality (better late than never huh ?
    Filtering passwords from log files
    Adds a link between default article and default category. Workaround to assign a user_id to the default article when creating the first user
    Fix testability of accounts controller
    
    Refactor time update code into user model from
    controller.
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    Fixes signup with password not displaying anymore
    Fixing a bug with login form
    Removing more dead code
    Adding a step to the registration process. Otherwise, some users won't get their password
    Users creation simplification. Users have now their password generated, and display name is set as login
    fix error with redirect to admin if already logged
    Ticket 42: when logged in and trying to access accounts/login, user should be redirected to admin/dashboard instead of having to log in again
    Mark auth_token cookie as :http_only
    
    An attacker who manages to capture the auth_token cookie can log into Typo
    without a password.  By marking the auth_token cookie as :http_only, we
    instruct modern browsers to restrict JavaScript access to the auth_token
    cookie (though some browsers ignore this instruction, and other browsers
    make the cookie available via XmlHttpRequest).
    Fixing onhover: Add typo_user_profile cookie (and fix auth_token)
    
    I'm trying to re-enable the [Edit], etc., links on posts and comments.
    These were implemented using JavaScript.  Originally, the JavaScript
    checked the is_admin cookie, which was removed when roles were added to
    Typo in fcbcefc16b149a7b5de16ed4ac75c9bb9cd79524.  This patch replaces the
    old is_admin cookie with a new typo_user_profile cookie indicating what
    type of account the user has.  The JavaScript portion of this new feature
    will be included in a future patch.
    
    Note that we also add code to clear the auth_token cookie on logout.
    Adding real page title on login / logout and signup pages
    Rejiged login and signup forms.
    Added 'remember me' functinnality (at last)
    Removed bookmarklet, will certainly come back in another form later
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1848 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    A few translation and labelisation tweaking
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1634 820eb932-12ee-0310-9ca8-eeb645f39767
    – Moving settings to a real settings controller
    – Splitting settings into different pages, a more sensible way
    – Removing old files
    – Fixing the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1611 820eb932-12ee-0310-9ca8-eeb645f39767
    Added user's dashboard.
    Enabled dashboard at login time.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1535 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweaked the login / logout form
    Now login redirects to the content/list
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1531 820eb932-12ee-0310-9ca8-eeb645f39767
    Switched to storing only the user_id in the session rather than the whole
    user.
    
    You know it makes sense :).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1516 820eb932-12ee-0310-9ca8-eeb645f39767
    More ports to Rspec
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1325 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix #813 - flash[] should be given a symbol, not a string
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1008 820eb932-12ee-0310-9ca8-eeb645f39767
    /admin/login now redirects to /admin/signup if no users exist
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@930 820eb932-12ee-0310-9ca8-eeb645f39767
    Do some shuffling of controller inheritance and move the theme helper method from application to content helper. This is to allow the admin migration redirection to work without ever touching the magic {{{this_blog}}} method which blows up if you are before migration 38.
    I tested a bunch of stuff after making these changes and everythign seems to work right, but pdcawley and slaird, I would rest easier if you could double-check that my controller inheritance changes are kosher.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@922 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Modified redirect to content instead of settings on login
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@647 820eb932-12ee-0310-9ca8-eeb645f39767
    Admin login now has its own layout and doesn't show the admin tabs. This looks more secure.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@436 820eb932-12ee-0310-9ca8-eeb645f39767
    Configurable sidebars.  (closes #157, #103)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@364 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge of of /branches/admin into mainline
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@361 820eb932-12ee-0310-9ca8-eeb645f39767
    Frontpage now decides weather to display admin links based on a cookie, comment form is prefilled from cookies by JS (Damien Pollet) closes #164, #165
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@344 820eb932-12ee-0310-9ca8-eeb645f39767
    follow rails style closely by using symbols where ever possible
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@310 820eb932-12ee-0310-9ca8-eeb645f39767
    style upgrade (@request = request, @params = params, @session = session)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@279 820eb932-12ee-0310-9ca8-eeb645f39767
     * Fixed the rest of the functional controller test failures for compatibility with Rails 0.13
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@278 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed broken redirect after install
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@275 820eb932-12ee-0310-9ca8-eeb645f39767
     * Disallow accounts/signup if a User exists, redirect to login action
     * More functional test work
     * Removed test_setup_after_signup since this is being tested in account_controller_test already
     * Moved and completed test_disable_signup_after_user_exists to account_controller_test, there's no signup actiion in ArticleController
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@177 820eb932-12ee-0310-9ca8-eeb645f39767
     * Refactoring of settings controller into admin/general controller
     * Fixed functional tests for admin interface
     * Authenticate backend services against user database (again) instead of old user/pass from configuration (fixes #27)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@176 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    No need to call layout "administration" in every controller as it is already called from the parent class and therefore inherits from it.
    
    Only exceptions: pages and content controller as they don't want to use this layout for autosave and preview.
    Doing some cleaning in the detroy process:
    – We don't need multiple destroy files when they all share the same code, excepted a message which can be defined from the controller name.
    – An old chinese master once told me "the earlier you return, the better it is", so I reverted the conditions in the destroy methods, which seems much more sensible now that I think about it.
    
    Please, guys, revert if you think using @record is going against all conventions (not sure about that one, and I don't have an internet access being stuck in the country in a frozen train because my beloved country is still unable to handle a wave of cold but it _really_ cleans the code, so I hope so).
    Replacing old will_paginate with scope based Kaminari.
    Fixing issue 42: user creation not working.
    
    When passing one of the new settings to the user, creation would break as Ruby did not create the settings object when accepting the params. Creating a user object then passing the params fixed it. Added 3 params to the specs to test this.
    Speed up specs by explicitely setting layout in each admin controller.
    setup_profiles should be private
    improve spec about edit user
    Move the user edition from the Admin::UserController to a Admin::ProfileController. Now the user creation / edition is part of the admin/settings and admins are the only one to edit them. It also fixes a huge security hole where any logged in user can create / delete users without the admin credential. Also removes a bunch of unnecessary hazardous conditions we didn't really need
    Adding an option to chose how many items to display in the admin
    Improving user's profile, adding fields for msn, aim, twitter... and a better display name. Avatar and dedicated pages will come later
    Added text filters back on pages nd articles forms, moved text filters to users instead of global configuration
    use current_user.admin? otherwise test with profile label
    optimise cache with sidebar in particulary
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes bug #1262 500 error if edit user without id
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1807 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes bug #1254
    Fixes a stupid bug that allows a normal user to change its profile
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1789 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes bug 1253: In AdminController::UserController method list, there are a twice render if you are not admin.
    
    Thx to Cyril Mougel for patching.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1785 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds filtering on edit / delete to content for non administrative users
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1754 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds login / password email at user's creation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1723 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    Some more admin enhancement
    Added typo:code stylesheet
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1688 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a deprecation but on sitemap.xml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1682 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Enables the users profiles
    Fix a bug breaking users editing
    Refactors the user list displays
    
    Next step is : add rights, link profiles to right (statically), links actions to rights and here we go for multiusers
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1489 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Commit #1064 - add articles list to view user page
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1192 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix issue where editing a user would put their password hash in the password field instead of leaving it blank
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@865 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
    Cleaned up user admin page and redirected to list view after creating a new user
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@421 820eb932-12ee-0310-9ca8-eeb645f39767
    follow rails style closely by using symbols where ever possible
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@310 820eb932-12ee-0310-9ca8-eeb645f39767
    style upgrade (@request = request, @params = params, @session = session)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@279 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing theme catalogue and mentions of Typogarden.
    
    Theme catalogue now returns a 404 and is not maintained anymore.
    We've lost typogarden.org (I actually forgot to renew it) and most themes were not supported anymore.
    
    We'll need to find a way to display themes, maybe using themes.typosphere.org with a statically cached blog, I need to think about this first.
    No need to call layout "administration" in every controller as it is already called from the parent class and therefore inherits from it.
    
    Only exceptions: pages and content controller as they don't want to use this layout for autosave and preview.
    Removing the theme editor, for now. It will probably come back under another form later.
    
    Theme editor was added for my own use, but it was actually never really usable. It didn't wipe cache, only allowed to edit CSS and layout, did not support drafts and did not have syntax highlighting. It will come back later as a major feature of a next release.
    
    Not wanted, poorly designed feature can only have 2 fates: being fixed or being dropped.
    Remove trailing whitespace.
    Fixes a bug making theme catalogue exploding when Typo does not have internet access or has DNS failure.
    Remove trailing whitespace.
    Improving theme editor both visually and functionnaly.
    Fixes a bad behavior not raising an error when trying to edit a nonexisting file.
    Makes the editor look alike the rest of the application.
    Adds specs to avoid bugs report because of File.read changes between 2 Ruby versions. With Ruby 1.8.6, you should use File.read(filename, r) while Ruby 1.8.7 only need File.read(filename).
    Fixing theme editor.
    Reduce complexity of editor method.
    Speed up specs by explicitely setting layout in each admin controller.
    Move theme layouts under their views directory.
    
    This way, we can specify the layout using a relative path, which will avoid
    looking for it in all plugins' view paths.
    Use method.post? instead of comparing request.method.
    
    The use of request.method was broken since it does not return symbols
    anymore. Also, only the :post case was ever considered. So it's both a fix
    and a cleanup.
    Mass-removal of trailing whitespace.
    Fixes a crash when changing to a theme having helpers if it was not loaded by default
    Pushing some usability changes
    add json like dependency. Not using it only when see theme catalogue
    change source of theme catalogue. Using Jwang type thme viewer
    Adding theme catalogue
    fix bug #1295. Now in production mode you can change theme without restart server
    optimise cache with sidebar in particulary
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes comments
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1732 820eb932-12ee-0310-9ca8-eeb645f39767
    Changes the theme manager page
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1721 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix theme not wiped when switching
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1639 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed them asset caching.
    
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1581 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing bugs in the theme editor, as well as a failing test
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1572 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Typo theme editor
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1569 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Add lightbox support as per ticket #651. However, the implementation varies slightly from the patch. The macro is the same, but the script/stylesheet includes are now done automatically whenever you use the {{{<typo:lightbox>}}} macro. This still requires themes to update themselves, but this update is more generalized, and is explained below.
    Textfilters are now passed a model object in addition to the controller object whenever the model object is known. Any custom textfilters will need to be updated. If you do use the model object be sure to check for nil.
    There is now a helper method to provide most of the contents of the {{{<head>}}} tag. Look at Azure for usage. This not only means update-once apply-everywhere, but it ties directly into the next change.
    Textfilters can now add includes to the header via the Content object's whiteboard. For that matter, anything with access to a whiteboard can do this, but it was intended primarily for textfilters. The mechanism for this is by adding a key to the whiteboard called {{{page_header_*}}} where * can be anything. The value of this key is inserted into the {{{<head>}}} tag. The headers of all the rendered content objects are coalesced so if, for example, 2 Articles declare the same includes it will only show up once in the {{{<head>}}} tag. This is a straight equality comparison so don't fall afoul of whitespace. For usage, check out the Lightbox textfilter.
    There are two primary benefits of this change. The first is that any addition, like a textfilter, that needs includes can add them without worrying about updating everybody's theme. Second, includes that aren't necessary will not show up. By this I mean the lightbox javascript/css includes will not show up in {{{<head>}}} unless a rendered Content object actually uses the {{{<typo:lightbox>}}} macro. We may want to consider moving the {{{<typo:code>}}} syntax coloration into a separate CSS file and adding it the same way.
    Also modify register_onload to use prototype's Event.observe - this works around not only a bug in Safari (I think), but also keeps themes like lush from interfering by setting body's onload directly in the layout. I recommend modifying any existing themes that need onload handlers to use register_onload() as well.
    Closes #651.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@848 820eb932-12ee-0310-9ca8-eeb645f39767
    BACK UP YOUR DATABASE BEFORE RUNNING THESE MIGRATIONS.  Merge pdcawley's big superclass patch.  This rolls articles, pages, comments, and trackbacks into one big table, using STI.  This lets us get rid of a huge amount of duplicated code; diffstat shows a net of -148 lines, and the resulting code looks cleaner.  Closes #414
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@660 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove doubled RAILS_ROOT in theme image.  (closes #213)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@442 820eb932-12ee-0310-9ca8-eeb645f39767
    removed ugly theme_system.rb in favor of a proper Theme model
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@437 820eb932-12ee-0310-9ca8-eeb645f39767
    Create new setting in ThemesController if a 'theme' setting doesn't already exist
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@427 820eb932-12ee-0310-9ca8-eeb645f39767
    stupid little admin interface for themes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@422 820eb932-12ee-0310-9ca8-eeb645f39767
    No need to call layout "administration" in every controller as it is already called from the parent class and therefore inherits from it.
    
    Only exceptions: pages and content controller as they don't want to use this layout for autosave and preview.
    Doing some cleaning in the detroy process:
    – We don't need multiple destroy files when they all share the same code, excepted a message which can be defined from the controller name.
    – An old chinese master once told me "the earlier you return, the better it is", so I reverted the conditions in the destroy methods, which seems much more sensible now that I think about it.
    
    Please, guys, revert if you think using @record is going against all conventions (not sure about that one, and I don't have an internet access being stuck in the country in a frozen train because my beloved country is still unable to handle a wave of cold but it _really_ cleans the code, so I hope so).
    Adds post types with admin management.
    
    Author can define multiple post types with associated templates. Default post type is 'read' so existing themes won't break.
    
    I didn't use Rails relational model on purpose as I wanted article to store the post type permalink. This will make theme helpers such as menu helpers easier to write. Maybe there's a cleaner way to do it though.
    No need to call layout "administration" in every controller as it is already called from the parent class and therefore inherits from it.
    
    Only exceptions: pages and content controller as they don't want to use this layout for autosave and preview.
    Adds customizable 404 pages with optionnal messages in the admin. Next: 500
    Cleaning old code.
    
    This one now belongs to admin/seo
    Simplify render in controllers (Rails Best Practice).
    fix spec failure on controller. Clean settings update and category controller fixture and code
    Moving admin/settings/seo to the new admin/seo controller.
    Speed up specs by explicitely setting layout in each admin controller.
    Remove unused read action from Admin::SettingsController.
    For some reasons I had moved everything from the read action into the general settings and didn't remove neither the method nor the test. rspec2 raised an error onmissing template rspec1 didn't
    Removing deprecated RAILS_ROOT
    Mass-removal of trailing whitespace.
    Rewrite settings, fixes a bug with checkbox since the upgrade to rails 2.3.3, and limits the risk for errors
    add validation of permalink_format with good format. Failed if bad format
    Adding configurable robots.txt in settings
    optimise cache with sidebar in particulary
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Enables in admin database migration back, gets rid of the old pre 4.1 general controller, sets the CHANGELOG for 5.1.3.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1797 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing a lang issue, fixing attachment issues in posts
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1731 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a deprecation but on sitemap.xml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1682 820eb932-12ee-0310-9ca8-eeb645f39767
    – Moving settings to a real settings controller
    – Splitting settings into different pages, a more sensible way
    – Removing old files
    – Fixing the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1611 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing typo 5.0 stable release w00t
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1600 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few bugs
    Adds patch 1168
    Adds patch 1165
    Closes ticket 1166
    Closes ticket 1164
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1587 820eb932-12ee-0310-9ca8-eeb645f39767
    Cache sweeping successfully sweeps pages now. Page caching no longer touches the database
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1583 820eb932-12ee-0310-9ca8-eeb645f39767
    Language is now set from the admin pannel and not from environment.rb anymore
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1560 820eb932-12ee-0310-9ca8-eeb645f39767
    Added deprecation warning for plugins removal. Smells like release is close isn't it ?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1437 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    More 4.1 cleanups.  Complete move from serialized canonical_server_url to non-serialized base_url.
    Add a bunch of rdoc.  More deprecations and cleanups.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1242 820eb932-12ee-0310-9ca8-eeb645f39767
    A bit of multi-blog code.  It doesn't work yet.  via GPRS :-).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1240 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Web notifications (trackbacks, pingbacks that stuff) are now triggered from
    the WebNotifier content observer.
    
    Note that we've now added a new setting to Blog 'default_server_url' as a
    fallback for finding the blog's base url. If you're experiencing problems
    (I don't think you should be, it's only currently an issue in the tests and
    our blog fixtures has an appropriate url set), go to your /admin page and
    set the default url there (it should pick up a sensible default, so you can
    just check that for sanity and hit save if you like).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1046 820eb932-12ee-0310-9ca8-eeb645f39767
    Introduce a new pseudo-action for admin/general so we can tell the user to save settings if ! this_blog.is_ok?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@933 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Closes #231 U.I. changes and cleanup up redundant screens.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@498 820eb932-12ee-0310-9ca8-eeb645f39767
    stupid little admin interface for themes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@422 820eb932-12ee-0310-9ca8-eeb645f39767
    moved the migration code to lib/migrator.rb and disabled auto migration redirect during test mode to give test cases a break
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@410 820eb932-12ee-0310-9ca8-eeb645f39767
    When there are unapplied migrations available you will be taken to a update schema page in the admin interface.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@407 820eb932-12ee-0310-9ca8-eeb645f39767
    humongous refactoring of the config setup. It doesn't suck anymore!
    added that you can specify how many articles you want to show in rss and on the blog (seth@remor.com) closes #133
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@286 820eb932-12ee-0310-9ca8-eeb645f39767
    style upgrade (@request = request, @params = params, @session = session)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@279 820eb932-12ee-0310-9ca8-eeb645f39767
     * Added global configuration setting for the text_filter to use [bousquet]
     * Inherit allow_pings/allow_comments/text_filter settings from the configuration globals when creating new articles through the web admin [bousquet] (fixes #62, #63)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@220 820eb932-12ee-0310-9ca8-eeb645f39767
     * Merged spamprot branch containing DNSRBL blocking, URL count limit, old article auto-close (refs #25)
       MISSING: Moderation options instead of flat out blocking, bayes based blocking, web-interface for blacklist items, auto-close indication
     * Minor fixes from spamprot branch:
       * No more escaping of article titles in articles/_read.rhtml
       * Proper sorting for delicious partial
       * Better semantics for sidebar boxes
    
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@178 820eb932-12ee-0310-9ca8-eeb645f39767
     * Refactoring of settings controller into admin/general controller
     * Fixed functional tests for admin interface
     * Authenticate backend services against user database (again) instead of old user/pass from configuration (fixes #27)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@176 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix for stupid mistake tobi pointed out.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@142 820eb932-12ee-0310-9ca8-eeb645f39767
    Revised fix that closed ticket #30
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@141 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix for ticket #30
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@140 820eb932-12ee-0310-9ca8-eeb645f39767
    removed config/config.yml, on first request you will be redirected to settings/install to enter the values. This page is currently not protected, need to come up with something
    before next release.
    Added categories to the right hand side
    Fixed the ordering of articles in the categories filtered view
    Added a config manager
    Adjusted html of live preview
    Created settings table
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@93 820eb932-12ee-0310-9ca8-eeb645f39767
    No need to call layout "administration" in every controller as it is already called from the parent class and therefore inherits from it.
    
    Only exceptions: pages and content controller as they don't want to use this layout for autosave and preview.
    Speed up specs by explicitely setting layout in each admin controller.
    Removing useless textfilters setting in the admin, adding macro help in the editor when editor is not FCK
    optimise cache with sidebar in particulary
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a rendering bug in default theme in IE6
    Fixes an admin bug to access textfilters
    Unifies text filter admin with the rest of the back office
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1760 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Allow textfilter plugins to provide an :options array for the default_config which gets translated into a dropdown menu
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1289 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix various dependency issues
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@961 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Commit patch for #715 - fixes adding/editing textfilters with no postprocess filters
    I can't actually test the new functional tests as sqlite3 barfs on them, so somebody not using sqlite3 should run the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@881 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    No need to call layout "administration" in every controller as it is already called from the parent class and therefore inherits from it.
    
    Only exceptions: pages and content controller as they don't want to use this layout for autosave and preview.
    Speed up specs by explicitely setting layout in each admin controller.
    Mass-removal of trailing whitespace.
    Better profile edit display, user edit, user listing
    Fix redirect to work with sub-urls.
    If anyone knows how to adjust the specs so this gets tested
    throughout the application, please! do so ...
    Move the user edition from the Admin::UserController to a Admin::ProfileController. Now the user creation / edition is part of the admin/settings and admins are the only one to edit them. It also fixes a huge security hole where any logged in user can create / delete users without the admin credential. Also removes a bunch of unnecessary hazardous conditions we didn't really need
    optimise cache with sidebar in particulary
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    adding a bit of multi users this and that
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1472 820eb932-12ee-0310-9ca8-eeb645f39767
    No need to call layout "administration" in every controller as it is already called from the parent class and therefore inherits from it.
    
    Only exceptions: pages and content controller as they don't want to use this layout for autosave and preview.
    Remove trailing whitespace.
    Fix typo.
    Fix deprecation warning.
    Fixes a deprecation warning.
    
    DEPRECATION WARNING: Calling a method in Rails::Application is deprecated, please call it directly in your application constant TypoBlog::Application.
    Adding an interface to control cache sweeping
    Removing dead code
    Some cache refactoring, removing dead or useless code
    Removing old caches_actions_with params, caches_page is enough, less ressource consumming and much better
    optimise cache with sidebar in particulary
    Some admin cleaning :\n
    – removing admin for cache sweeping since no one knew it existed.\n
    – removing preview for articles and pages since they have been replaced long ago.\n
    – confirmation pop up for everything instead of going to destroy page. Destroy page has been kept for accessibility purpose.\n
    – Comments.new template removed since it's now on the comments list\n
    – Trackbacks.new admin removed : building a trackback on your own blog is a nonsense.\n
    Some more images cleaining.\n
    Removed unused tests.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1728 820eb932-12ee-0310-9ca8-eeb645f39767
    – Moving settings to a real settings controller
    – Splitting settings into different pages, a more sensible way
    – Removing old files
    – Fixing the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1611 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few bugs
    Adds patch 1168
    Adds patch 1165
    Closes ticket 1166
    Closes ticket 1164
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1587 820eb932-12ee-0310-9ca8-eeb645f39767
    Cache sweeping successfully sweeps pages now. Page caching no longer touches the database
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1583 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Standardize on flash[:notice]. Fixes #662
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@891 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds the time-limited action cache discussed on
    http://scottstuff.net/blog/articles/2006/01/20/time-limited-caching-for-rails
    to Typo.  This includes a new fragment cache plugin that allows individual items
    to expire from the cache after a certain deadline, and a replacement for the
    action cache that fixes a few action cache bugs (query param handling and error
    caching) and adds simple support for limiting the lifespan of cached pages.
    
    To add a limited lifespan to any page, just set response.lifetime in any controller
    or component.  See the Flickr sidebar for an example--right now, any Typo page
    that includes the Flickr sidebar will only be cached for 1 hour.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@852 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved body_html and friends from push to pull.  See http://scottstuff.net/blog/articles/2005/09/04/push-me-pull-me
    for details.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@622 820eb932-12ee-0310-9ca8-eeb645f39767
    Closes #231 U.I. changes and cleanup up redundant screens.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@498 820eb932-12ee-0310-9ca8-eeb645f39767
    Add cache admin tab.  Revert database.yml screwup.  (closes #172)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@455 820eb932-12ee-0310-9ca8-eeb645f39767
    No need to call layout "administration" in every controller as it is already called from the parent class and therefore inherits from it.
    
    Only exceptions: pages and content controller as they don't want to use this layout for autosave and preview.
    Doing some cleaning in the detroy process:
    – We don't need multiple destroy files when they all share the same code, excepted a message which can be defined from the controller name.
    – An old chinese master once told me "the earlier you return, the better it is", so I reverted the conditions in the destroy methods, which seems much more sensible now that I think about it.
    
    Please, guys, revert if you think using @record is going against all conventions (not sure about that one, and I don't have an internet access being stuck in the country in a frozen train because my beloved country is still unable to handle a wave of cold but it _really_ cleans the code, so I hope so).
    Replacing old will_paginate with scope based Kaminari.
    add scope to resource and use them when it's possible
    Fixes a bug where attachment thumbnails would not be created at upload from the editor and API.
    
    Moving the thumbnail creation from the controller to the object creation seems more logical and does the trick.
    Removing the ability for end users to edit uploaded files mime type.
    
    First, this is a usability heresis. End users should not have to deal with mime types, and the application takes care of it from them.
    Second, we never use it anywhere. Since files are directly served by the Web server, having it there is useless
    Merges both files and resources view in the admin, first step to a (much) better file upload thing
    Speed up specs by explicitely setting layout in each admin controller.
    Use method.post? instead of comparing request.method.
    
    The use of request.method was broken since it does not return symbols
    anymore. Also, only the :post case was ever considered. So it's both a fix
    and a cleanup.
    Mass-removal of trailing whitespace.
    Dropping iTunes metadata support. They will probably come back in the futur as a plugin
    Fixing issue #155 After deleting an image file the files page is loaded
    Adds a batter media library, with carousel + Ajax fetch of next elements. Got a strange behavior after ajax loading, but I'll need some help at that point
    Adds a first draft for Typo images library
    A bit of file upload refactoring. Having a separate screen to upload is stupid. Next: switch to paperclip but ensure backward compatibility
    Adding an option to chose how many items to display in the admin
    in resource if no content-type return by browser, fix to text/plain
    optimise cache with sidebar in particulary
    Fixing text filter settings
    Fixing resources index
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few bugs
    Adds patch 1168
    Adds patch 1165
    Closes ticket 1166
    Closes ticket 1164
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1587 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds pagination to resources
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1582 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Add ability to edit Content Type of existing resources.
    Fix add/edit metadata so all ids are now unique and the labels have the proper for attribute.
    Remove odd hidden duplicate Explicit input in metadata.
    Properly HTML-escape various fields in the resources list.
    Fix iTunes categories list to remove entity-escaping in internal list and instead only escape on display.
    Fixes #554, #423
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@840 820eb932-12ee-0310-9ca8-eeb645f39767
     r740@Menhir:  pdcawley | 2005-12-08 00:54:14 +0000
     Fixed an embarrassing problem with ArticlesController.include_protected that
     meant some tests failed. I could have sworn I ran them before checkin, but
     apparently not.
    
     Also made boolean handling more consistent (for the known booleans in the
     schema, I shall be attacking the unknown ones later). For the record, booleans
     are set with 'object.boolean_attrib = true/false' and queried with
     'object.boolean_attrib?'. You should not use the '?' form, and you should
     also strive to name boolean attribs so that it's obvious they are booleans.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@787 820eb932-12ee-0310-9ca8-eeb645f39767
    Podcasting, thanks to bingeldac (Grant Schofield).  This also reverts the previous two patches--it's possible that migrations are broken, but that's better then everything else being broken.  There are a few things that I'd like to change here, but by and large it works.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@752 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove useless method indirection.
    Mass-removal of trailing whitespace.
    remove the admin module definition in base_controller
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Some editor refactoring, it really needed it after yesterday's change.
    
    I've made a migration to make User.editor manipulation easier (simple / visual is better than 0,2). That allowed me to ditch lot of duplicate code. Cool.
    Saving the user's default editor when switching from editor
    Some cache refactoring, removing dead or useless code
    Removing old caches_actions_with params, caches_page is enough, less ressource consumming and much better
    optimise cache with sidebar in particulary
    Enables in admin database migration back, gets rid of the old pre 4.1 general controller, sets the CHANGELOG for 5.1.3.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1797 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes crash due to uncreated session after adding forgery reqest protection removing the deprecation warning on plugins. It's enough now. fixing some css issue on the new default theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1743 820eb932-12ee-0310-9ca8-eeb645f39767
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing typo 5.0 stable release w00t
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1600 820eb932-12ee-0310-9ca8-eeb645f39767
    Makes some change on the tinymce support
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1594 820eb932-12ee-0310-9ca8-eeb645f39767
    More tweaks. Removed the useless include_protected method
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1524 820eb932-12ee-0310-9ca8-eeb645f39767
    Showed the tests some love.
    
    We've had to turn use_transactional_fixtures off because it was
    making tests fail, and I have no clue why at present. Something
    we're doing seems to be confusing Rails.
    
    Also, I've eliminated assert_xpath and get_xpath from our tests
    in favour of an assert_select workaround suggested by Jamis Buck
    on his blog somewhere. Which is nice.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1436 820eb932-12ee-0310-9ca8-eeb645f39767
    fix a stupid typo and add more functionnalities in the rich editor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1406 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix warnings about spacing before arguments
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1402 820eb932-12ee-0310-9ca8-eeb645f39767
    Managed to make Jabber work... at last
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1401 820eb932-12ee-0310-9ca8-eeb645f39767
    – Added Rich visual editor in the admin
    – Updated the settings to add the choice between :
            – visual text editor
            – simple text editor + live preview
            – simple text editor without live preview (the live preview is cool but overloads the servers with constant requests on articles)
    – Corrected a few things
    
    Simple editor + live preview is enabled by default
    
    I plan to let users choose their editor in the second time, and enable different visual editors according to personnal users settings. This will be useful when we go multiusers
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1398 820eb932-12ee-0310-9ca8-eeb645f39767
    Sing, muse the joy of pdcawley as he puts the monstrosity {{{article_url}}} and
    all its spawn to his sure swift sword and casts the tiny pieces down, down,
    ye even unto the very depths of The Pit.
    
    Bear witness as {{{Content#full_html}}} returns to the fray, trailing clouds of
    glory, renewing the vigour of old themes left withering in the TypoGarden.
    
    For, verily, I have returned the sensible API to its rightful place.
    
    (Oh, and if you ''must'' use them, {{{article_url}}} et al. will continue to work
    for the forseeable future, but I will insist on treating them like red headed
    stepchildren.)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1004 820eb932-12ee-0310-9ca8-eeb645f39767
    Do some shuffling of controller inheritance and move the theme helper method from application to content helper. This is to allow the admin migration redirection to work without ever touching the magic {{{this_blog}}} method which blows up if you are before migration 38.
    I tested a bunch of stuff after making these changes and everythign seems to work right, but pdcawley and slaird, I would rest easier if you could double-check that my controller inheritance changes are kosher.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@922 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Sweep the cache if a category record is changed. (closes #171)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@411 820eb932-12ee-0310-9ca8-eeb645f39767
    moved the migration code to lib/migrator.rb and disabled auto migration redirect during test mode to give test cases a break
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@410 820eb932-12ee-0310-9ca8-eeb645f39767
    don't redirect to migration before user is logged in
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@408 820eb932-12ee-0310-9ca8-eeb645f39767
    When there are unapplied migrations available you will be taken to a update schema page in the admin interface.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@407 820eb932-12ee-0310-9ca8-eeb645f39767
     * Fixed AccountController#signup to no longer require authentication
     * Made passing of categories in Admin::ContentController#edit and #new optional
     * Fixed sidebars migration by fixing a typo (pun!) and explicitely require application.rb to make the ApplicationController class available to the SidebarController inheritance
     * Removed the category partial tests from ArticleControllerTests since this partial no longer exists now that we have sidebars
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@366 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge of of /branches/admin into mainline
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@361 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    No need to call layout "administration" in every controller as it is already called from the parent class and therefore inherits from it.
    
    Only exceptions: pages and content controller as they don't want to use this layout for autosave and preview.
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Changes permalinks form destination and Seo#permalinks behavior for further devs (further meaning now)
    Adding permalinks SEO tab.
    
    Fixes a bug where SEO params would never be saved.
    Remove trailing whitespace.
    fix spec failure on controller. Clean settings update and category controller fixture and code
    Moving admin/settings/seo to the new admin/seo controller.
    Merging latest version of typo
    No need to call layout "administration" in every controller as it is already called from the parent class and therefore inherits from it.
    
    Only exceptions: pages and content controller as they don't want to use this layout for autosave and preview.
    Doing some cleaning in the detroy process:
    – We don't need multiple destroy files when they all share the same code, excepted a message which can be defined from the controller name.
    – An old chinese master once told me "the earlier you return, the better it is", so I reverted the conditions in the destroy methods, which seems much more sensible now that I think about it.
    
    Please, guys, revert if you think using @record is going against all conventions (not sure about that one, and I don't have an internet access being stuck in the country in a frozen train because my beloved country is still unable to handle a wave of cold but it _really_ cleans the code, so I hope so).
    Removing useless Javascript based category reorder interface. Categories will now be ordered by name, which looks like the most likely way to do it. This is a first step to sub categories as the order interface prevented from having them.
    
    Helpers will probably come later to chose the way people want the categories to be displayed.
    Add Category creation on Content creation page (UJS way). Induced some refactorisation in Categories views and model
    Remove user fixture usage
    Simplify render in controllers (Rails Best Practice).
    Merging categories listing and creation form.
    
    Neither of them are wide enough to justify being on a single page. Having the category listing on the same page as the form improves readability when adding and managing categories.
    Speed up specs by explicitely setting layout in each admin controller.
    Mass-removal of trailing whitespace.
    Removing useless code: parent_id is always nil so far (we haven't implemented sub categories) and order is defined in the model default scope
    optimise cache with sidebar in particulary
    Fixing category controller
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1854 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding subcategories
    Giving Typo some SEO capabilities
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1849 820eb932-12ee-0310-9ca8-eeb645f39767
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few bugs
    Adds patch 1168
    Adds patch 1165
    Closes ticket 1166
    Closes ticket 1164
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1587 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    A possible fix for #833. Even it doesn't fix it, it can't hurt
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1032 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Made categories drag'n'drop sortable in category admin, also provides a quick and easy way to one-click sort them alphabetically (closes #308) [atmos]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@564 820eb932-12ee-0310-9ca8-eeb645f39767
     * Fixed render_flash (apparently didn't work at all previously because of a .downcase error), added flash[:error] handling
     * Properly redirect back to the list action if adding a category fails, placing an error message into the flash (closes #317)
     * Added name of category to be deleted to CategoryController#destroy
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@558 820eb932-12ee-0310-9ca8-eeb645f39767
    after creating a category you are taken back to the category listing instead of the detail view (robbyonrails)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@383 820eb932-12ee-0310-9ca8-eeb645f39767
    follow rails style closely by using symbols where ever possible
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@310 820eb932-12ee-0310-9ca8-eeb645f39767
    Categories are now sorted by name (scott@sigkill.org) closes #136
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@288 820eb932-12ee-0310-9ca8-eeb645f39767
    style upgrade (@request = request, @params = params, @session = session)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@279 820eb932-12ee-0310-9ca8-eeb645f39767
    added categories admin. fixes #20
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@210 820eb932-12ee-0310-9ca8-eeb645f39767
    No need to call layout "administration" in every controller as it is already called from the parent class and therefore inherits from it.
    
    Only exceptions: pages and content controller as they don't want to use this layout for autosave and preview.
    use named scope for selecting published articles
    Fixes dashboard taking ages to load.
    
    The query to load a RSS feed from google was not correct anymore which caused a timeout in processing the feed.
    Remove trailing whitespace.
    Fixes Typo versio checker. How could this have ever worked provided it was checking if available was less than installed version?
    Adding a version checking.
    When displaying dashboard, typo will check for the latest release and will display a message accordingly:
    * A notice if Typo's just a minor version behind.
    * A warning if Typo's a sub version behind.
    * An error message if Typo's a major version behind
    Improves the dashboard usability and lisibility.
    
    Adds links to the various part of admin targeted by contents and feedback overview.
    Improves listing display.
    Adds articles summaries and time information where they were missing.
    Adds comments moderation directly within the dashboard.
    Adds the number of posts from Typo blog.
    Fixes the date display where getting information from RSS.
    Improving dashboard adding some figures about spam
    Speed up specs by explicitely setting layout in each admin controller.
    Mass-removal of trailing whitespace.
    Fixes dashboard counting incoherences: when counting my posts, there should not be unpublished posts [#180 state:resolved]
    Forgot something with the dashboard
    Count only comment like presumed ham and ham in popular article
    add rescue on inbound and typo_links in dashboard if you haven't internet connection
    Adding last news from typo blog and last inbound links to dashboard
    Revert "Finishing Coderay integration"
    
    This reverts commit deb30cbde9448d2028050c70a7f60f0178e3017c.
    Finishing Coderay integration
    Introducing new dashboard.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1684 820eb932-12ee-0310-9ca8-eeb645f39767
    Strips accentuated characters from articles permalinks (useful for people like me heh).
    
    Fixes bug 1150 (thank you Nertzy, you're the one)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1543 820eb932-12ee-0310-9ca8-eeb645f39767
    Added user's dashboard.
    Enabled dashboard at login time.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1535 820eb932-12ee-0310-9ca8-eeb645f39767
    No need to call layout "administration" in every controller as it is already called from the parent class and therefore inherits from it.
    
    Only exceptions: pages and content controller as they don't want to use this layout for autosave and preview.
    Avoid confusion between @feedback and @record.
    Doing some cleaning in the detroy process:
    – We don't need multiple destroy files when they all share the same code, excepted a message which can be defined from the controller name.
    – An old chinese master once told me "the earlier you return, the better it is", so I reverted the conditions in the destroy methods, which seems much more sensible now that I think about it.
    
    Please, guys, revert if you think using @record is going against all conventions (not sure about that one, and I don't have an internet access being stuck in the country in a frozen train because my beloved country is still unable to handle a wave of cold but it _really_ cleans the code, so I hope so).
    Replacing old will_paginate with scope based Kaminari.
    Porting the comments view to Bootstrap
    in the way to removing user spec...
    fix spec errors about fixtures...
    Remove trailing whitespace.
    Improves the dashboard usability and lisibility.
    
    Adds links to the various part of admin targeted by contents and feedback overview.
    Improves listing display.
    Adds articles summaries and time information where they were missing.
    Adds comments moderation directly within the dashboard.
    Adds the number of posts from Typo blog.
    Fixes the date display where getting information from RSS.
    Speed up specs by explicitely setting layout in each admin controller.
    Makes comment filtering (and thus spam / ham checking) a bit more usable.
    
    I can't clearly remember why I dropped the presumed ham / spam view, maybe for simplification but that was definitely a very bad idea.
    remove contents fixtures, clean models and start controllers
    Fixes feedback destroy. Not satisfying, but :method and :confirm don't work on link_to on Rails3. Will probably switch to AJAX someday on the whole app
    Mass-removal of trailing whitespace.
    Redesign all the comment moderation and listing in admin. Makes both global and per article view the same. Adds some per comments action. Adds for toolbar to the comment editor. [#184 state:resolved] [#135 state:resolved]
    Fixes the destroy link in admin/feedback by moving delete method to destroy (and adding consistency)
    Fixes ticket 166 'Delete all spam' deletes unconfirmed comments
    Fixes a nasty security vuln. Thx to Tie Fighter for noticing it
    Fixes a bug with pgsql
    fix bulk feedback checkbox bug caused by change in processing order
    Adding an option to chose how many items to display in the admin
    fix bug #76 which not delete all spam with postgresql database
    Ticket 43: when a commenter is logged in, his user_id should be added to the comment (useful to count a user's comment) both on admin and frontend)
    Removing old caches_actions_with params, caches_page is enough, less ressource consumming and much better
    Adding a delete all spam button
    add security where a publisher can't delete feedback to article not own. Spec write with it
    redirect to list of comment from article if you delete comment from this page. Fixed #1290
    optimise cache with sidebar in particulary
    A bit of feedback revamping
    add update comment by admin
    add restrict right to edit comment if user is publisher and it's not own article
    add edit page of comment
    add creation of comment by admin/feedback, with spec
    add filter of comment in view of articles's comment
    add limit view to only Ham in feedback list
    light admin/feedback controller
    fix a possibility of SQLInjection
    fix pagination error in comment index if params[:page] empty. Use case after a bulkops in default page
    Fixing the comments list. Did I forget to commit it sooner ???
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few bugs
    Adds patch 1168
    Adds patch 1165
    Closes ticket 1166
    Closes ticket 1164
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1587 820eb932-12ee-0310-9ca8-eeb645f39767
    Cache sweeping successfully sweeps pages now. Page caching no longer touches the database
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1583 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing another silly oops
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1513 820eb932-12ee-0310-9ca8-eeb645f39767
    Much footling with the feedback state machine and various
    caching related things.
    
    I ''think'' cache sweeping should now be happening in all the
    right places, while being reasonably light on the CPU and memory.
    
    If you do come across cases where the cache isn't being emptied
    when it should, please let me know <pdcawley-typo@bofh.org.uk>
    or raise a ticket here and we'll look into it.
    
    Also, we've reinstated fragment caching; page caching comes with
    a whole host of gotchas that I'd rather not think about just now.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1511 820eb932-12ee-0310-9ca8-eeb645f39767
    First step on a long needed refactoring. We're splitting the contents table into
    two. We now have a contents table, which contains Pages and Articles, and a
    Feedback table, which contains Comments and Trackbacks. There's still a bunch of
    null columns in each table, and the indexing needs tweaking, but it's a start.
    
    NB: The migration is untested on anything but my Mysql installation and if it
    goes wrong you stand to lose all your feedback. So take a backup before you
    try it. The Migration itself throws an exception by default to remind you to do the
    backup. Comment it out once you're safe (or brave/foolhardy).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1302 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Added some filtering to the feedback page. You can now limit the listing to get rid
    of articles whose classification you have confirmed as well as a simple spam/ham
    filter.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1218 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove debugging code and add cache sweep to feedback page.  Closes #1060
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1196 820eb932-12ee-0310-9ca8-eeb645f39767
    Big changes to the state engine for feedback. Feedback now starts off
    in the 'Unclassified' state and moves to either JustPresumedHam or
    PresumedSpam depending on the results of Feedback#classify (the various Just*
    states are there as one shot states to handle sending of notifications or
    registering of spam/ham classification with akismet). JustPresumedHam
    decays to PresumedHam as soon as the feedback has been saved and the
    notifications sent.
    
    And there they rest until the classifications are solidified by the blog
    administrator on the feedback page. Feedback ends up as either Spam or Ham
    with an intermediate 'JustMarkedAs*' step for registering with Akismet.
    
    It should be possible to do some useful filtering on the feedback page
    (for instance, only see those messages whose classification hasn't been
    confirmed), but for that we need to add a couple of boolean fields to the
    contents table.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1188 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix SQL so it works with sqlite
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1180 820eb932-12ee-0310-9ca8-eeb645f39767
    Added a Feedback class, inherits from Content and is inherited by Comment and Trackback.
    Currently it does nothing, but we shall be pulling methods up into it (and pushing 'em
    down from Content in all probability)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1169 820eb932-12ee-0310-9ca8-eeb645f39767
    Big spam filtering upgrade.
    
    This turns on Akismet filtering for all incoming comments and trackbacks.
    Comments (and trackbacks) that fail the spam check are marked as unpublished
    and can be deleted via the admin feedback page.
    
    In addition, the feedback page's publish/unpublish buttons now send feedback
    to Akismet (when enabled, of course).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1148 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on the feedback page.  Seems useful now--we have bulk delete and publish/unpublish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1135 820eb932-12ee-0310-9ca8-eeb645f39767
    Spam protection, step 1: add an admin page ('Feedback') that lists all trackbacks and comments, and allows deleting.  I still need to add bulk deleting, and them move on to better filtering.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1132 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes permalink not being correctly updated when updating a permalink. closes #62
    
    The old behavior was rather buggy as it created a new redirect everytime an article or page permalink was updated. This shortened URL was never displayed because we only called the first redirect instead of the last one.
    
    This commit:
    
    * Fixes existing old shortened URL showing when multiple shorten URLS exist
    * Fixes this behavior by updating the existing shortened URL when a published article or page permalink is updated
    * Moves the shortened URL creation from controller to model
    * Removes duplicate code between admin/content_controller and admin/page_controller
    * Adds specs as this part was never tested before
    * Tells a story about a young farm boy, a princess called Buttercup (silly name if you want my opinion), true love and high adventure, pirates, princess, giants, miracles, fencing, and rodents of unusual size.
    Moves permalink sanitization to String with a new to_permalink method.
    
    Refactores existing code to remove duplicate code entries and not needed mthods when building the permalink from the model.
    Get behind me, Satan!
    Doing some cleaning in the detroy process:
    – We don't need multiple destroy files when they all share the same code, excepted a message which can be defined from the controller name.
    – An old chinese master once told me "the earlier you return, the better it is", so I reverted the conditions in the destroy methods, which seems much more sensible now that I think about it.
    
    Please, guys, revert if you think using @record is going against all conventions (not sure about that one, and I don't have an internet access being stuck in the country in a frozen train because my beloved country is still unable to handle a wave of cold but it _really_ cleans the code, so I hope so).
    Replacing old will_paginate with scope based Kaminari.
    add test on insert_editor action on admin page_controller
    clean around text_filter (spec)
    create a Satanizable module, remove duplication about clean accents (by move method in satanizable)...
    Removing old, unused code since we're now using content#preview
    Ensure editor selection works even with a bogus user.
    
    This was discovered when working on user migration to the ConfigManager system
    Remove trailing whitespace.
    Adding an embedded URL shortener. Every page and article gets its shortened URL with a 301 (permanent) redirect. Shortened URL is available to published_content only and is displayed within the administration.
    Initial migration adds shortened URL for existing content.
    
    The set_shortened_url method is duplicated in both conte t and page controller. It should probably move to the content model, not sure about that. Also adding some specs, which makes me think that pages should be rewriten from (almost) scratch.
    Add coding comment for non-ascii files.
    
    Part of the Ruby 1.9 compatibility effort.
    Mass-removal of trailing whitespace.
    Fixes ticket 178 and make specs pass. Ugly fix, but the carousel doesn't work either yet, so I'll fix both of them at the same time.
    Adding image browsing to static pages as well
    error in index page if params[:page] send [state:fixed #118]
    Adding an option to chose how many items to display in the admin
    Some editor refactoring, it really needed it after yesterday's change.
    
    I've made a migration to make User.editor manipulation easier (simple / visual is better than 0,2). That allowed me to ditch lot of duplicate code. Cool.
    Adding editor switching to pages. This needs a few refactoring and tests too
    Added text filters back on pages nd articles forms, moved text filters to users instead of global configuration
    factorisation of page search in admin part like content search
    Removing useless textfilters setting in the admin, adding macro help in the editor when editor is not FCK
    optimise cache with sidebar in particulary
    Adding subcategories
    Giving Typo some SEO capabilities
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1849 820eb932-12ee-0310-9ca8-eeb645f39767
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing a bug which prevented pages having multiple / in them to be displayed
    Fixing a bug that would redirect page creation to show instead of list
    Removing link to preview on unpublished page and articles unless I find a better solution for this.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1750 820eb932-12ee-0310-9ca8-eeb645f39767
    Cleaning images, fixing migration bugs, adding new logo
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1726 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a couple of bugs, closing ticket 1224
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1694 820eb932-12ee-0310-9ca8-eeb645f39767
    Some more admin enhancement
    Added typo:code stylesheet
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1688 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix a bug with forgotten parent_id
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1687 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied some optimization "guerilla" patches and tightened up the order sanitization regexes.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1631 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Another bit of admin tweaking :
    
    – Added by column sorting on posts and pages admin (always useful)
    – Revamped the categories/show/id to look like the contents/list and
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1544 820eb932-12ee-0310-9ca8-eeb645f39767
    Switched to storing only the user_id in the session rather than the whole
    user.
    
    You know it makes sense :).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1516 820eb932-12ee-0310-9ca8-eeb645f39767
    DRY up the pages editing as well.
    Also introduce the new iframe technique used by article previews
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1335 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Various refactorings
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1033 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    BACK UP YOUR DATABASE BEFORE RUNNING THESE MIGRATIONS.  Merge pdcawley's big superclass patch.  This rolls articles, pages, comments, and trackbacks into one big table, using STI.  This lets us get rid of a huge amount of duplicated code; diffstat shows a net of -148 lines, and the resulting code looks cleaner.  Closes #414
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@660 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved body_html and friends from push to pull.  See http://scottstuff.net/blog/articles/2005/09/04/push-me-pull-me
    for details.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@622 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed Admin::PagesController to call filter_text_by_name correctly (also moved into an update_html controller method), added functional tests (closes #358)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@580 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    Swap out field observers in article and pages creation/editing forms for a single form observer (fixes #230)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@461 820eb932-12ee-0310-9ca8-eeb645f39767
    Don't render Admin::PagesController with theme_layout
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@423 820eb932-12ee-0310-9ca8-eeb645f39767
    another take on the theming system
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@418 820eb932-12ee-0310-9ca8-eeb645f39767
    polish for the (Static-) Pages admin controller.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@402 820eb932-12ee-0310-9ca8-eeb645f39767
    Add static pages.  Also fixes a caching bug (the new PageCache was broken due to :name/:page_name mix).  (closes #181)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@391 820eb932-12ee-0310-9ca8-eeb645f39767
    No need to call layout "administration" in every controller as it is already called from the parent class and therefore inherits from it.
    
    Only exceptions: pages and content controller as they don't want to use this layout for autosave and preview.
    I may have forgoten to add some files in my last commit.
    Doing some cleaning in the detroy process:
    – We don't need multiple destroy files when they all share the same code, excepted a message which can be defined from the controller name.
    – An old chinese master once told me "the earlier you return, the better it is", so I reverted the conditions in the destroy methods, which seems much more sensible now that I think about it.
    
    Please, guys, revert if you think using @record is going against all conventions (not sure about that one, and I don't have an internet access being stuck in the country in a frozen train because my beloved country is still unable to handle a wave of cold but it _really_ cleans the code, so I hope so).
    Allows admin redirects to act like an URL shortener when posting an empty from.
    Replacing old will_paginate with scope based Kaminari.
    Remove trailing whitespace.
    Simplify render in controllers (Rails Best Practice).
    Removes URL shortener generated redirects form listing. Adds pagination in redirects listing.
    Speed up specs by explicitely setting layout in each admin controller.
    Adding reirects a frontend. Did you know that such a feature existed? I guess I was the only one to use it to replace costy rewrite rules. Doesn't this rock?
    
    Sure it does!
    No need to call layout "administration" in every controller as it is already called from the parent class and therefore inherits from it.
    
    Only exceptions: pages and content controller as they don't want to use this layout for autosave and preview.
    Doing some cleaning in the detroy process:
    – We don't need multiple destroy files when they all share the same code, excepted a message which can be defined from the controller name.
    – An old chinese master once told me "the earlier you return, the better it is", so I reverted the conditions in the destroy methods, which seems much more sensible now that I think about it.
    
    Please, guys, revert if you think using @record is going against all conventions (not sure about that one, and I don't have an internet access being stuck in the country in a frozen train because my beloved country is still unable to handle a wave of cold but it _really_ cleans the code, so I hope so).
    Replacing old will_paginate with scope based Kaminari.
    Remove trailing whitespace.
    Homogenize permalink_url behavior.
    Fix creation of redirect.
    Remove unused ordering code.
    Move display name to name sync to Tag model.
    Makes the admin/tag display look like content and comments. Simplifies tag renaming and create a Redirect from old to new URL
    Speed up specs by explicitely setting layout in each admin controller.
    avoid using @selected assignation in creation post view
    Adding an option to chose how many items to display in the admin
    optimise cache with sidebar in particulary
    Getting rid of the worse piece of code ever, multiplies Typo perfs by 10 when calling articles/index (see http://t37.net/ya-pas-comme-un-truc-qui-vous-fait-hurler-li)
    Getting rid of classic pagination for will_paginate
    Revamping the dashboard, step 1
    Revamping login form step 1
    cleaning admin/css step 1
    migrating default themes to will_paginate
    Unifying the back office listing, cleaning some CSS
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    Some more admin enhancement
    Added typo:code stylesheet
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1688 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds tags management to the back office. Still needs tag merging... later
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1683 820eb932-12ee-0310-9ca8-eeb645f39767
    first cucumber test passing
    Fixes permalink not being correctly updated when updating a permalink. closes #62
    
    The old behavior was rather buggy as it created a new redirect everytime an article or page permalink was updated. This shortened URL was never displayed because we only called the first redirect instead of the last one.
    
    This commit:
    
    * Fixes existing old shortened URL showing when multiple shorten URLS exist
    * Fixes this behavior by updating the existing shortened URL when a published article or page permalink is updated
    * Moves the shortened URL creation from controller to model
    * Removes duplicate code between admin/content_controller and admin/page_controller
    * Adds specs as this part was never tested before
    * Tells a story about a young farm boy, a princess called Buttercup (silly name if you want my opinion), true love and high adventure, pirates, princess, giants, miracles, fencing, and rodents of unusual size.
    Moves the permalink generation to model
    Moves permalink sanitization to String with a new to_permalink method.
    
    Refactores existing code to remove duplicate code entries and not needed mthods when building the permalink from the model.
    Small refactoring.
    Avoid accidentally loading old drafts.
    
    Two cases:
    - Saving a new article as draft.
    - Autosaving a new article.
    Fixes the way we generate permalinks.
    Make specs pass.
    
    - Replace stubs with original factories.
    - Remove extra .article method call.
    Doing some cleaning in the detroy process:
    – We don't need multiple destroy files when they all share the same code, excepted a message which can be defined from the controller name.
    – An old chinese master once told me "the earlier you return, the better it is", so I reverted the conditions in the destroy methods, which seems much more sensible now that I think about it.
    
    Please, guys, revert if you think using @record is going against all conventions (not sure about that one, and I don't have an internet access being stuck in the country in a frozen train because my beloved country is still unable to handle a wave of cold but it _really_ cleans the code, so I hope so).
    Fixes the way autosave displays buttons:
    - destroy this draft should only appear at autosave and when editing a draft
    - destroy this article should only appear when article is not a draft
    
    Writing this commit message makes me think that we actually need only on button, maybe with a different message. So expect another commit about this soon :-).
    Fixing the way permalinks generation work.
    
    Relying on autosave to generate the permalink is stupid, as user defined permalinks will be erased at the next autosave. Instead, we set the permalink only when needed.
    
      New way to make a permalink work:
      – new post: if permalink is empty: build it from the title
      – draft : no permalink at all
      – edit post: load the permalink into the editor.
      – autosave for published article: do nothing
    Adding per state filtering on articles listing + better display for drafts.
    - default: everything but draft.
    - published articles
    - drafts
    - publication pending
    - withdrawn
    Fixes a bug setting up a post as published everytime you edit it even for a draft
    Fixing the specs. Removing useless specs as we don't rely on tabs anymore. I, however, need to add some more checks there, but on another way
    Update to the main editor. Kinda like the way it looks like now, but lots of cleaning still needed (plus a major headache generating bug found).
    Replacing old will_paginate with scope based Kaminari.
    Clean admin content_controller (use simple_editor? and fix insert_editor action)
    Add simple_editor? to user, and clean user_spec.
    Move get_or_build article to Article model (from content_controller). I hope it's a better place...
    FIX broken spec
    add more scope on resource, (combine one) and use them
    add scope to resource and use them when it's possible
    clean around text_filter (spec)
    This fix addresses issue #39: Time.parse apparently hiccups when the timestamp string contains "GMT+0000 (UTC)". Worked around this using fdv's suggestion to use DateTime.strptime.
    Adds post types with admin management.
    
    Author can define multiple post types with associated templates. Default post type is 'read' so existing themes won't break.
    
    I didn't use Rails relational model on purpose as I wanted article to store the post type permalink. This will make theme helpers such as menu helpers easier to write. Maybe there's a cleaner way to do it though.
    Remove Users fixture usage...
    Ensure editor selection works even with a bogus user.
    
    This was discovered when working on user migration to the ConfigManager system
    Remove trailing whitespace.
    Simplify render in controllers (Rails Best Practice).
    Adding an embedded URL shortener. Every page and article gets its shortened URL with a 301 (permanent) redirect. Shortened URL is available to published_content only and is displayed within the administration.
    Initial migration adds shortened URL for existing content.
    
    The set_shortened_url method is duplicated in both conte t and page controller. It should probably move to the content model, not sure about that. Also adding some specs, which makes me think that pages should be rewriten from (almost) scratch.
    Properly use passed time zone information to set publication time.
    Make save as draft keep a published article published.
    
    This fixes bug #136.
    Leaving params[:article] nil is just fine.
    Fix conversion of multi-word tags to keyword string.
    Clean up admin/content controller a bit.
    Preliminary fix for autosave issues.
    
    Some corner cases may be missing.
    Fixes content destroy. Rails 3 needs to explicitely pass the object id in the form call. Input type hidden don't work anymore it seems
    This fixes autosave, but I really don't understand wtf is going on with id being sent and never received in the AJAX request
    Fixes content display
    Fixes badly escaped HTML
    Replace Object#returning with Object#tap.
    
    Object#returning is deprecated. Some instances were replaced with #tap,
    some pathological cases were removed and replaced with a simple return.
    Solves ticket #175: Lift 255-char tag list limit. Not sure it's the best way to do it, don't mind reverting if needed
    Removing pictures from the list of resources since they now appear in the pictures list
    Fix generated page preview link.
    Adding a basic image viewer on the simple editor
    Fix permalink and title behavior for drafts:
    - Title should not be set to permalink
    - Permalink should not change for published articles
    only list all draft without parent_id in edit/new content creation
    Reuse the last draft with parent_id with autosave. Avoid create another draft each autosave
    delete all draft with article like parent_id after save and update it. Can't happen, but why not ?
    avoid define assign @categories in admin/content pages
    avoid using @selected assignation in creation post view
    Fixes a nasty bug that breaks the autosave
    Moving drafts to named_scope
    Adding autosave to already published article. It creates a new draft and set up a parent if first. The, when the article is republished, the draft is destroyed. Allows people to edit their published posts without having them changed on the front
    Added article preview, not the cleanest way, but at least it works
    Removes default text filter for posts, now only using the users text filter
    Disables text filter when switching to visual editor
    Reenables it when switching back to simple editor
    [#90 state:resolved]
    fix error in categories has_many. Maybe a postgreSQL issue. Test with MySQL please
    Adding an option to chose how many items to display in the admin
    Adding growler to autosave and sidebar save
    Some editor refactoring, it really needed it after yesterday's change.
    
    I've made a migration to make User.editor manipulation easier (simple / visual is better than 0,2). That allowed me to ditch lot of duplicate code. Cool.
    Now saves the editor as the user's default editor when switching
    First attempt of switching editor from the editing form
    
    TODO:
    * Allow to switch between editors. For some reasons I've been stuck with FCKEditor API for a while now.
    * Add this to pages as well
    * Clean the code
    * Add tests (I commit without tests because it's 1am and I can't even read my screen anymore, but I don't wanna lose this now that it's working)
    * Make the switching behaviour better (remove links form active tabs...)
    delete show article because no preview now
    backport some fix in nice_permalinks but not in master branch
    Moving autocomplete plugin into admin/content helpers because of a plugin related bug that made everything crash in production mode
    Seems auto complete broke if we don't enable this
    Added text filters back on pages nd articles forms, moved text filters to users instead of global configuration
    Sorting ressources by alphabetical order
    refactor with names_scope the search article. I think is more lisible and more use about SKINNY controller, FAT Model
    fix bug integrate by commit 30b70663. If you search by searchstring, there are no search by other filter in admin/content
    Modify Article to have proper body_and_extended field
    
    Instead of having merge_... and extract_... methods, let's just make this a
    virtual field.  This requires changing the field name in the view, too, but
    it simplifies the controller code considerably.
    Fix various issues in new-style extended content handling
    
    Once upon a time, the Typo web interface allowed you to separately edit the
    "body" and the "extended content" of an article.  Now, the two different
    types of text are stored in a single body field, and separated by
    "<!--more-->".  This change has not yet been pushed through to the
    underlying database.
    
    This patch doesn't attempt to address any of the larger design or
    implementation issues, but it does fix a number of minor problems:
    
      - The build_extended and get_extended methods on ContentController were
        public, which actually made them callable for users on the web.  This
        kind of helper method should generally be protected or private in a
        controller.
      - The build_extended method would silently discard data if the user
        accidentally inserted two copies of '<!--more-->' in an article.
      - The build_extended method didn't remove the newlines inserted by the
        get_extended method, which would cause the article to pick up two extra
        newlines each time it was saved.
    
    The patch moves the merging/extracting code into the article model, fixes
    the data-loss bug, makes sure that articles can be edited without any
    inadvertent changes, and adds a number of unit tests to make sure that
    everything works.
    Removing useless textfilters setting in the admin, adding macro help in the editor when editor is not FCK
    optimise cache with sidebar in particulary
    Fixing a test, a HTML unclosed <li> in the menu and content list where publication_pending posts were not shown
    add restrict right to edit comment if user is publisher and it's not own article
    fix bug in admin/content controller if we are not admin. Add Some spec
    Revamping the page form and article form
    Adding the search to the articles back office
    Fixed a bug on publishing an edited post + assign categories
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1851 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding subcategories
    Giving Typo some SEO capabilities
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1849 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed bookmarklet, will certainly come back in another form later
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1848 820eb932-12ee-0310-9ca8-eeb645f39767
    Refactoring and removing dead code made my day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1847 820eb932-12ee-0310-9ca8-eeb645f39767
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes bug #1263 SqlInjection and error with postgresql in list of content
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1808 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug with pagination when rendering articles
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1805 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds some AJAX to the article list filtering
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1804 820eb932-12ee-0310-9ca8-eeb645f39767
    Enables in admin database migration back, gets rid of the old pre 4.1 general controller, sets the CHANGELOG for 5.1.3.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1797 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes 2 nasty bugs with autosave
    – the first one broke autosave when no title was set. We now set a default title
    – the second one was overriding permalink with a void string when post was autosaved because the permalink field was empty after autosave.
    
    For autosave: If no title is given, Typo gives it a title like "Article Draft + post_id". When publishing, every article-draft-something permalink is just replaced with the article title crafted permalink.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1795 820eb932-12ee-0310-9ca8-eeb645f39767
    – Cleans some views by moving condition statements to a helper
    – Fix a draft + autosave behavior bug: if I save an autosaved article as a draft, it is duplicated as the autosaved article id is not taken into account in the draft saving process.
    – Moves the autosave delay to 30 seconds to cut the server a little slack
    – Removes comments creation from protect_from_forgery to avoid crash with caches_page when adding comments
    – Fixes a bug with the contributor role tha prevents contributors to access anything in the admin
    – Adds draft deletion (useful heh ?)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1778 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing a stupid bug :/
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1775 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding autosave capabilities for articles. Works only on simple visual editor for now
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1761 820eb932-12ee-0310-9ca8-eeb645f39767
    Doing a little bit of cleaning
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1757 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding drafts capabilities
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1755 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds filtering on edit / delete to content for non administrative users
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1754 820eb932-12ee-0310-9ca8-eeb645f39767
    Cleaning images, fixing migration bugs, adding new logo
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1726 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a couple of bugs, closing ticket 1224
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1694 820eb932-12ee-0310-9ca8-eeb645f39767
    Some more admin enhancement
    Added typo:code stylesheet
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1688 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug breaking the spellchecker in FCKEditor.
    Adds autocompletion in the tags (ticket 1217)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1679 820eb932-12ee-0310-9ca8-eeb645f39767
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied some optimization "guerilla" patches and tightened up the order sanitization regexes.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1631 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Another bit of admin tweaking :
    
    – Added by column sorting on posts and pages admin (always useful)
    – Revamped the categories/show/id to look like the contents/list and
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1544 820eb932-12ee-0310-9ca8-eeb645f39767
    Switched to storing only the user_id in the session rather than the whole
    user.
    
    You know it makes sense :).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1516 820eb932-12ee-0310-9ca8-eeb645f39767
    Slowly moving behaviour from the controllers to the models by
    applying the Law of Demeter.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1509 820eb932-12ee-0310-9ca8-eeb645f39767
    Added a shaded class for item lists as well
    Improved usability for comments page
    Improved usability for feedback page
    Added a bookmarklet to the edit page
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1493 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Do some work on the admin article preview. This will make the preview more closely mimic a real post using Azure.
    Add a plugin to fix a perceived bug in observe_form which fixes an actual bug in our usage of observe_form in admin article editing
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1357 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix order of articles in admin articles section
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1331 820eb932-12ee-0310-9ca8-eeb645f39767
    Make article pagination in admin articles section actually work
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1330 820eb932-12ee-0310-9ca8-eeb645f39767
    Switch article edit preview from a div to an iframe.
    This lets is preview a full, but minimal, HTML page, including the page_header stuff.
    Basically, if you want to use something like <typo:tmcode> it'l actually work in the preview.
    This works in Safari and Firefox. I hope it works in IE, but I have no way of testing
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1310 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix deprecation warning.
    We're now using RJS for adding attachments to articles when editing.
    Additionally, don't bother talking to the server to remove an attachment line since it's not at all necessary.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1308 820eb932-12ee-0310-9ca8-eeb645f39767
    Assorted tweaks.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1301 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Big changes to the state engine for feedback. Feedback now starts off
    in the 'Unclassified' state and moves to either JustPresumedHam or
    PresumedSpam depending on the results of Feedback#classify (the various Just*
    states are there as one shot states to handle sending of notifications or
    registering of spam/ham classification with akismet). JustPresumedHam
    decays to PresumedHam as soon as the feedback has been saved and the
    notifications sent.
    
    And there they rest until the classifications are solidified by the blog
    administrator on the feedback page. Feedback ends up as either Spam or Ham
    with an intermediate 'JustMarkedAs*' step for registering with Akismet.
    
    It should be possible to do some useful filtering on the feedback page
    (for instance, only see those messages whose classification hasn't been
    confirmed), but for that we need to add a couple of boolean fields to the
    contents table.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1188 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved some content initialization about. Should fix the issue with advanced settings checkboxes not reflecting the true state of the content
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1147 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix default values for comments/pings/published checkbox in new article page
    Fixes #878
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1055 820eb932-12ee-0310-9ca8-eeb645f39767
    Web notifications (trackbacks, pingbacks that stuff) are now triggered from
    the WebNotifier content observer.
    
    Note that we've now added a new setting to Blog 'default_server_url' as a
    fallback for finding the blog's base url. If you're experiencing problems
    (I don't think you should be, it's only currently an issue in the tests and
    our blog fixtures has an appropriate url set), go to your /admin page and
    set the default url there (it should pick up a sensible default, so you can
    just check that for sanity and hit save if you like).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1046 820eb932-12ee-0310-9ca8-eeb645f39767
    Started the process of moving 'on publication' behaviour out of controllers and
    apis and onto observers. The observer implementations are currently just simple
    callbacks onto the content objects, but that may change in the medium to long
    term.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1043 820eb932-12ee-0310-9ca8-eeb645f39767
    The beginnings of some serious reworking of the way article publication,
    notifications, remote pings and (possibly) caching will work. After this patch
    an article's 'published' flag will never be set before its 'published_at' time.
    
    This is handled by introducing a 'triggers' table which holds a list of actions
    to perform on objects in the future. Every time the rails system gets a request,
    it performs any pending trigger actions. That way, although a message may well
    not be 'really' published until some time after its published_at time, it will
    appear as if it was.
    
    Next up, moving various 'on save' actions out of duplicated code in controllers
    
    NB: There's a bug in Rails that means that migration 45 shouldn't work with
    mysql or sqlite, hence the utterly gruesome monkey patch in
    lib/rails_patch/active_record.rb -- I look
    forward to the next release of Rails when I can get rid of those monstrosities.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1042 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix pings/comments allowed setting always being false for web admin interface
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1025 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Integrated patch 526
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@872 820eb932-12ee-0310-9ca8-eeb645f39767
    Apply 'save first then assign habtm' fix to ContentController (caused by Rails issue #3213); Tweaks here and there, now all tests pass again
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@805 820eb932-12ee-0310-9ca8-eeb645f39767
    more boolifications
    Fixed a boneheaded manoeuvre in 35_boolify_content_allow_foo and an assbackward test in views/admin/content/show.rhtml
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@791 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove debugging code from controller
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@753 820eb932-12ee-0310-9ca8-eeb645f39767
    Podcasting, thanks to bingeldac (Grant Schofield).  This also reverts the previous two patches--it's possible that migrations are broken, but that's better then everything else being broken.  There are a few things that I'd like to change here, but by and large it works.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@752 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix default comment/ping settings.  Closes #488
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@709 820eb932-12ee-0310-9ca8-eeb645f39767
    More filtering cleanup.  Closes #459
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@699 820eb932-12ee-0310-9ca8-eeb645f39767
    A failing test for duplicate categories.  I'm now able to reproduce #459, but I'm not sure what's happening.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@693 820eb932-12ee-0310-9ca8-eeb645f39767
    BACK UP YOUR DATABASE BEFORE RUNNING THESE MIGRATIONS.  Merge pdcawley's big superclass patch.  This rolls articles, pages, comments, and trackbacks into one big table, using STI.  This lets us get rid of a huge amount of duplicated code; diffstat shows a net of -148 lines, and the resulting code looks cleaner.  Closes #414
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@660 820eb932-12ee-0310-9ca8-eeb645f39767
    Make pings actually work right.  This is sort of a work in progress, but I want to commit this before I make deeper changes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@641 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved body_html and friends from push to pull.  See http://scottstuff.net/blog/articles/2005/09/04/push-me-pull-me
    for details.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@622 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix category sort order to work correctly w/ mixed upper and lower case categories.  (closes #322)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@544 820eb932-12ee-0310-9ca8-eeb645f39767
    Make keywords visible by default in content editor.  Sort categories in content editor.  (closes #332, #322)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@543 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
    Swap out field observers in article and pages creation/editing forms for a single form observer (fixes #230)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@461 820eb932-12ee-0310-9ca8-eeb645f39767
    More article admin pagination.  closes #215
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@446 820eb932-12ee-0310-9ca8-eeb645f39767
    Add pagination for article admin pages.  (closes #215)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@443 820eb932-12ee-0310-9ca8-eeb645f39767
    Populate user association in new articles posted via Content Admin. Display number of articles per user in User Admin. (closes #203) [devel@unlogikal.net]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@431 820eb932-12ee-0310-9ca8-eeb645f39767
    polish for the (Static-) Pages admin controller.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@402 820eb932-12ee-0310-9ca8-eeb645f39767
    Added Quick Post functionality
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@379 820eb932-12ee-0310-9ca8-eeb645f39767
     * Fixed AccountController#signup to no longer require authentication
     * Made passing of categories in Admin::ContentController#edit and #new optional
     * Fixed sidebars migration by fixing a typo (pun!) and explicitely require application.rb to make the ApplicationController class available to the SidebarController inheritance
     * Removed the category partial tests from ArticleControllerTests since this partial no longer exists now that we have sidebars
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@366 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge of of /branches/admin into mainline
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@361 820eb932-12ee-0310-9ca8-eeb645f39767
    ContentController should sort articles in reverse chronological order instead of reverse by ID which tends to misbehave for imported/migrated blogs (fixes #174) [wac+typo@carrel.org]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@359 820eb932-12ee-0310-9ca8-eeb645f39767
    typo is now full static. The entire front end comes from static pages which are swept on commenting, trackbacks, new article posts and category changes.
    This means we cannot do the "posted 25 minutes ago" business but we can easily serve in excess of 1k pages per second so this should be worth it.
    
    closes #127, #21
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@337 820eb932-12ee-0310-9ca8-eeb645f39767
    follow rails style closely by using symbols where ever possible
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@310 820eb932-12ee-0310-9ca8-eeb645f39767
     * De-tabbed ArticleHelper#render_errors
     * Added content-type header to Admin::ContentController#preview fixing rendering of special characters (fixes #92)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@305 820eb932-12ee-0310-9ca8-eeb645f39767
    Categories are now sorted by name (scott@sigkill.org) closes #136
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@288 820eb932-12ee-0310-9ca8-eeb645f39767
    style upgrade (@request = request, @params = params, @session = session)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@279 820eb932-12ee-0310-9ca8-eeb645f39767
    Added proper sweeping for backend files triggered by admin interface actions (fixes #69)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@243 820eb932-12ee-0310-9ca8-eeb645f39767
    i guess there had to be a bug...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@230 820eb932-12ee-0310-9ca8-eeb645f39767
    * updated links with the other typo devs
    * fixed live preview
    * fixed flickr aggregator (thanks to anoop from the mailing list)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@225 820eb932-12ee-0310-9ca8-eeb645f39767
    * you can now associate posts with categories from the html admin
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@224 820eb932-12ee-0310-9ca8-eeb645f39767
    * changed the way the comment box works yet again
    * made test cases work
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@222 820eb932-12ee-0310-9ca8-eeb645f39767
     * Added global configuration setting for the text_filter to use [bousquet]
     * Inherit allow_pings/allow_comments/text_filter settings from the configuration globals when creating new articles through the web admin [bousquet] (fixes #62, #63)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@220 820eb932-12ee-0310-9ca8-eeb645f39767
     * Stuck eager loading into Article.find for article admin module
     * Replaced a few find_all occurences with find(:all)
     * Removed the Untitled(?) GIF
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@217 820eb932-12ee-0310-9ca8-eeb645f39767
    added live preview while typing a new article in the html admin interface (madrobby) fixes #60
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@215 820eb932-12ee-0310-9ca8-eeb645f39767
    fixes #57.  Thanks for the patch bousquet.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@202 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    No need to call layout "administration" in every controller as it is already called from the parent class and therefore inherits from it.
    
    Only exceptions: pages and content controller as they don't want to use this layout for autosave and preview.
    Log caught sidebar errors to aid debugging.
    Clean up formatting of sidebar controller and its specs.
    Replace inject([]) with map.
    
    Hat tip to William T. Nelson: https://github.com/fdv/typo/pull/22
    Speed up specs by explicitely setting layout in each admin controller.
    Remove useless method indirection.
    Mass-removal of trailing whitespace.
    Adding some error control on sidebar loading for both frontend and backend so that if some sidebar plugin is missing or crashing, the whole thing doesn't crash anymore, but fails with appropriate error message
    Fixes ticket 64
    fix adminsidebar issue. Order is keep
    fix issue in adminsidebar. We doesn't see the sidebar configuration
    optimise cache with sidebar in particulary
    Fixes a few things here and there.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1677 820eb932-12ee-0310-9ca8-eeb645f39767
    fixes migration version and adds a ugly workaround to rails 2.0.2 update_all bug with sqlite and pgsql
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1615 820eb932-12ee-0310-9ca8-eeb645f39767
    Take advantage of the blog/sidebar links
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1251 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    The rest of the checkbox fix.  Fixed #1031
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1200 820eb932-12ee-0310-9ca8-eeb645f39767
    Welcome, one and all, to the new style sidebar API.
    
    Nope, there's no documentation yet (but see the poorly titled
    http://www.bofh.org.uk/2006/04/16/write-your-own-typo-sidebar for an
    overview of what's new).
    
    The big change is the addition of a bunch of classmethods to the Sidebars::Plugin
    superclass. The new methods are :setting, :display_name and :description.
    
    We already had :display_name and :description, but the new version take an optional
    argument and work as declarators as well. Also, :display_name does a good job of
    guessing the right display name in many cases.
    
    With the addition of these classmethods, we get to DRY up all those gruesome
    boilerplated configure.rhtml files since 'setting' provides enough information
    for them to be autogenerated.
    
    Oh, and this change is backwards compatible. You don't have to use the new
    class methods, but you're daft if you don't. You'll still have to get rid of the
    explict form_tag and observe_form bits of really old configure.rhtml files, but
    I can't make us that backward compatible because the old way broke browsers.
    
    If you want to see pretty much all the ways :setting can work, check out
    !XmlController and !FlickrController, which pretty much cover the waterfront.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1022 820eb932-12ee-0310-9ca8-eeb645f39767
    I continue to pick away at the Sidebar system. In this patch we:
    
      * Pull Sidebars::Plugin out into lib
      * Add a Sidebars::!ComponentPlugin which all component based sidebars
        inherit from (not that there are any other sorts of sidebar yet. Bear
        with me
      * Pulled !SidebarController out of components and into app/controllers
      * Lay groundwork for eliminating {{{staged_position}}} from the Sidebar
        model
    
    We've also got the beginnings of a sidebar preview here, /sidebar will
    show you a dummy article with a sidebar -- eventually this should work
    to show you a preview of the staged sidebar configuration.
    
    Coming up, a way of calling actions other than 'configure' and 'content'
    on your sidebars -- a necessity for advanced navigation tools for
    instance.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1002 820eb932-12ee-0310-9ca8-eeb645f39767
    Rails 1.1 rocks my world!
    
    '/admin/sidebar' just got some RJS magic sprinkled on it so you get a
    spinner in the 'active sidebars' header while the backend is updating
    stuff. Coming soon: Disabling the 'publish changes' button during loading.
    
    However, it is late, I am tired and I must be up at <ungodly>.30 tomorrow
    so I leave it as an exercise for the interested hacker.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@997 820eb932-12ee-0310-9ca8-eeb645f39767
    Tentative fix for #786. There's still more work to do on sidebars...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@995 820eb932-12ee-0310-9ca8-eeb645f39767
    More sidebar jiggery pokery. The new Admin::SidebarController means that we don't need staged and
    active configs on the Sidebar object any more, just a straightforward 'config'. Isn't that cute?
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@991 820eb932-12ee-0310-9ca8-eeb645f39767
     r1419@obelisk:  pdcawley | 2006-03-31 15:52:47 +0100
     Big changes in the workings of Admin::SidebarController and in the workings of
     the 'configure' views of sidebars:
    
      * Sidebar configuration views no longer need to contain a form. In fact, they must ''not'' contain a form; instead they are evaluated in side the main form body of the sidebar admin view, so instead of {{{ <form id='some_weird_incantation_i_can_never_remember'>...</form><%= observe_form ... %> }}}, which is just so much boiler plate and a pain to get right, you have a bunch of form controls and labels. The only thing to remember, until we've got the helpers written, is that you have to do {{{configure[<%= @sidebar.id %>][field]}}} instead of {{{configure[field]}}} in the form tag's name.
      * This change closes #237 and #750
      * {{{/admin/sidebar}}} no longer 'phones home' quite so much, which is no bad thing -- now if I can just work out how to eliminate the way it phones home when sidebar order is changed. Any javascript magicians in the house?
      * This also paves the way to getting rid of the staged/active distinction in sidebar models (and possibly to eliminative ActiveRecord based sidebar models all together, but that's blue sky at the moment).
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@980 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    cosmetic code changes...
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@369 820eb932-12ee-0310-9ca8-eeb645f39767
    updated look&feel&usability of the sidebar admin interface
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@367 820eb932-12ee-0310-9ca8-eeb645f39767
    Configurable sidebars.  (closes #157, #103)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@364 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing dead code
    Allows theme developper to pass a string parametre to xxx_links helpers:
    - article_links
    - category_links
    - tag_links
    - next_link
    - prev_link
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Removes some dead code
    Create one version of ul_tag_for, and give it 100% coverage.
    Replace Object#returning with Object#tap.
    
    Object#returning is deprecated. Some instances were replaced with #tap,
    some pathological cases were removed and replaced with a simple return.
    Refactoring and removing dead code made my day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1847 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    This should apparently solve every redirect issue left so far
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1701 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug in previous / next link
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1699 820eb932-12ee-0310-9ca8-eeb645f39767
    Got the test in page_title the right way around. Silly me.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1673 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied most of the patch in #1214. The only change being that the
    correct i18n key for état is 'status'.
    
    bribera++
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1671 820eb932-12ee-0310-9ca8-eeb645f39767
    Brings more translation
    Adds some changes to the content editor
    Brings localisation to Standard issue
    Brings localisation to archives plugin
    Fix typo version to 5.0.3
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1649 820eb932-12ee-0310-9ca8-eeb645f39767
    Right ho, /articles/category now redirects to /articles/categories,
    which is a resource now.
    
    Eventually, CategoriesController will take on the duties of
    Admin::CategoriesController, but not quite yet, for now it just handles
    index and show.
    
    Note that we've also introduced a new type of resource, the 'inflected_resource'
    which uses /articles/categories/... for its collection methods, but
    /articles/category/whatever for its members. This means that you we can
    have a category with a permalink of 'new' and it won't clash with with the
    admin form for creating a new category.
    
    Isn't that lovely?
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1510 820eb932-12ee-0310-9ca8-eeb645f39767
    Fiddle with the magic theme helper method again so sidebars can again be overridden by themes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@925 820eb932-12ee-0310-9ca8-eeb645f39767
    Do some shuffling of controller inheritance and move the theme helper method from application to content helper. This is to allow the admin migration redirection to work without ever touching the magic {{{this_blog}}} method which blows up if you are before migration 38.
    I tested a bunch of stuff after making these changes and everythign seems to work right, but pdcawley and slaird, I would rest easier if you could double-check that my controller inheritance changes are kosher.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@922 820eb932-12ee-0310-9ca8-eeb645f39767
    Get rid of missing helper warnings -- need to move some of ApplicationHelper's methods here
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@921 820eb932-12ee-0310-9ca8-eeb645f39767
    Wrapped theme_helper.rb into a module
    Added view partials and helpers from bootstrap into main area
    Fixes a crtash when Blog.default doesn't exist
    Adding themes helper the ugly way
    Refactoring and removing dead code made my day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1847 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix #846 - [1034] broke admin sidebars page
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1037 820eb932-12ee-0310-9ca8-eeb645f39767
    Make our theme loading a little more Rails 1.1ish. Should now work with respond_to
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1034 820eb932-12ee-0310-9ca8-eeb645f39767
    Welcome, one and all, to the new style sidebar API.
    
    Nope, there's no documentation yet (but see the poorly titled
    http://www.bofh.org.uk/2006/04/16/write-your-own-typo-sidebar for an
    overview of what's new).
    
    The big change is the addition of a bunch of classmethods to the Sidebars::Plugin
    superclass. The new methods are :setting, :display_name and :description.
    
    We already had :display_name and :description, but the new version take an optional
    argument and work as declarators as well. Also, :display_name does a good job of
    guessing the right display name in many cases.
    
    With the addition of these classmethods, we get to DRY up all those gruesome
    boilerplated configure.rhtml files since 'setting' provides enough information
    for them to be autogenerated.
    
    Oh, and this change is backwards compatible. You don't have to use the new
    class methods, but you're daft if you don't. You'll still have to get rid of the
    explict form_tag and observe_form bits of really old configure.rhtml files, but
    I can't make us that backward compatible because the old way broke browsers.
    
    If you want to see pretty much all the ways :setting can work, check out
    !XmlController and !FlickrController, which pretty much cover the waterfront.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1022 820eb932-12ee-0310-9ca8-eeb645f39767
    Fiddle with the magic theme helper method again so sidebars can again be overridden by themes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@925 820eb932-12ee-0310-9ca8-eeb645f39767
    Got rid of those annoying messages about missing default helpers.
    The changeset is slightly bigger than it should be because I can't
    work out how to make svk/svn ignore whitespace only changes, and
    emacs is a bit more eager than TextMate to remove extraneous spaces.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@901 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove trailing whitespace.
    Fixes notification sending.
    
    Notifications were broken after I introduced the new date and time display as mail notified only uses mail_helper. Still don't know how to test emails though :/
    * The Content model no longer knows anything about the cache.
    * Reprecated the html helper
    * Implemented the 'html' helper in MailHelper. It turns out that
      ActionMailer doesn't do fragment caching, so in order to keep a
      consistent interface for accessing article html, we've implemented
      a version that doesn't attempt to do caching.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1265 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix RSS trackbacks feeds.
    
    Restores XmlHelper#pub_date, which had been removed in
    commit f4eeaaa847b4c00cfe3508317401bea480f18116.
    Fix google sitemap.
    
    Restores XmlHelper#collection_lastmod, which had been removed in
    commit f4eeaaa847b4c00cfe3508317401bea480f18116.
    Removes some dead code
    Mass-removal of trailing whitespace.
    Fixing some tests, now only 30 left brocken, if someone knows what's wrong with AWS ? Everything workds OK but the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1852 820eb932-12ee-0310-9ca8-eeb645f39767
    Refactoring and removing dead code made my day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1847 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Eliminated the :controller/:action/:id default route, which works around
    the big nasty Rails Security Hole.
    
    It turns out we relied on it in all sorts of strange places. So I fixed that
    too.
    
    Expect a new Typo release real soon now.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1210 820eb932-12ee-0310-9ca8-eeb645f39767
    Add Google sitemaps.  It needs better tests, but at least there *are* tests now.  Closes #315
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1097 820eb932-12ee-0310-9ca8-eeb645f39767
    I've havered over doing this for a while now, if only because Rails
    is very strongly of the opinion that models don't need to know about
    url_for.
    
    Which is all very well, but Blog is a model of something that has
    contents accessible through urls.
    
    As always in these matters, the true test of whether something's a
    good idea or not is:
    
      Does it make the code clearer?
    
    And in this case, I think it does. By adding Blog#url_for, and
    especially by allowing it to take an object that responds to
    {{{location(anchor=nil, only_path=true)}}} I've managed to
    refactor out a great deal of repetition.
    
    Since url_for is also the stumbling block which stops us turning
    textfilters back into models, you can also consider this as a
    step along the road to making textfilters a little less weird.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1036 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied #840
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1031 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Use time.rfc822 instead of custom made strftime in XmlHelper#pub_date to make RSS feeds conform to the RFC again (closes #323)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@546 820eb932-12ee-0310-9ca8-eeb645f39767
    trackback rss
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@317 820eb932-12ee-0310-9ca8-eeb645f39767
     * Fixes for changes in [190] which erroneously assumed that :only_path => true returns a fully qualified URL while the opposite is the case
     * Also declared a default for the path parameter in comment_url() to make the functional tests pass again
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@191 820eb932-12ee-0310-9ca8-eeb645f39767
    fixes for rss export
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@190 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed a bug that the configuration was only available after a web request was issuered to typo (scoop)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@113 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed aggregations, improved permalinks a bit (/04/22 instad of /4/22), moved send_ping method to the ping model and added permalinks the xml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@109 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the description field to the inline rdf.
    Moved server_url_for to application_helper
    Added strip_html to application_helper
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@40 820eb932-12ee-0310-9ca8-eeb645f39767
    added commentrss (so i see when people write something)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@20 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Adds rescue for URI::InvalidURIError [#161 state:resolved]
    Display links on author pages when item is an url [#161 state:resolved]
    avoid double colon
    dummy implementation to avoid crash
    Refactoring and removing dead code made my day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1847 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Yay! Eliminated the ugly 'render_grouping' stuff from ArticlesController.
    Authors, Tags, Categories all have their own controllers now. Currently
    they only handle #show and #index, but the next trick will be to migrate
    appropriate #create/#desroy/#update from their appropriate admin/*
    controllers with the eventual aim of eliminating most of the specific
    admin controllers.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1523 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed cache option for javascript/stylesheet _include_tag
    Removing dead code
    Replacing old will_paginate with scope based Kaminari.
    Fixes a bad encoding issue under 1.9.2
    Moving login form to Bootstrap
    Fixes custom_tracking fields making a blog exploding when filled. Added some specs to prevent any other bug like this
    Adds post types with admin management.
    
    Author can define multiple post types with associated templates. Default post type is 'read' so existing themes won't break.
    
    I didn't use Rails relational model on purpose as I wanted article to store the post type permalink. This will make theme helpers such as menu helpers easier to write. Maybe there's a cleaner way to do it though.
    Feature request: add a custom tracking field for people not using Google Analytics.
    
    This field content is displayed in the <head> part of every page.
    Move rendering part of SEO options spec to view specs.
    
    The controller spec now just checks assignment (leading to the removal of
    a spurious comma), while the view spec checks if the assigned keywords are
    rendered or not (depending on the blog settings).
    Add back admin tools for comments.
    
    This nifty tool was (accidentally?) removed ages ago.
    Remove trailing whitespace.
    Remove trailing whitespace.
    Adding a "use meta tags option", enabled by default. Changing the grouping controller behavior to add the blog meta keywords to the categories and tags when their keywords are empty (always for tags). Adding specs.
    Adding support for rel='canonical' in pages header to avoid duplicate content.
    
    A canonical page is the preferred version of a set of pages with highly similar content.
    
    It's common for a site to have several pages listing the same set of products. For example, one page might display products sorted in alphabetical order, while other pages display the same products listed by price or by rating. For example:
    
    http://www.example.com/product.php?item=swedish-fish&trackingid=1234567&sort=alpha&sessionid=5678asfasdfasfd
    http://www.example.com/product.php?item=swedish-fish&trackingid=1234567&sort=price&sessionid=5678asfasdfasfd
    If Google knows that these pages have the same content, we may index only one version for our search results. Our algorithms select the page we think best answers the user's query. Now, however, users can specify a canonical page to search engines by adding a <link> element with the attribute rel="canonical" to the <head> section of the non-canonical version of the page. Adding this link and attribute lets site owners identify sets of identical content and suggest to Google: "Of all these pages with identical content, this page is the most useful. Please prioritize it in search results."
    Fixing some remaining style bugs on the login / setup / account forms after setting up the grid
    Adds missing create account link on login page.
    Fixes a typo in French translation making account confirmation crash.
    Fixes some style in error and information message on account creation / confirmation and login page.
    Ooops I've been a little bit hard on the latest commit
    Cleaning Dashboard CSS.
    
    This is the first step to a major CSS rework from JQuery UI generated stylesheet to something cleaner and more maintainable.
    * Less classes
    * Less code
    
    Step 2 will be splitting in 2 between structure and colors so we can offer various themes.
    Adding a version checking.
    When displaying dashboard, typo will check for the latest release and will display a message accordingly:
    * A notice if Typo's just a minor version behind.
    * A warning if Typo's a sub version behind.
    * An error message if Typo's a major version behind
    Do not provide this_blog in spec helper. Exposes bug in Redirect model.
    
    Due to the presence of this_blog in the spec helper, Redirect could use it
    in the specs, whereas it has no access to this method in the production
    environment.
    Reverts back some js_distance_of_time_in_words_to_now thing to make sure it won't break when using static caching system.
    
    I originally wanted to move this as a full plugin, but it appears we can't do it a 'clean' way yet, so this code is back in the core AND still allows users to chose the way they want date and time to be displayed on their blog.
    Removes old js_distance_of_time_to_now which becomes a plugin. To avoid breaking everything the old method is kept and calls the new one.
    Makes all themes support the new way of displaying date and time.
    Makes the new way of displaying date and time "xxx ago" aware.
    Fixes a stupid copy / paste in display_time helper. Adds specs to display_time and display_date helpers
    Adding various date and time display support.
    
    Date support are: 21/01/2011, 01/21/2011, Jan 21 2011 and 21 January 2011
    Time support are: 11h10, 11:10 and 11:10AM
    
    TODO: internationalization support, custom format support, and "xxxx ago" support even though I believe this one deserves to be a pluginas it's not the most usefule thing ever.
    Comprehensively fix bug #192: multi-byte permalinks.
    
    - Do not escape the title upon conversion to permalink slug.
    - Escape permalink sluk upon creation of permalink url.
    - Search article by permalink and by escaped permalink to support legacy
      permalink slugs.
    Removes some dead code
    Complete front implementation for plugin_avatar (every theme fixed)
    Adding missing safe_html
    Rename contents helper to avoid conflict with contents fixture.
    Update spec for article index view.
    
    Include layout when rendering the view. This required change moving the
    contents helper into application_helper.rb. All this was in order to add a
    spec to make sure no extra escaping was done anywhere in the rendered
    body.
    Simplify link_to_permalink and make it html_safe.
    
    This also means True Blue 3's ThemeHelper#show_pages_links can be
    call html_safe a lot less.
    Make feed links work for articles controller.
    Use strings, not symbols, for url_for parameter values.
    Avoid name clash for #feed_rss and #feed_atom helpers.
    
    These helpers were defined in both the ApplicationHelper and ArticlesHelper
    modules. Apparently, this is now a problem.
    Removing deprecated RAILS_ROOT
    Update files to match what Rails 2.3.8 generates.
    Mass-removal of trailing whitespace.
    Redesign all the comment moderation and listing in admin. Makes both global and per article view the same. Adds some per comments action. Adds for toolbar to the comment editor. [#184 state:resolved] [#135 state:resolved]
    Adds support for the google verification link [#182 state:resolved]
    Fixed translation in comments_link and trackbacks_link. It was not working for more than one item.
    improving system message display
    Dropping the use of asset_packages plugin in favor of the :cache option of stylesheet_link_tag and javascript_include_tag. Compression is a duty of web server
    Adding assets packager support + base assets
    Fix feed_title to not append a final " : " on the general feed.
    
    Without this change the general feed for the blog (all articles) will have
    a " : " connector emitted after the title; this is due to @page_title being
    a blank string (but not nil).
    permalink: set rel and class attributes only when they are given.
    
    Previous to this change, if nofollow and style weren't set, the generated
    permalinks would have had empty strings for the rel and class attributes
    (rel="" class="") which does not validate properly for XHTML.
    Updating lightbox to last release and fixing lightbox brocken on current Typo
    Fixes incorrect html
    Remove unnecessary left-over if
    Doing some cleaning removing typo_deprecated lib.
    Adding a step to the registration process. Otherwise, some users won't get their password
    fix error with feed in tag part
    add system to add .rss or .atom in feed_url. Define like rss or atom system
    change url generation in feed_url method
    Adding meta noindex follow on archives, paginated index, paginated categories and paginated tags to avoid duplicate content
    start using same formating but only define by a string
    Fix javascript to show edit controls when logged in.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Adding meta generator to blogs header to track Typo versions
    Removing useless textfilters setting in the admin, adding macro help in the editor when editor is not FCK
    add some spec about render_flash in application helper
    Rejiged login and signup forms.
    Added 'remember me' functinnality (at last)
    Fixed a few things here and there
    Revert "Fixing page_header in application_helper"
    
    This reverts commit 5a140b647cb71ee3711b9c873f990bfb476e2b40.
    Fixing page_header in application_helper
    adding nofollow option on lin_to_permalink
    Fixing bug 1282 : error on pages when no keywords or meta description
    Adding Google analytics support to Typo
    add coderay support on typo:code. Needed some test like about linenumber
    Adding subcategories
    Giving Typo some SEO capabilities
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1849 820eb932-12ee-0310-9ca8-eeb645f39767
    Refactoring and removing dead code made my day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1847 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes ticket 1237 : file not found on category browsing in the admin
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1745 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes brocken archives
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1693 820eb932-12ee-0310-9ca8-eeb645f39767
    Some more admin enhancement
    Added typo:code stylesheet
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1688 820eb932-12ee-0310-9ca8-eeb645f39767
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding js localization for dates with french translation.
    
    Port by Eric Daspet
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1661 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds some more localization
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1653 820eb932-12ee-0310-9ca8-eeb645f39767
    Got rid of some explicit &block arguments and replaced a call to send_file when caching with a redirect.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1637 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few bugs
    Adds patch 1168
    Adds patch 1165
    Closes ticket 1166
    Closes ticket 1164
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1587 820eb932-12ee-0310-9ca8-eeb645f39767
    Small change for theme management
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1567 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed some dead functionality.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1521 820eb932-12ee-0310-9ca8-eeb645f39767
    Right ho, /articles/category now redirects to /articles/categories,
    which is a resource now.
    
    Eventually, CategoriesController will take on the duties of
    Admin::CategoriesController, but not quite yet, for now it just handles
    index and show.
    
    Note that we've also introduced a new type of resource, the 'inflected_resource'
    which uses /articles/categories/... for its collection methods, but
    /articles/category/whatever for its members. This means that you we can
    have a category with a permalink of 'new' and it won't clash with with the
    admin form for creating a new category.
    
    Isn't that lovely?
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1510 820eb932-12ee-0310-9ca8-eeb645f39767
    More smallish refactorings. Just easing my way back
    into the code.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1508 820eb932-12ee-0310-9ca8-eeb645f39767
    A little bit of housekeeping. Starting to follow the law of demeter
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1507 820eb932-12ee-0310-9ca8-eeb645f39767
    – Fixed a few bugs
    – Added the week in refactoring patch
    – Added the rights table and the profile to rights one.
    – Populated the new tables.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1494 820eb932-12ee-0310-9ca8-eeb645f39767
    A surprisingly convoluted fix for the broken 'nuke' admin tool.
    It turns out that datestamped_resources didn't quite do the
    right thing when building paths.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1469 820eb932-12ee-0310-9ca8-eeb645f39767
    At some point in any refactoring you have to trust your gut and check
    it in.
    
    This point has now been reached...
    
    New things:
    * routes.rb continues to get shorter, ArticlesController is now declared
      with 'map.datestamped_resource :articles' plus a few extra actions that
      will eventually move to other controllers
    * Comment posting is now handled by the shiny new CommentsController, which
      is resourceful. However, because we don't want to break too many themes
      yet, it's still rendering templates from the articles directory
    * If you want to make your themes work better with the new scheme, you
      should alter your comment form url to be:
      {{{ :url => comments_path(@article) }}}
      If you're linking to the preview action, that becomes
      {{{ preview_new_comment_path(@article) }}}
    * This breaks #1463 rather hard. I shall be rolling #1463 all the way back
      for the time being, at least until I've got the controllers working
      restfully. Once that's done, it should be relatively trivial to change
      the routes file from using {{{datestamped_resources(:articles)}}} to using
      {{{resources(:articles)}}}
    * Deprecation warnings for badly placed controller actions aren't yet
      in place. I need to work out some way of having those warnings show
      up on the admin pages...
    * This may break things horribly. I've run it against the test suite,
      I've walked through most stuff on my test blog, but (always) there
      is the niggling feeling that I've missed something.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1465 820eb932-12ee-0310-9ca8-eeb645f39767
    Turned of html fragment caching (ie, html generated by text filters)
    It turns out caching fragments meant whiteboards weren't getting
    generated properly and bad things were happening.
    
    And two layers of caching was a bit excessive.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1342 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed the html helper. What was I thinking?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1266 820eb932-12ee-0310-9ca8-eeb645f39767
    * The Content model no longer knows anything about the cache.
    * Reprecated the html helper
    * Implemented the 'html' helper in MailHelper. It turns out that
      ActionMailer doesn't do fragment caching, so in order to keep a
      consistent interface for accessing article html, we've implemented
      a version that doesn't attempt to do caching.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1265 820eb932-12ee-0310-9ca8-eeb645f39767
    Changed onClick to onclick. Fixes #1110
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1264 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweak deprecation warning for article_html
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1259 820eb932-12ee-0310-9ca8-eeb645f39767
    More 4.1 cleanups.  Complete move from serialized canonical_server_url to non-serialized base_url.
    Add a bunch of rdoc.  More deprecations and cleanups.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1242 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed all the themes I broke with the last two patches
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1212 820eb932-12ee-0310-9ca8-eeb645f39767
    Eliminated the :controller/:action/:id default route, which works around
    the big nasty Rails Security Hole.
    
    It turns out we relied on it in all sorts of strange places. So I fixed that
    too.
    
    Expect a new Typo release real soon now.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1210 820eb932-12ee-0310-9ca8-eeb645f39767
    Ditch comment counters.  Closes #1030.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1176 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a *really* minor Textile help message, and make help links only appear when there's something helpful
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1127 820eb932-12ee-0310-9ca8-eeb645f39767
    Add popup markup helper.  Closes #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1104 820eb932-12ee-0310-9ca8-eeb645f39767
    I've havered over doing this for a while now, if only because Rails
    is very strongly of the opinion that models don't need to know about
    url_for.
    
    Which is all very well, but Blog is a model of something that has
    contents accessible through urls.
    
    As always in these matters, the true test of whether something's a
    good idea or not is:
    
      Does it make the code clearer?
    
    And in this case, I think it does. By adding Blog#url_for, and
    especially by allowing it to take an object that responds to
    {{{location(anchor=nil, only_path=true)}}} I've managed to
    refactor out a great deal of repetition.
    
    Since url_for is also the stumbling block which stops us turning
    textfilters back into models, you can also consider this as a
    step along the road to making textfilters a little less weird.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1036 820eb932-12ee-0310-9ca8-eeb645f39767
    I continue to pick away at the Sidebar system. In this patch we:
    
      * Pull Sidebars::Plugin out into lib
      * Add a Sidebars::!ComponentPlugin which all component based sidebars
        inherit from (not that there are any other sorts of sidebar yet. Bear
        with me
      * Pulled !SidebarController out of components and into app/controllers
      * Lay groundwork for eliminating {{{staged_position}}} from the Sidebar
        model
    
    We've also got the beginnings of a sidebar preview here, /sidebar will
    show you a dummy article with a sidebar -- eventually this should work
    to show you a preview of the staged sidebar configuration.
    
    Coming up, a way of calling actions other than 'configure' and 'content'
    on your sidebars -- a necessity for advanced navigation tools for
    instance.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1002 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Do some shuffling of controller inheritance and move the theme helper method from application to content helper. This is to allow the admin migration redirection to work without ever touching the magic {{{this_blog}}} method which blows up if you are before migration 38.
    I tested a bunch of stuff after making these changes and everythign seems to work right, but pdcawley and slaird, I would rest easier if you could double-check that my controller inheritance changes are kosher.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@922 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Added a :request_params field to the params hash that gets passed to sidebars
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@899 820eb932-12ee-0310-9ca8-eeb645f39767
    Minor code reformatting
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@869 820eb932-12ee-0310-9ca8-eeb645f39767
    Add new Backpack sidebar plugin. Fixes #371
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@826 820eb932-12ee-0310-9ca8-eeb645f39767
     r737@Menhir:  pdcawley | 2005-12-07 22:20:41 +0000
     Protected the newly included modules
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@786 820eb932-12ee-0310-9ca8-eeb645f39767
     r735@Menhir:  pdcawley | 2005-12-07 20:08:09 +0000
     Moved render_fix into application_helper.rb, where it works using "super" and no need to rename ActionView::Base#render_fix. Hurrah!
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@785 820eb932-12ee-0310-9ca8-eeb645f39767
     r717@Menhir:  pdcawley | 2005-12-06 10:33:48 +0000
     Moved the "transform" methods onto the String class and loaded transforms in the evironment
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@775 820eb932-12ee-0310-9ca8-eeb645f39767
    Add tag/category lists.  Closes #478
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@707 820eb932-12ee-0310-9ca8-eeb645f39767
    Unbreak sidebars
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@670 820eb932-12ee-0310-9ca8-eeb645f39767
    More performance updates.  Reduced logging in sidebar; this gives 2x performance on my test system.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@669 820eb932-12ee-0310-9ca8-eeb645f39767
    BACK UP YOUR DATABASE BEFORE RUNNING THESE MIGRATIONS.  Merge pdcawley's big superclass patch.  This rolls articles, pages, comments, and trackbacks into one big table, using STI.  This lets us get rid of a huge amount of duplicated code; diffstat shows a net of -148 lines, and the resulting code looks cleaner.  Closes #414
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@660 820eb932-12ee-0310-9ca8-eeb645f39767
    Make pings actually work right.  This is sort of a work in progress, but I want to commit this before I make deeper changes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@641 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix for null extended_html.  closes #395
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@637 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a user_id field to comments, and stuff it with session[:user].  Also fix over-eager saves triggered by previews
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@627 820eb932-12ee-0310-9ca8-eeb645f39767
    I forgot to save.  Doh!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@625 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved body_html and friends from push to pull.  See http://scottstuff.net/blog/articles/2005/09/04/push-me-pull-me
    for details.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@622 820eb932-12ee-0310-9ca8-eeb645f39767
    Cleaned up deprecated partials and helpers from the pre-sidebar days (closes #347)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@559 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed more permalink issues.  (closes #275)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@500 820eb932-12ee-0310-9ca8-eeb645f39767
    cDlm's JS date patch.  Fixes validation.  (closes #247)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@477 820eb932-12ee-0310-9ca8-eeb645f39767
    Took timezone out of JS "days ago" string.  Since we always send it in GMT/UTC, asking the system for the TZ name is redundant and apparently causes locale problems.  (closes #235)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@475 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed another permalink problem.  Closes #242
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@473 820eb932-12ee-0310-9ca8-eeb645f39767
    Add pagination for article admin pages.  (closes #215)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@443 820eb932-12ee-0310-9ca8-eeb645f39767
    Very basic theme support.  (closes #184)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@405 820eb932-12ee-0310-9ca8-eeb645f39767
    Code cleanups, migration to new sweeping system, fixes for new sweeping system
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@400 820eb932-12ee-0310-9ca8-eeb645f39767
    Add static pages.  Also fixes a caching bug (the new PageCache was broken due to :name/:page_name mix).  (closes #181)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@391 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on making the admin interface pretty. Main focus was user controller
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@365 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge of of /branches/admin into mainline
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@361 820eb932-12ee-0310-9ca8-eeb645f39767
    applied static pages updates by Damien Pollet closes #127
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@343 820eb932-12ee-0310-9ca8-eeb645f39767
    typo is now full static. The entire front end comes from static pages which are swept on commenting, trackbacks, new article posts and category changes.
    This means we cannot do the "posted 25 minutes ago" business but we can easily serve in excess of 1k pages per second so this should be worth it.
    
    closes #127, #21
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@337 820eb932-12ee-0310-9ca8-eeb645f39767
     * Added count for articles within each category displayed in categories partial (closes #70)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@318 820eb932-12ee-0310-9ca8-eeb645f39767
    trackback rss
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@317 820eb932-12ee-0310-9ca8-eeb645f39767
    Take user to the comments directly when thats what he is looking for (JSH) fixes #132
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@284 820eb932-12ee-0310-9ca8-eeb645f39767
    * Per article comment rss (closes #138)
    * Functional unit tests for xml_controller
    * Move to 0.13 cache sweeper
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@273 820eb932-12ee-0310-9ca8-eeb645f39767
    added categories admin. fixes #20
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@210 820eb932-12ee-0310-9ca8-eeb645f39767
    added 43things aggregation thanks to Anoop Ranganath (fixes #59)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@209 820eb932-12ee-0310-9ca8-eeb645f39767
    a few optimisations
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@204 820eb932-12ee-0310-9ca8-eeb645f39767
     * Fixes for changes in [190] which erroneously assumed that :only_path => true returns a fully qualified URL while the opposite is the case
     * Also declared a default for the path parameter in comment_url() to make the functional tests pass again
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@191 820eb932-12ee-0310-9ca8-eeb645f39767
    fixes for rss export
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@190 820eb932-12ee-0310-9ca8-eeb645f39767
     * Made RSS and RSS+Comments feeds validate by adding the blog_title as the description element again (fixes #31) [wismar@gmail.com]
     * Reworked ApplicationHelper#server_url_for to just pass :only_path => false to url_for to get an absolute URL instead of hacking in protocol and host using @request
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@186 820eb932-12ee-0310-9ca8-eeb645f39767
     * Added support for caching multiple calls to the aggregation helpers (delicious, tada, and family)
       Fixes #45
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@175 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed a bug that the configuration was only available after a web request was issuered to typo (scoop)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@113 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed aggregations, improved permalinks a bit (/04/22 instad of /4/22), moved send_ping method to the ping model and added permalinks the xml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@109 820eb932-12ee-0310-9ca8-eeb645f39767
    finetuning
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@100 820eb932-12ee-0310-9ca8-eeb645f39767
    removed config/config.yml, on first request you will be redirected to settings/install to enter the values. This page is currently not protected, need to come up with something
    before next release.
    Added categories to the right hand side
    Fixed the ordering of articles in the categories filtered view
    Added a config manager
    Adjusted html of live preview
    Created settings table
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@93 820eb932-12ee-0310-9ca8-eeb645f39767
    Article trackback inbound and outbound should be fully working now.
    Category trackback coming soon.
    Some small code cleanups.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@83 820eb932-12ee-0310-9ca8-eeb645f39767
    added del.icio.us syndication (Shane Vitarana)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@66 820eb932-12ee-0310-9ca8-eeb645f39767
    ignore errors in syndications
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@42 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the description field to the inline rdf.
    Moved server_url_for to application_helper
    Added strip_html to application_helper
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@40 820eb932-12ee-0310-9ca8-eeb645f39767
    Added flickr support in style of tadalist support.
    Added really cool caching class which makes sure we only update tada/flickr once an
    hour
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@38 820eb932-12ee-0310-9ca8-eeb645f39767
    added tada list to the right hand side (cool!)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@24 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Log caught sidebar errors to aid debugging.
    Deprecate use of view_root in sidebar plugins.
    
    My vision is for the FooSidebar partial to live in
    
      vendor/plugins/foo_sidebar/views/foo_sidebar/_content.html.erb
    
    which means it can be rendered by just specifying
    
      render "/foo_sidebar/content"
    
    since Rails will add all plugins' views directories to the view path.
    Replace inject('') with map plus join.
    
    Hat tip to William T. Nelson: https://github.com/fdv/typo/pull/22
    Fix call to renamed #contents (now #content_array).
    Avoid rendering layout for individual sidebar items.
    Removing deprecated RAILS_ROOT
    Adding some error control on sidebar loading for both frontend and backend so that if some sidebar plugin is missing or crashing, the whole thing doesn't crash anymore, but fails with appropriate error message
    Fixes ticket 64
    Fixes a bug due to the removal of caches_actions_with_params that should have been removed sooner
    fix xml_sidebar
    Fixes the sidebr not ordering
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1707 820eb932-12ee-0310-9ca8-eeb645f39767
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweaked 'render_sidebars' to allow for passing optional sidebar objects.
    This should make it easier for theme writers who want to design with
    multiple sidebars.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1407 820eb932-12ee-0310-9ca8-eeb645f39767
    Allow themes to once again override views for sidebars.
    Note that the themes need to be updated. Instead of views/plugins/sidebars/archives/content.rhtml, use views/plugins/archives_sidebar/content.rhtml. The contents of the views may also need updating for sidebars
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1263 820eb932-12ee-0310-9ca8-eeb645f39767
    Addressed a possible issue with sidebar_helper
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1252 820eb932-12ee-0310-9ca8-eeb645f39767
    Take advantage of the blog/sidebar links
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1251 820eb932-12ee-0310-9ca8-eeb645f39767
    * Moved sidebar views into the correct plugin directory
    * Linked sidebars to the blog
    * Added better diagnostics to migration 54
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1246 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed the huge-assed log problem in a slightly more elegant fashion.
    
    Quite how any change whose description includes the phrase 'huge-assed'
    can be described as elegant is a mystery, but I still maintain that it's
    more elegant than before.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1018 820eb932-12ee-0310-9ca8-eeb645f39767
    Implement an ugly ugly hack to fix #816 (extremely overly verbose sidebar component logging)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1016 820eb932-12ee-0310-9ca8-eeb645f39767
    I continue to pick away at the Sidebar system. In this patch we:
    
      * Pull Sidebars::Plugin out into lib
      * Add a Sidebars::!ComponentPlugin which all component based sidebars
        inherit from (not that there are any other sorts of sidebar yet. Bear
        with me
      * Pulled !SidebarController out of components and into app/controllers
      * Lay groundwork for eliminating {{{staged_position}}} from the Sidebar
        model
    
    We've also got the beginnings of a sidebar preview here, /sidebar will
    show you a dummy article with a sidebar -- eventually this should work
    to show you a preview of the staged sidebar configuration.
    
    Coming up, a way of calling actions other than 'configure' and 'content'
    on your sidebars -- a necessity for advanced navigation tools for
    instance.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1002 820eb932-12ee-0310-9ca8-eeb645f39767
    Make the login form slightly better. Sometimes it's just a matter of connceting the dots.
    Moving login form to Bootstrap
    Remove trailing whitespace.
    Moving login, password recovery and setup to a vertical and horizontal grid system
    Adds missing create account link on login page.
    Fixes a typo in French translation making account confirmation crash.
    Fixes some style in error and information message on account creation / confirmation and login page.
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Create one version of ul_tag_for, and give it 100% coverage.
    Yay! Eliminated the ugly 'render_grouping' stuff from ArticlesController.
    Authors, Tags, Categories all have their own controllers now. Currently
    they only handle #show and #index, but the next trick will be to migrate
    appropriate #create/#desroy/#update from their appropriate admin/*
    controllers with the eventual aim of eliminating most of the specific
    admin controllers.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1523 820eb932-12ee-0310-9ca8-eeb645f39767
    Moving admin/settings/seo to the new admin/seo controller.
    Makes the RSS description editable from the admin.
    
    This feature uses the same tags format as permalink definition %tag%. Available tags are:
    %author%: author name
    %blog_url%: blog base url
    %blog_name%: blog title
    %permalink_url%: permalink url
    
    This also does a little bit of cleaning as rss_description was duplicated in both Article and Content models. I need to find a way to add tests to this, both in the model and controller parts.
    
    [#165 state:resolved]
    Adding lang menu translation
    
    Still wondering why I was looking for many complicated solution when a so simple one was existing?
    Removing deprecated RAILS_ROOT
    Mass-removal of trailing whitespace.
    little refactor more readable
    Removing old caches_actions_with params, caches_page is enough, less ressource consumming and much better
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing a lang issue, fixing attachment issues in posts
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1731 820eb932-12ee-0310-9ca8-eeb645f39767
    – Moving settings to a real settings controller
    – Splitting settings into different pages, a more sensible way
    – Removing old files
    – Fixing the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1611 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few bugs
    Adds patch 1168
    Adds patch 1165
    Closes ticket 1166
    Closes ticket 1164
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1587 820eb932-12ee-0310-9ca8-eeb645f39767
    Language is now set from the admin pannel and not from environment.rb anymore
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1560 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a bunch of admin helpers to squelch warnings
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@932 820eb932-12ee-0310-9ca8-eeb645f39767
    Added trackback admin module
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@216 820eb932-12ee-0310-9ca8-eeb645f39767
     * Refactoring of settings controller into admin/general controller
     * Fixed functional tests for admin interface
     * Authenticate backend services against user database (again) instead of old user/pass from configuration (fixes #27)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@176 820eb932-12ee-0310-9ca8-eeb645f39767
    Tags to bootstrap
    Removes inline style from show_<something>_actions helpers.
    
    Inline style should not be used at all. This one was added there for debug purpose and should have been removed as soon as validated
    Avoid name clash for show_actions helper.
    Makes the admin/tag display look like content and comments. Simplifies tag renaming and create a Redirect from old to new URL
    Adding reirects a frontend. Did you know that such a feature existed? I guess I was the only one to use it to replace costy rewrite rules. Doesn't this rock?
    
    Sure it does!
    Give different versions of #show_actions helper different names.
    
    The wrong version of this helper method was being called. I'm guessing the
    way these helper modules are loaded has changed. To avoid any problems, two
    of the three implementations of #show_actions were renamed.
    Mass-removal of trailing whitespace.
    Better UI for items listing table
    Remove trailing whitespace.
    Moving admin/settings/seo to the new admin/seo controller.
    Remove trailing whitespace.
    Removes inline style from show_<something>_actions helpers.
    
    Inline style should not be used at all. This one was added there for debug purpose and should have been removed as soon as validated
    Adding reirects a frontend. Did you know that such a feature existed? I guess I was the only one to use it to replace costy rewrite rules. Doesn't this rock?
    
    Sure it does!
    Give different versions of #show_actions helper different names.
    
    The wrong version of this helper method was being called. I'm guessing the
    way these helper modules are loaded has changed. To avoid any problems, two
    of the three implementations of #show_actions were renamed.
    Mass-removal of trailing whitespace.
    Better UI for items listing table
    Adds some style to autocomplete
    Fixes post types display when there is no post type at all
    Fixes the way autosave displays buttons:
    - destroy this draft should only appear at autosave and when editing a draft
    - destroy this article should only appear when article is not a draft
    
    Writing this commit message makes me think that we actually need only on button, maybe with a different message. So expect another commit about this soon :-).
    Update to the main editor. Kinda like the way it looks like now, but lots of cleaning still needed (plus a major headache generating bug found).
    New editor for articles
    Refactoring to greenbar (content_helper code cleaner)
    Adds post types with admin management.
    
    Author can define multiple post types with associated templates. Default post type is 'read' so existing themes won't break.
    
    I didn't use Rails relational model on purpose as I wanted article to store the post type permalink. This will make theme helpers such as menu helpers easier to write. Maybe there's a cleaner way to do it though.
    Remove unused helper methods.
    Update spec for article index view.
    
    Include layout when rendering the view. This required change moving the
    contents helper into application_helper.rb. All this was in order to add a
    spec to make sure no extra escaping was done anywhere in the rendered
    body.
    Remove ArticlesHelper includes.
    Avoid extra html escaping in #auto_complete_results.
    @controller.controller_name is now replaced by controller.controller_name
    little refactoring in admin create new content
    Adding editor switching to pages. This needs a few refactoring and tests too
    A bit of refactoring
    Moving autocomplete plugin into admin/content helpers because of a plugin related bug that made everything crash in production mode
    Added labels for in checkbox_for_collection
    Fixed a bug on publishing an edited post + assign categories
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1851 820eb932-12ee-0310-9ca8-eeb645f39767
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    – Cleans some views by moving condition statements to a helper
    – Fix a draft + autosave behavior bug: if I save an autosaved article as a draft, it is duplicated as the autosaved article id is not taken into account in the draft saving process.
    – Moves the autosave delay to 30 seconds to cut the server a little slack
    – Removes comments creation from protect_from_forgery to avoid crash with caches_page when adding comments
    – Fixes a bug with the contributor role tha prevents contributors to access anything in the admin
    – Adds draft deletion (useful heh ?)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1778 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    – Fixed a few bugs
    – Added the week in refactoring patch
    – Added the rights table and the profile to rights one.
    – Populated the new tables.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1494 820eb932-12ee-0310-9ca8-eeb645f39767
    Added a shaded class for item lists as well
    Improved usability for comments page
    Improved usability for feedback page
    Added a bookmarklet to the edit page
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1493 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved time_delta_from_now_in_words to the right helper.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1339 820eb932-12ee-0310-9ca8-eeb645f39767
    So, when you look at the articles list and somethings published in, say
    a week's time, it'll be described as being posted
    
    7 days from now
    
    Which is rather nicer than it was.
    
    Thanks to Tyler Godfrey for the spot and for the initial patch.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1337 820eb932-12ee-0310-9ca8-eeb645f39767
    Switch article edit preview from a div to an iframe.
    This lets is preview a full, but minimal, HTML page, including the page_header stuff.
    Basically, if you want to use something like <typo:tmcode> it'l actually work in the preview.
    This works in Safari and Firefox. I hope it works in IE, but I have no way of testing
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1310 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a bunch of admin helpers to squelch warnings
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@932 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds post types with admin management.
    
    Author can define multiple post types with associated templates. Default post type is 'read' so existing themes won't break.
    
    I didn't use Rails relational model on purpose as I wanted article to store the post type permalink. This will make theme helpers such as menu helpers easier to write. Maybe there's a cleaner way to do it though.
    Remove trailing whitespace.
    Removes inline style from show_<something>_actions helpers.
    
    Inline style should not be used at all. This one was added there for debug purpose and should have been removed as soon as validated
    Adding reirects a frontend. Did you know that such a feature existed? I guess I was the only one to use it to replace costy rewrite rules. Doesn't this rock?
    
    Sure it does!
    Give different versions of #show_actions helper different names.
    
    The wrong version of this helper method was being called. I'm guessing the
    way these helper modules are loaded has changed. To avoid any problems, two
    of the three implementations of #show_actions were renamed.
    Mass-removal of trailing whitespace.
    Better UI for items listing table
    Removes inline style from show_<something>_actions helpers.
    
    Inline style should not be used at all. This one was added there for debug purpose and should have been removed as soon as validated
    Give different versions of #show_actions helper different names.
    
    The wrong version of this helper method was being called. I'm guessing the
    way these helper modules are loaded has changed. To avoid any problems, two
    of the three implementations of #show_actions were renamed.
    Mass-removal of trailing whitespace.
    Better UI for items listing table
    Adds the media back into the editor.
    Updating sidebar interface
    Doing some cleaning in the detroy process:
    – We don't need multiple destroy files when they all share the same code, excepted a message which can be defined from the controller name.
    – An old chinese master once told me "the earlier you return, the better it is", so I reverted the conditions in the destroy methods, which seems much more sensible now that I think about it.
    
    Please, guys, revert if you think using @record is going against all conventions (not sure about that one, and I don't have an internet access being stuck in the country in a frozen train because my beloved country is still unable to handle a wave of cold but it _really_ cleans the code, so I hope so).
    One should run spec before commiting
    Adding per state filtering on articles listing + better display for drafts.
    - default: everything but draft.
    - published articles
    - drafts
    - publication pending
    - withdrawn
    Fixing failing specs on post type controllers
    Update to the main editor. Kinda like the way it looks like now, but lots of cleaning still needed (plus a major headache generating bug found).
    New editor for articles
    Settings and users
    Categories now
    Better omments display
    Replacing old will_paginate with scope based Kaminari.
    Articles / content
    Adding bootstrap dependencies, switching layout and menu to bootstrap
    Adds post types with admin management.
    
    Author can define multiple post types with associated templates. Default post type is 'read' so existing themes won't break.
    
    I didn't use Rails relational model on purpose as I wanted article to store the post type permalink. This will make theme helpers such as menu helpers easier to write. Maybe there's a cleaner way to do it though.
    Remove trailing whitespace.
    Fixes tabs / subtabs in admin + specs.
    Reorganizes admin menus and submenus.
    
    Write tabs disappears for a more convenient "New Article" button.
    Contents becomes articles and has submenus for:
      – Articles
      – New article
      – Comments
      – Categories
      – Tags
    Pages becomes an independant tab with:
      – Pages
      – New page
    Resources becomes media (thank you Wordpress for helping me find a word)
    Improves article lists readability.
    
    I need to find a way to tweak will paginate a little bit more to get something even more readable
    Adding a bit of readability to articles / tags / categories lists
    Mock out all database access for admin/content/new view spec.
    Law of Demeter fix for User.profile.label.
    Remove trailing whitespace.
    Moving admin/settings/seo to the new admin/seo controller.
    Fixes a regression introduced by Rails 3.0.7 on a missing html_safe in menu display
    Until we do something better, macro pop ups should now open a lightbox
    Adding an embedded URL shortener. Every page and article gets its shortened URL with a 301 (permanent) redirect. Shortened URL is available to published_content only and is displayed within the administration.
    Initial migration adds shortened URL for existing content.
    
    The set_shortened_url method is duplicated in both conte t and page controller. It should probably move to the content model, not sure about that. Also adding some specs, which makes me think that pages should be rewriten from (almost) scratch.
    Here we are, shouldn't have anything left from the old CSS. Time to clean the CSS itself now
    Cleans most of the generated CSS needs.
    
    Still to do:
    * Clean the background and tab things
    * Ensure there is no more JQuery UI selectors left in the admin
    * Remove everything we don't need from the stylesheet
    * Split the stylesheet between structure and colors
    * Make another theme available
    Removing the ability for end users to edit uploaded files mime type.
    
    First, this is a usability heresis. End users should not have to deal with mime types, and the application takes care of it from them.
    Second, we never use it anywhere. Since files are directly served by the Web server, having it there is useless
    Removes inline style from show_<something>_actions helpers.
    
    Inline style should not be used at all. This one was added there for debug purpose and should have been removed as soon as validated
    Avoid name clash for show_actions helper.
    Removes some dead code
    Makes the admin/tag display look like content and comments. Simplifies tag renaming and create a Redirect from old to new URL
    Complete admin typo_avatar implementation
    New admin default stylesheet
    Makes the editor switching work
    Fixes badly escaped HTML
    @controller.controller_name is now replaced by controller.controller_name
    Fix page count check in admin helper.
    
    The WillPaginate::ViewHelpers.total_pages_for_collection method does not
    exist anymore. Replaced with collection.total_pages.
    Replacing link_to_remote with link_to :remote => true
    Removing deprecated RAILS_ROOT
    Mass-removal of trailing whitespace.
    Redesign all the comment moderation and listing in admin. Makes both global and per article view the same. Adds some per comments action. Adds for toolbar to the comment editor. [#184 state:resolved] [#135 state:resolved]
    Better UI for items listing table
    Better profile edit display, user edit, user listing
    Dropping iTunes metadata support. They will probably come back in the futur as a plugin
    Comment view, new comment form
    New CSS and admin, still need some tweaking. The whole customize thing is still to be done
    Cleaning dead code
    Fixing a very old buck screwing up the switch between simple and visual editor.
    Adds a batter media library, with carousel + Ajax fetch of next elements. Got a strange behavior after ajax loading, but I'll need some help at that point
    Adding a basic image viewer on the simple editor
    Ooooops, I forgot the whole customize thing
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    A bit of refactoring, moving the comments management as a sub module of the management itself. Next somes a 'What can you do' view of the dashboard
    Updating layout and helpers with CKEditor
    Move the user edition from the Admin::UserController to a Admin::ProfileController. Now the user creation / edition is part of the admin/settings and admins are the only one to edit them. It also fixes a huge security hole where any logged in user can create / delete users without the admin credential. Also removes a bunch of unnecessary hazardous conditions we didn't really need
    Fixing ticket 113
    Allowing to send content from an editor to another and back. I know. It's ugly. Please send a patch if you're better at Javascript than me, I'd be really glad
    Some editor refactoring, it really needed it after yesterday's change.
    
    I've made a migration to make User.editor manipulation easier (simple / visual is better than 0,2). That allowed me to ditch lot of duplicate code. Cool.
    Adding editor switching to pages. This needs a few refactoring and tests too
    Added text filters back on pages nd articles forms, moved text filters to users instead of global configuration
    Some more admin tweaking, mostly the sidebars, some things here and there... Looking better
    use current_user.admin? otherwise test with profile label
    Removing useless textfilters setting in the admin, adding macro help in the editor when editor is not FCK
    Moves the editor choice from global to per user
    Fixes a spec on articles because of moving to will_paginate
    Rejiged login and signup forms.
    Added 'remember me' functinnality (at last)
    Removed old images from admin, not displaying empty H2 for page_heading anymore
    fix some error in escaping and i18n in helper
    avoid translation of subtask in admin
    Adding subcategories
    Giving Typo some SEO capabilities
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1849 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed bookmarklet, will certainly come back in another form later
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1848 820eb932-12ee-0310-9ca8-eeb645f39767
    Refactoring and removing dead code made my day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1847 820eb932-12ee-0310-9ca8-eeb645f39767
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    – Cleans some views by moving condition statements to a helper
    – Fix a draft + autosave behavior bug: if I save an autosaved article as a draft, it is duplicated as the autosaved article id is not taken into account in the draft saving process.
    – Moves the autosave delay to 30 seconds to cut the server a little slack
    – Removes comments creation from protect_from_forgery to avoid crash with caches_page when adding comments
    – Fixes a bug with the contributor role tha prevents contributors to access anything in the admin
    – Adds draft deletion (useful heh ?)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1778 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a rendering bug in default theme in IE6
    Fixes an admin bug to access textfilters
    Unifies text filter admin with the rest of the back office
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1760 820eb932-12ee-0310-9ca8-eeb645f39767
    Doing a little bit of cleaning
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1757 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds filtering on edit / delete to content for non administrative users
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1754 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin cleaning :\n
    – removing admin for cache sweeping since no one knew it existed.\n
    – removing preview for articles and pages since they have been replaced long ago.\n
    – confirmation pop up for everything instead of going to destroy page. Destroy page has been kept for accessibility purpose.\n
    – Comments.new template removed since it's now on the comments list\n
    – Trackbacks.new admin removed : building a trackback on your own blog is a nonsense.\n
    Some more images cleaining.\n
    Removed unused tests.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1728 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    Some more admin enhancement
    Added typo:code stylesheet
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1688 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    Few changes in back office
    Fixes 1184
    Few bug fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1614 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes 1171, 1173 and 1178 plus minor usability fixes and adds 5.0 CHANGESET
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1609 820eb932-12ee-0310-9ca8-eeb645f39767
    Styles some forms
    Styles the sidebar items
    Fixes a bug in the theme lists
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1558 820eb932-12ee-0310-9ca8-eeb645f39767
    Another bit of admin tweaking :
    
    – Added by column sorting on posts and pages admin (always useful)
    – Revamped the categories/show/id to look like the contents/list and
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1544 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes ticket 1149
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1542 820eb932-12ee-0310-9ca8-eeb645f39767
    Changed the default admin path to the dashboard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1540 820eb932-12ee-0310-9ca8-eeb645f39767
    Did a bit of cleaning in the images directory. Moved admin specific pictures in images/admin and removed lots of useless garbage that should not have been here.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1537 820eb932-12ee-0310-9ca8-eeb645f39767
    Still some admin tweaking. Looks better now and is easier to use.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1530 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1529 820eb932-12ee-0310-9ca8-eeb645f39767
    Roll back r1527 at Piers's request
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1528 820eb932-12ee-0310-9ca8-eeb645f39767
    Initial commit. Bar is green, but we're a long way from finished.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1527 820eb932-12ee-0310-9ca8-eeb645f39767
    Switched to storing only the user_id in the session rather than the whole
    user.
    
    You know it makes sense :).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1516 820eb932-12ee-0310-9ca8-eeb645f39767
    Right ho, /articles/category now redirects to /articles/categories,
    which is a resource now.
    
    Eventually, CategoriesController will take on the duties of
    Admin::CategoriesController, but not quite yet, for now it just handles
    index and show.
    
    Note that we've also introduced a new type of resource, the 'inflected_resource'
    which uses /articles/categories/... for its collection methods, but
    /articles/category/whatever for its members. This means that you we can
    have a category with a permalink of 'new' and it won't clash with with the
    admin form for creating a new category.
    
    Isn't that lovely?
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1510 820eb932-12ee-0310-9ca8-eeb645f39767
    A big cleanup of the way content and feedback state is handled:
    
     * The ContentState:: namespace is gone. States now appear in the
       Article::States and Feedback::States namespace (or anywhere else
       that would be found through normal namespace resolution)
     * The magic now happens in lib/stateful.rb, which sets up the
      'has_state' declaration. Look at article.rb and feedback.rb for
       examples of it in use. Documentation and pluginification will happen.
       Eventually.
    
    Also, I've done a bit of spring cleaning on various content related
    classes and (shock!) added tests for Article#comment_closed?. Did
    _you_ know that wasn't being tested? Me neither.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1438 820eb932-12ee-0310-9ca8-eeb645f39767
    – Changed a few things in the UI
    – Now you can edit and view comments from the discuss page
    – Started Sitealizer integration
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1396 820eb932-12ee-0310-9ca8-eeb645f39767
    Few bug fixes, translated the plugins frontends, added some things here and there. The CSS code in the template is done on prpose, otherwise it doesn't work
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1391 820eb932-12ee-0310-9ca8-eeb645f39767
    Rebuild the content and pages list
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1366 820eb932-12ee-0310-9ca8-eeb645f39767
    Applies administration regorganisation patch + adds some new icons from famfamfam.com
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1364 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved time_delta_from_now_in_words to the right helper.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1339 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Put the admin log out/in link back
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1215 820eb932-12ee-0310-9ca8-eeb645f39767
    Eliminated the :controller/:action/:id default route, which works around
    the big nasty Rails Security Hole.
    
    It turns out we relied on it in all sorts of strange places. So I fixed that
    too.
    
    Expect a new Typo release real soon now.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1210 820eb932-12ee-0310-9ca8-eeb645f39767
    Big changes to the state engine for feedback. Feedback now starts off
    in the 'Unclassified' state and moves to either JustPresumedHam or
    PresumedSpam depending on the results of Feedback#classify (the various Just*
    states are there as one shot states to handle sending of notifications or
    registering of spam/ham classification with akismet). JustPresumedHam
    decays to PresumedHam as soon as the feedback has been saved and the
    notifications sent.
    
    And there they rest until the classifications are solidified by the blog
    administrator on the feedback page. Feedback ends up as either Spam or Ham
    with an intermediate 'JustMarkedAs*' step for registering with Akismet.
    
    It should be possible to do some useful filtering on the feedback page
    (for instance, only see those messages whose classification hasn't been
    confirmed), but for that we need to add a couple of boolean fields to the
    contents table.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1188 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Add ability to edit Content Type of existing resources.
    Fix add/edit metadata so all ids are now unique and the labels have the proper for attribute.
    Remove odd hidden duplicate Explicit input in metadata.
    Properly HTML-escape various fields in the resources list.
    Fix iTunes categories list to remove entity-escaping in internal list and instead only escape on display.
    Fixes #554, #423
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@840 820eb932-12ee-0310-9ca8-eeb645f39767
    Podcasting, thanks to bingeldac (Grant Schofield).  This also reverts the previous two patches--it's possible that migrations are broken, but that's better then everything else being broken.  There are a few things that I'd like to change here, but by and large it works.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@752 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
     * Fixed render_flash (apparently didn't work at all previously because of a .downcase error), added flash[:error] handling
     * Properly redirect back to the list action if adding a category fails, placing an error message into the flash (closes #317)
     * Added name of category to be deleted to CategoryController#destroy
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@558 820eb932-12ee-0310-9ca8-eeb645f39767
    Closes #231 U.I. changes and cleanup up redundant screens.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@498 820eb932-12ee-0310-9ca8-eeb645f39767
    Add cache admin tab.  Revert database.yml screwup.  (closes #172)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@455 820eb932-12ee-0310-9ca8-eeb645f39767
    Add pagination for article admin pages.  (closes #215)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@443 820eb932-12ee-0310-9ca8-eeb645f39767
    polish for the (Static-) Pages admin controller.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@402 820eb932-12ee-0310-9ca8-eeb645f39767
    Expanded the quick post system to categories and blacklists
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@384 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on making the admin interface pretty. Main focus was user controller
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@365 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed tabs in admin interface and fixed a bad merge for the general settings
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@362 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge of of /branches/admin into mainline
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@361 820eb932-12ee-0310-9ca8-eeb645f39767
    Much improved text_filtering. You can now choose from Markdown, Textile and SmartyPants as well as Markdown + Smartypants both (scott@sigkill.org) fixes #137
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@287 820eb932-12ee-0310-9ca8-eeb645f39767
    humongous refactoring of the config setup. It doesn't suck anymore!
    added that you can specify how many articles you want to show in rss and on the blog (seth@remor.com) closes #133
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@286 820eb932-12ee-0310-9ca8-eeb645f39767
    style upgrade (@request = request, @params = params, @session = session)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@279 820eb932-12ee-0310-9ca8-eeb645f39767
     * Added ability to edit text_filter and created_at of articles via the web admin
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@236 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed all of the image_tag calls to not be dependant on the images directory being at root of webserver.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@203 820eb932-12ee-0310-9ca8-eeb645f39767
     * Dropdown options for SpamProtection didn't get properly reselected after submission
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@180 820eb932-12ee-0310-9ca8-eeb645f39767
     * Merged spamprot branch containing DNSRBL blocking, URL count limit, old article auto-close (refs #25)
       MISSING: Moderation options instead of flat out blocking, bayes based blocking, web-interface for blacklist items, auto-close indication
     * Minor fixes from spamprot branch:
       * No more escaping of article titles in articles/_read.rhtml
       * Proper sorting for delicious partial
       * Better semantics for sidebar boxes
    
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@178 820eb932-12ee-0310-9ca8-eeb645f39767
     * Refactoring of settings controller into admin/general controller
     * Fixed functional tests for admin interface
     * Authenticate backend services against user database (again) instead of old user/pass from configuration (fixes #27)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@176 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug introduced by previous commit.
    
    Since we now generate 2 sizes of thumbnail, we need to move the check on thumb creation from the helper to the model
    Removing deprecated RAILS_ROOT
    Mass-removal of trailing whitespace.
    Adding a basic image viewer on the simple editor
    Adds a first draft for Typo images library
    Add a bunch of admin helpers to squelch warnings
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@932 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Improving user's profile, adding fields for msn, aim, twitter... and a better display name. Avatar and dedicated pages will come later
    Add a bunch of admin helpers to squelch warnings
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@932 820eb932-12ee-0310-9ca8-eeb645f39767
    Better omments display
    Porting the comments view to Bootstrap
    Fixes feedback actions when called from the dashboard.
    
    Feedback actions were broken within the dashboard because links were pointing to admin/dashboard/action instead of admin/feedback/action. Explicitely calling admin/feedback controller in the show_feedback_actions generateis expected links wherever the method is called.
    Improves the dashboard usability and lisibility.
    
    Adds links to the various part of admin targeted by contents and feedback overview.
    Improves listing display.
    Adds articles summaries and time information where they were missing.
    Adds comments moderation directly within the dashboard.
    Adds the number of posts from Typo blog.
    Fixes the date display where getting information from RSS.
    Fixes admin feedback
    Give different versions of #show_actions helper different names.
    
    The wrong version of this helper method was being called. I'm guessing the
    way these helper modules are loaded has changed. To avoid any problems, two
    of the three implementations of #show_actions were renamed.
    Replacing link_to_remote with link_to :remote => true
    Mass-removal of trailing whitespace.
    Improve admin comments management
    Redesign all the comment moderation and listing in admin. Makes both global and per article view the same. Adds some per comments action. Adds for toolbar to the comment editor. [#184 state:resolved] [#135 state:resolved]
    Better UI for items listing table
    Fixing dashboard style
    Adding visual signal on ham / spam comments the same way as we do on posts
    A bit of feedback revamping
    TextHelper::truncate get an hash with :lenght option, instead of 2 args in Rails 2.2. It's a deprecated system
    Refactoring and removing dead code made my day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1847 820eb932-12ee-0310-9ca8-eeb645f39767
    Doing a little bit of cleaning
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1757 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few bugs
    Adds patch 1168
    Adds patch 1165
    Closes ticket 1166
    Closes ticket 1164
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1587 820eb932-12ee-0310-9ca8-eeb645f39767
    Add the comment counting on the feedback menus Limit to spam,
    Limit to unconfirmed and Limit to unconfirmed spam
    
    Add the link to the new iconset replacing famfamfa
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1547 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1400 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Added some filtering to the feedback page. You can now limit the listing to get rid
    of articles whose classification you have confirmed as well as a simple spam/ham
    filter.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1218 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix a bad link.  Closes #1016.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1151 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on the feedback page.  Seems useful now--we have bulk delete and publish/unpublish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1135 820eb932-12ee-0310-9ca8-eeb645f39767
    Spam protection, step 1: add an admin page ('Feedback') that lists all trackbacks and comments, and allows deleting.  I still need to add bulk deleting, and them move on to better filtering.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1132 820eb932-12ee-0310-9ca8-eeb645f39767
    Welcome, one and all, to the new style sidebar API.
    
    Nope, there's no documentation yet (but see the poorly titled
    http://www.bofh.org.uk/2006/04/16/write-your-own-typo-sidebar for an
    overview of what's new).
    
    The big change is the addition of a bunch of classmethods to the Sidebars::Plugin
    superclass. The new methods are :setting, :display_name and :description.
    
    We already had :display_name and :description, but the new version take an optional
    argument and work as declarators as well. Also, :display_name does a good job of
    guessing the right display name in many cases.
    
    With the addition of these classmethods, we get to DRY up all those gruesome
    boilerplated configure.rhtml files since 'setting' provides enough information
    for them to be autogenerated.
    
    Oh, and this change is backwards compatible. You don't have to use the new
    class methods, but you're daft if you don't. You'll still have to get rid of the
    explict form_tag and observe_form bits of really old configure.rhtml files, but
    I can't make us that backward compatible because the old way broke browsers.
    
    If you want to see pretty much all the ways :setting can work, check out
    !XmlController and !FlickrController, which pretty much cover the waterfront.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1022 820eb932-12ee-0310-9ca8-eeb645f39767
    Got rid of those annoying messages about missing default helpers.
    The changeset is slightly bigger than it should be because I can't
    work out how to make svk/svn ignore whitespace only changes, and
    emacs is a bit more eager than TextMate to remove extraneous spaces.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@901 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin cleaning :\n
    – removing admin for cache sweeping since no one knew it existed.\n
    – removing preview for articles and pages since they have been replaced long ago.\n
    – confirmation pop up for everything instead of going to destroy page. Destroy page has been kept for accessibility purpose.\n
    – Comments.new template removed since it's now on the comments list\n
    – Trackbacks.new admin removed : building a trackback on your own blog is a nonsense.\n
    Some more images cleaining.\n
    Removed unused tests.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1728 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug in the mt api and a bug in the migrations with sqlite
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1725 820eb932-12ee-0310-9ca8-eeb645f39767
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    More decomposition of the monolith that it ArticlesController into
    per resource controllers. Trackbacks get their own controller this time.
    
    Also, work continues on pushing behaviour out of controllers and into
    models.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1514 820eb932-12ee-0310-9ca8-eeb645f39767
    – Fixed a few bugs
    – Added the week in refactoring patch
    – Added the rights table and the profile to rights one.
    – Populated the new tables.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1494 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix MT category bug.  Closes #1120
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1269 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Web notifications (trackbacks, pingbacks that stuff) are now triggered from
    the WebNotifier content observer.
    
    Note that we've now added a new setting to Blog 'default_server_url' as a
    fallback for finding the blog's base url. If you're experiencing problems
    (I don't think you should be, it's only currently an issue in the tests and
    our blog fixtures has an appropriate url set), go to your /admin page and
    set the default url there (it should pick up a sensible default, so you can
    just check that for sanity and hit save if you like).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1046 820eb932-12ee-0310-9ca8-eeb645f39767
    Probable fix for #847
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1041 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix the test failures under Rails 1.1.2. Turns out #invoke_layered will blow up if the invoked method has an api_method declaration without the :expects key
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1009 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Turned Content.published into a real boolean. Which has surprisingly far reaching effects.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@790 820eb932-12ee-0310-9ca8-eeb645f39767
    BACK UP YOUR DATABASE BEFORE RUNNING THESE MIGRATIONS.  Merge pdcawley's big superclass patch.  This rolls articles, pages, comments, and trackbacks into one big table, using STI.  This lets us get rid of a huge amount of duplicated code; diffstat shows a net of -148 lines, and the resulting code looks cleaner.  Closes #414
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@660 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    Implemented mt.supportedMethods returning an array of strings describing the available mt.* API calls supported by Typo (closes #253)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@548 820eb932-12ee-0310-9ca8-eeb645f39767
    Much improved text_filtering. You can now choose from Markdown, Textile and SmartyPants as well as Markdown + Smartypants both (scott@sigkill.org) fixes #137
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@287 820eb932-12ee-0310-9ca8-eeb645f39767
     * Don't show text formatting option if the corresponding module isn't installed (Bluecloth/RedCloth)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@235 820eb932-12ee-0310-9ca8-eeb645f39767
     * API fixes and cleanups, most of what we had as ints is actually treated as strings in the specs
     * Workaround for ecto ISO.8601 Problem by overriding XMLRPC::Convert::DateTime and proving a less strict regex for parsing allowing for a trailing 'Z'
     * Added blogger.getUserInfo to avoid AWS exception when using ecto
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@232 820eb932-12ee-0310-9ca8-eeb645f39767
    Following up on spelling fix.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@197 820eb932-12ee-0310-9ca8-eeb645f39767
    I spelled Movable Type wrong a while ago, and now it is fixed everywhere.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@196 820eb932-12ee-0310-9ca8-eeb645f39767
     * Merged spamprot changesets [155] and [156] since they affect trunk as well
     * Prefix relative path with :controller => since url_for just returns the passed relative path if we don't do that (fixes #26)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@173 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Translators only shown in blog client if the libraries are available.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@135 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged /branches/aws to /trunk. Three cheers for Patrick Lenz's fantastic work in this branch
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@132 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove useless compatibility code.
    
    No need to take 0.6.2 and older versions of AWS into account.
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    BACK UP YOUR DATABASE BEFORE RUNNING THESE MIGRATIONS.  Merge pdcawley's big superclass patch.  This rolls articles, pages, comments, and trackbacks into one big table, using STI.  This lets us get rid of a huge amount of duplicated code; diffstat shows a net of -148 lines, and the resulting code looks cleaner.  Closes #414
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@660 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    Populate user association in new articles posted via Content Admin. Display number of articles per user in User Admin. (closes #203) [devel@unlogikal.net]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@431 820eb932-12ee-0310-9ca8-eeb645f39767
    Provide an optional mailto: link on article author names. (closes #156)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@354 820eb932-12ee-0310-9ca8-eeb645f39767
     * Refactoring of settings controller into admin/general controller
     * Fixed functional tests for admin interface
     * Authenticate backend services against user database (again) instead of old user/pass from configuration (fixes #27)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@176 820eb932-12ee-0310-9ca8-eeb645f39767
     * Merged spamprot changesets [155] and [156] since they affect trunk as well
     * Prefix relative path with :controller => since url_for just returns the passed relative path if we don't do that (fixes #26)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@173 820eb932-12ee-0310-9ca8-eeb645f39767
    some refactoring to remove unuse code
    Removing RAILS_DEFAULT_LOGGER deprecation warning
    Mass-removal of trailing whitespace.
    Fix MetaWeblog API to interpret time zones consistently
    
    The goal of this patch is to fix the following unit test failure, which
    started occuring at (IIRC) 7pm Eastern Standard Time this evening:
    
      Test::Unit::AssertionFailedError in 'BackendController
        test_meta_weblog_new_post'
      <Fri Nov 28 05:00:00 UTC 2008> expected but was
      <Sat Nov 29 05:00:00 UTC 2008>.
      ./spec/controllers/backend_controller_spec.rb:186:in
        `test_meta_weblog_new_post'
    
    This failure does not occur earlier in the day, at least in my time zone.
    
    To fix this problem, we need to fix the dateCreated field returned by
    getPost to use a proper dateTime value instead of a string.  This may
    affect users who use MetaWeblog API clients, though hopefully it will only
    affect them for the better.
    
    The problem: The existing code is attempting to use UTC for all dateTime
    values, but failing, because it sometimes returns strings where dateTime
    values are expected.
    
    Why the existing code is correct to _attempt_ to use UTC everywhere:
    
    The XML-RPC spec does not allow serialized dateTime values to contain a
    time zone, and instead relies on clients and servers to agree on a
    convention for interpreting dateTime values:
    
      http://www.xmlrpc.com/spec
    
      * What timezone should be assumed for the dateTime.iso8601 type? UTC?
        localtime?
    
        Don't assume a timezone. It should be specified by the server in its
        documentation what assumptions it makes about timezones.
    
    As you can see from the following discussion, the MetaWeblog API inherits
    this ambiguity:
    
      http://www.25hoursaday.com/weblog/CommentView.aspx?guid=c210531e-646c-41e8-a81e-f3efd4ba8df4
    
    As noted in that comment thread, most blogging tools have standardized on
    using UTC everywhere, since it can be unambiguously interpreted without a
    timezone.
    
    The fixes:
    
      1) First, in the test cases, Time.now.midnight.utc and
         Time.now.utc.midnight are _not_ the same in most time zones.  This is
         fixed by relying on the previously computed value of
         'article.published_at' instead of checking the clock a second time.
         Doing this also allows us to work around a hypothetical test case
         failure which would occur if the clock passed midnight in the middle
         of the test case.
    
      2) Second, ActionWebService will simply Do The Right Thing with dates,
         but only if it can identify them as such.  Previously, the function
         MetaWeblogService.article_dto_from would actually try to serialize
         dates as strings instead of XML-RPC dateTime values.  This caused a
         variety of time zone lossage, and made the test case failures very
         hard to debug.  The biggest consequence of this bug: getPost would
         return a string instead of an XML-RPC dateTime value for dateCreated.
    
    I've added a test case to make sure that we can round-trip dates without
    corrupting them.
    Fixes something wrong in tag assignements with metaweblog API
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1753 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes keywords missing on metaweblog API
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1752 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes issue 1210
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1681 820eb932-12ee-0310-9ca8-eeb645f39767
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    – Fixed a few bugs
    – Added the week in refactoring patch
    – Added the rights table and the profile to rights one.
    – Populated the new tables.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1494 820eb932-12ee-0310-9ca8-eeb645f39767
    Closes comment 1111 and 1112
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1455 820eb932-12ee-0310-9ca8-eeb645f39767
    metaWeblog methods which return a permalink now actually return a permalink, rather than just the "permalink" field of Article
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1293 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Eliminated the :controller/:action/:id default route, which works around
    the big nasty Rails Security Hole.
    
    It turns out we relied on it in all sorts of strange places. So I fixed that
    too.
    
    Expect a new Typo release real soon now.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1210 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix for #872
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1054 820eb932-12ee-0310-9ca8-eeb645f39767
    Web notifications (trackbacks, pingbacks that stuff) are now triggered from
    the WebNotifier content observer.
    
    Note that we've now added a new setting to Blog 'default_server_url' as a
    fallback for finding the blog's base url. If you're experiencing problems
    (I don't think you should be, it's only currently an issue in the tests and
    our blog fixtures has an appropriate url set), go to your /admin page and
    set the default url there (it should pick up a sensible default, so you can
    just check that for sanity and hit save if you like).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1046 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed explicit htmlification from a couple of webservices apis
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1045 820eb932-12ee-0310-9ca8-eeb645f39767
    Started the process of moving 'on publication' behaviour out of controllers and
    apis and onto observers. The observer implementations are currently just simple
    callbacks onto the content objects, but that may change in the medium to long
    term.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1043 820eb932-12ee-0310-9ca8-eeb645f39767
    Probable fix for #847
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1041 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix MetaWeblog API to return a proper error if newPost cannot save the article
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@878 820eb932-12ee-0310-9ca8-eeb645f39767
    Integrated patch 526
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@872 820eb932-12ee-0310-9ca8-eeb645f39767
    Turned Content.published into a real boolean. Which has surprisingly far reaching effects.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@790 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Clean up XMLRPC to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@689 820eb932-12ee-0310-9ca8-eeb645f39767
    BACK UP YOUR DATABASE BEFORE RUNNING THESE MIGRATIONS.  Merge pdcawley's big superclass patch.  This rolls articles, pages, comments, and trackbacks into one big table, using STI.  This lets us get rid of a huge amount of duplicated code; diffstat shows a net of -148 lines, and the resulting code looks cleaner.  Closes #414
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@660 820eb932-12ee-0310-9ca8-eeb645f39767
    Add support for pinging certain sites during every update.  This will make us play better with Technorati, etc.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@638 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix localtime problem with meta_weblog_service -- this caused created_at to creep by one TZ offset when editing with ecto.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@616 820eb932-12ee-0310-9ca8-eeb645f39767
    Revert meta_weblog_service's :dateCreated field back to :time, as ecto croaks when it's :string.  Apparently :string breaks that MT API.  Also, minor article.rb cleanups
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@570 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
     * Fixed XmlControllerTest#test_pubdate_conformance to pass on different timezones (who would've guessed how many there are!)
     * Style fix in MetaWeblogService, use config instead of $config
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@554 820eb932-12ee-0310-9ca8-eeb645f39767
    Added support for dateCreated handling in metaWeblog#newPost and #editPost (closes #318) [henri@websiteburo.com]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@553 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
     * Move the test salt setting of the User model into test_helper
     * Implemented <category> extraction for blogger.newPost
     * Inherit text_filter for new articles posted via backend from blog config
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@444 820eb932-12ee-0310-9ca8-eeb645f39767
    Provide an optional mailto: link on article author names. (closes #156)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@354 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed the "categories from title" hack now that there is a real web based interface.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@245 820eb932-12ee-0310-9ca8-eeb645f39767
     * MetaWeblogStructs::Article#mt_tb_ping_urls is actually supposed to be an array of strings, not a string. This caused problems with MarsEdit (fixes #65)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@242 820eb932-12ee-0310-9ca8-eeb645f39767
     * API fixes and cleanups, most of what we had as ints is actually treated as strings in the specs
     * Workaround for ecto ISO.8601 Problem by overriding XMLRPC::Convert::DateTime and proving a less strict regex for parsing allowing for a trailing 'Z'
     * Added blogger.getUserInfo to avoid AWS exception when using ecto
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@232 820eb932-12ee-0310-9ca8-eeb645f39767
    Adjusted MetaWeblogStructs::Article to use a time object for dateCreated, using datetime omitted the time for some reason
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@228 820eb932-12ee-0310-9ca8-eeb645f39767
     * Added admin module to CRUD blacklist patterns (refs #25)
     * Removed superfluous start_form_tag from admin/*/show.rhtml
     * Fixed category admin functional tests
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@213 820eb932-12ee-0310-9ca8-eeb645f39767
    I spelled Movable Type wrong a while ago, and now it is fixed everywhere.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@196 820eb932-12ee-0310-9ca8-eeb645f39767
     * Trackbacks will now send pretty URLs too (fixes #23)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@183 820eb932-12ee-0310-9ca8-eeb645f39767
     * Refactoring of settings controller into admin/general controller
     * Fixed functional tests for admin interface
     * Authenticate backend services against user database (again) instead of old user/pass from configuration (fixes #27)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@176 820eb932-12ee-0310-9ca8-eeb645f39767
     * Merged spamprot changesets [155] and [156] since they affect trunk as well
     * Prefix relative path with :controller => since url_for just returns the passed relative path if we don't do that (fixes #26)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@173 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged /branches/aws to /trunk. Three cheers for Patrick Lenz's fantastic work in this branch
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@132 820eb932-12ee-0310-9ca8-eeb645f39767
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    More 4.1 cleanups.  Complete move from serialized canonical_server_url to non-serialized base_url.
    Add a bunch of rdoc.  More deprecations and cleanups.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1242 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Eliminated the :controller/:action/:id default route, which works around
    the big nasty Rails Security Hole.
    
    It turns out we relied on it in all sorts of strange places. So I fixed that
    too.
    
    Expect a new Typo release real soon now.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1210 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix for #872
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1054 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed explicit htmlification from a couple of webservices apis
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1045 820eb932-12ee-0310-9ca8-eeb645f39767
    Started the process of moving 'on publication' behaviour out of controllers and
    apis and onto observers. The observer implementations are currently just simple
    callbacks onto the content objects, but that may change in the medium to long
    term.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1043 820eb932-12ee-0310-9ca8-eeb645f39767
    Probable fix for #847
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1041 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    [BloggerAPI] Save article before assigning articles (fixes Rails 1.0 incompatibility)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@804 820eb932-12ee-0310-9ca8-eeb645f39767
    Turned Content.published into a real boolean. Which has surprisingly far reaching effects.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@790 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Apply comment/trackback/filter defaults to Blogger API.  Closes #450
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@674 820eb932-12ee-0310-9ca8-eeb645f39767
    BACK UP YOUR DATABASE BEFORE RUNNING THESE MIGRATIONS.  Merge pdcawley's big superclass patch.  This rolls articles, pages, comments, and trackbacks into one big table, using STI.  This lets us get rid of a huge amount of duplicated code; diffstat shows a net of -148 lines, and the resulting code looks cleaner.  Closes #414
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@660 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
     * Move the test salt setting of the User model into test_helper
     * Implemented <category> extraction for blogger.newPost
     * Inherit text_filter for new articles posted via backend from blog config
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@444 820eb932-12ee-0310-9ca8-eeb645f39767
    Allow the user to change their email address or displayed name without changing their password.  Fixes unit tests, as pointed out in [357].  Also fixes BloggerAPI.newPost to pass functional tests.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@360 820eb932-12ee-0310-9ca8-eeb645f39767
     * Changes in [324] broke Pgsql, fixed by this commit (closes #150) [wac+typo@carrel.org]
    
     * Implemented BloggerAPI.newPost (closes #185, #79)
     * Added test coverage for BloggerAPI.getUserInfo
     * Reverted (accidential?) changes to User model in [354], making User tests pass again
     * Added test coverage for [354] and [355] making Configuration tests pass again
       Scott: Please be sure to run rake before committing and adjust tests according to your changes. Thanks.
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@357 820eb932-12ee-0310-9ca8-eeb645f39767
    updated typo to conform better to the Blogger API. closes #168
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@349 820eb932-12ee-0310-9ca8-eeb645f39767
    follow rails style closely by using symbols where ever possible
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@310 820eb932-12ee-0310-9ca8-eeb645f39767
     * API fixes and cleanups, most of what we had as ints is actually treated as strings in the specs
     * Workaround for ecto ISO.8601 Problem by overriding XMLRPC::Convert::DateTime and proving a less strict regex for parsing allowing for a trailing 'Z'
     * Added blogger.getUserInfo to avoid AWS exception when using ecto
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@232 820eb932-12ee-0310-9ca8-eeb645f39767
     * Merged spamprot changesets [155] and [156] since they affect trunk as well
     * Prefix relative path with :controller => since url_for just returns the passed relative path if we don't do that (fixes #26)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@173 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged /branches/aws to /trunk. Three cheers for Patrick Lenz's fantastic work in this branch
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@132 820eb932-12ee-0310-9ca8-eeb645f39767
    non-admin and both texts added to step functions
    first cucumber test passing
    initial changes to typo
    non-admin and both texts added to step functions
    Adding cucumber starter features
    Spruced up the create blog feature a bit
    Adding cucumber support to typo
    non-admin and both texts added to step functions
    first cucumber test passing
    Adding cucumber starter features
    Adding cucumber support to typo
    first cucumber test passing
    Adding cucumber starter features
    Adding cucumber support to typo
    Removing cucumber scenario. This was an attempt to add integration testing, but they never really worked and were never maintained. Better focus on a good rspec coverage.
    finish the first signup scenario
    starting using cucumber
    Adding cucumber support to typo
    Removing cucumber scenario. This was an attempt to add integration testing, but they never really worked and were never maintained. Better focus on a good rspec coverage.
    starting using cucumber
    Adding cucumber support to typo
    Mass-removal of trailing whitespace.
    rspec updates
    Activate SimpleCov.
    Fixing the specs. Removing useless specs as we don't rely on tabs anymore. I, however, need to add some more checks there, but on another way
    Fix factory_girl deprecation warning.
    Revert "spec cleaning"
    
    This reverts commit a44b1ebc0112d5ed349696d3345edc80e88b0f2e.
    Backport fix for rspec issue 258.
    
    See <https://github.com/rspec/rspec-core/pull/258>.
    spec cleaning
    Remove text_filter fixture. That was the last fixture to remove...
    
    Still notification_mailer in test/fixtures dir...
    That for the next time
    in the way to removing user spec...
    fix spec errors about fixtures...
    remove user fixture usage. Still some tobi usage to replace
    Remove another fixture ... \o/
    removing Feedback fixture \o/
    Stub out all database access in article read view spec.
    Fix automatic finding of file to render.
    Adding permalinks SEO tab.
    
    Fixes a bug where SEO params would never be saved.
    Fix rendering of resources in article Atom partial.
    Speed up CategoriesController specs.
    Fixes tabs / subtabs in admin + specs.
    Give articles index RSS feed its own template.
    Give articles index Atom feed its own template.
    
    I want to give each feed its own template, and remove the to_atom and
    to_rss methods from the models.
    Require 'rexml/document' in spec_helper so individual spec files run again.
    
    Due to the change of flickr gem, at least the xml controller spec file
    could not be run individually anymore. This change fixes that by ensuring
    the REXML::Document class is available.
    Do not provide this_blog in spec helper. Exposes bug in Redirect model.
    
    Due to the presence of this_blog in the spec helper, Redirect could use it
    in the specs, whereas it has no access to this method in the production
    environment.
    Do not construct mail on User creation in specs.
    replace blog fixture with factory
    remove contents fixtures, clean models and start controllers
    Make Webrat's matchers treat XML like XML.
    
    See Webrat ticket 345 for details.
    Get rid of #assert_template_has helper.
    
    It is easily replaced by `assigns(key).should_not be_nil`.
    Temporarily define #flunk for specs.
    
    See rspec-rails issue 192, to be resolved when rspec-rails 2 beta 21 comes
    out: <http://github.com/rspec/rspec-rails/issues/closed#issue/192>
    Reverting change that prevents specs from runnin
    Gets rid of RAILS_ENV deprecation warnings
    Removing deprecated RAILS_ROOT
    Make sure Factory Girl finds factories.
    Remove replaced fixtures from global_fixtures list.
    
    Fixtures that were replaced by factories should not be in the
    global_fixtures list anymore, or else the fixtures loader complains it
    cannot find them.
    Update to rspec-rails 2.0 pre-release.
    
    Older rspec-rails versions don't support Rails 3.
    Mass-removal of trailing whitespace.
    Fixes broken specs after dropping blacklist_patterns table (thx Pouype)
    Some more spec fixes
    Add helper to test all present themes automatically
    Move feed validation method out into spec_helper.
    Clean up spec_helper.
    Clean up specs boiler plate and remove dependency on test/test_helper.rb.
    Test page caching from controller
    rspec updates
    Removing cached_model + memcache, useless since we're now doing static caching. First step for Typo diet
    add cache_informations table in database. Use this table to save all cache
    add some spec about render_flash in application helper
    More test tweaks
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1622 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the issue with a user profile not getting set.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1608 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing a few more issues and lamenting issues of test order dependency
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1574 820eb932-12ee-0310-9ca8-eeb645f39767
    More decomposition of the monolith that it ArticlesController into
    per resource controllers. Trackbacks get their own controller this time.
    
    Also, work continues on pushing behaviour out of controllers and into
    models.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1514 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    At some point in any refactoring you have to trust your gut and check
    it in.
    
    This point has now been reached...
    
    New things:
    * routes.rb continues to get shorter, ArticlesController is now declared
      with 'map.datestamped_resource :articles' plus a few extra actions that
      will eventually move to other controllers
    * Comment posting is now handled by the shiny new CommentsController, which
      is resourceful. However, because we don't want to break too many themes
      yet, it's still rendering templates from the articles directory
    * If you want to make your themes work better with the new scheme, you
      should alter your comment form url to be:
      {{{ :url => comments_path(@article) }}}
      If you're linking to the preview action, that becomes
      {{{ preview_new_comment_path(@article) }}}
    * This breaks #1463 rather hard. I shall be rolling #1463 all the way back
      for the time being, at least until I've got the controllers working
      restfully. Once that's done, it should be relatively trivial to change
      the routes file from using {{{datestamped_resources(:articles)}}} to using
      {{{resources(:articles)}}}
    * Deprecation warnings for badly placed controller actions aren't yet
      in place. I need to work out some way of having those warnings show
      up on the admin pages...
    * This may break things horribly. I've run it against the test suite,
      I've walked through most stuff on my test blog, but (always) there
      is the niggling feeling that I've missed something.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1465 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed spec_helper.rb from the repository.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1345 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the spec directory. You'll still need to install rspec and rspec_on_rails yourself, and that's going to be the case until I've ported everything, but take a look anyway.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1324 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing an obvious "blunder".
    Remove text_filter fixture. That was the last fixture to remove...
    
    Still notification_mailer in test/fixtures dir...
    That for the next time
    remove user fixture usage. Still some tobi usage to replace
    Adds post types with admin management.
    
    Author can define multiple post types with associated templates. Default post type is 'read' so existing themes won't break.
    
    I didn't use Rails relational model on purpose as I wanted article to store the post type permalink. This will make theme helpers such as menu helpers easier to write. Maybe there's a cleaner way to do it though.
    Remove Users fixture usage...
    remove users fixtures usage...
    As usual: removing users fixture usage in few controllers
    Remove user fixture usage
    Remove Feedback Fixtures usage in spec...
    
    No more direct use of those fixtures...
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Show only published articles on the author page and feeds.
    
    It's probably only because we don't seem to actually link to this page
    anywhere that no-one reported this as a bug before...
    remove users fixture usage in account_controller_spec
    Fix user factory and fixtures to make all specs pass.
    Fix tag factory: display name, if set, should not be different from name.
    Test atom feed view partial for articles with tags, categories and resources.
    
    Adjusted call to xm.link to use xm.tag! because link is a method in Rake's
    DSL triggering Rake deprecation warnings and wrong number of argument errors.
    Migrating users to the same config manager we're using for blogs.
    
    The goal is to be able to dynamically extend users with new settings without adding a new collumn each time.
    
    The migration is a bit ugly.
    
    Problem: settings names overlap fields names.
    Solution: rename columns, migrate, remove columns.
    
    There must be a better way to do it but...
    1. I didn't find it.
    2. I'm lost in the countryside where I need to go to the back of the
    garden to have a phone connection and in the middle of a field to have
     a chance to get my emails. So asking for help / advice on the interweb was not possible.
    
    At least it works
    
    Some fields were not migrated because we do some User.find on them :
    – notify_via_email
    – notify_on_new_articles
    – notify_on_comments
    Add view spec for atom feed of trackbacks.
    fix spec error in category model, fix order with rails override default_scope method
    Turns "Show extended on RSS" into "Hide extended on RSS".
    
    Asking user to opt in to display the whole post in the feed instead of hiding it is one of the most stupid behavior I've seen for a while and is the exact opposite of the software default's behavior.
    
    Included migration sets the new behavior accordingly to the blog default one.
    Adding support for rel='canonical' in pages header to avoid duplicate content.
    
    A canonical page is the preferred version of a set of pages with highly similar content.
    
    It's common for a site to have several pages listing the same set of products. For example, one page might display products sorted in alphabetical order, while other pages display the same products listed by price or by rating. For example:
    
    http://www.example.com/product.php?item=swedish-fish&trackingid=1234567&sort=alpha&sessionid=5678asfasdfasfd
    http://www.example.com/product.php?item=swedish-fish&trackingid=1234567&sort=price&sessionid=5678asfasdfasfd
    If Google knows that these pages have the same content, we may index only one version for our search results. Our algorithms select the page we think best answers the user's query. Now, however, users can specify a canonical page to search engines by adding a <link> element with the attribute rel="canonical" to the <head> section of the non-canonical version of the page. Adding this link and attribute lets site owners identify sets of identical content and suggest to Google: "Of all these pages with identical content, this page is the most useful. Please prioritize it in search results."
    Add coding comment for non-ascii files.
    
    Part of the Ruby 1.9 compatibility effort.
    Reorganize article specs a bit.
    
    Mainly to avoid creating extra articles and doing extra rendering.
    Speed up specs by using existing entities for associations if possible.
    Fix feedback index and destroy specs.
    Use more than one fixture for some of the article controller specs.
    
    Requires correct sequencing of the updated_at property.
    Fix Blog fixture to match new avatar setting.
    Make Tag.get use correct display name to name conversion.
    
    Use to_url as in the save method.
    Also:
    - simplify the Tag model's interface: finder methods should not create
      objects.
    - Fix article spec to match new naming convention.
    replace blog fixture with factory
    still on failure on tag_controller_spec but don't know why... Removing content_fixture done
    fix controller spec problem about removing content fixtures. Still 8 faileur on spec:controllers.
    remove contents fixtures, clean models and start controllers
    Update specs for AccountsController
    
    - Remove some of the duplication by using nested describes.
    - Remove some of the mocking in favor of Factory.
    - Add spec for failed password recovery.
    Fix specs after removal of category fixtures.
    
    - Add or update calls to Factory where needed.
    - Add factory sequence for category name and permalink to avoid
      validation errors.
    - Also remove categorization fixtures.
    Replace redirect fixture by factory
    Remove resource fixtures and replace by factory in specs.
    Remove tag fixtures and replace by factory in spec.
    fix specs
    Speed up article factory:
    - User fixtures have all notification off
    - GUIDs generated as a sequence
    - Turn on notifications for specific tests
    - Article factory uses existing user from fixture
      - Therefore: No more User.delete_all in specs
    Fix Blog#url_for for sub-uri deployments
    Fix factory girl factories:
    - Multiple valid :users can be created
    - Article's user is saved
    fix error in categories has_many. Maybe a postgreSQL issue. Test with MySQL please
    finish the first signup scenario
    starting using cucumber
    fix error with feed in tag part
    Make ping threading.
    
    This keeps pings that time out from delaying article save immensely.
    replace blog fixture with factory
    remove contents fixtures, clean models and start controllers
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Remove client code from action_web_service.
    
    The client part of action_web_service was not used.
    
    Since the Ping model relies on XMLRPC::Client, we need to now require the
    standard Ruby 'xmlrpc/client' explicitely there.
    Merge trackback specs and test only actual API of Ping
    when trackback in article creation, we delete all formating part even in markdown [#59 state:resolved]
    add some test in Ping model
    Getting rid of /articles in the URL. Still need to add a redirect from old to new url. method exists in article controller, however, must find the best way to call it (routes for every possible url ?).
    
    Don't want to have it done by the web server anyway
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1697 820eb932-12ee-0310-9ca8-eeb645f39767
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    More test tweaks
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1622 820eb932-12ee-0310-9ca8-eeb645f39767
    At some point in any refactoring you have to trust your gut and check
    it in.
    
    This point has now been reached...
    
    New things:
    * routes.rb continues to get shorter, ArticlesController is now declared
      with 'map.datestamped_resource :articles' plus a few extra actions that
      will eventually move to other controllers
    * Comment posting is now handled by the shiny new CommentsController, which
      is resourceful. However, because we don't want to break too many themes
      yet, it's still rendering templates from the articles directory
    * If you want to make your themes work better with the new scheme, you
      should alter your comment form url to be:
      {{{ :url => comments_path(@article) }}}
      If you're linking to the preview action, that becomes
      {{{ preview_new_comment_path(@article) }}}
    * This breaks #1463 rather hard. I shall be rolling #1463 all the way back
      for the time being, at least until I've got the controllers working
      restfully. Once that's done, it should be relatively trivial to change
      the routes file from using {{{datestamped_resources(:articles)}}} to using
      {{{resources(:articles)}}}
    * Deprecation warnings for badly placed controller actions aren't yet
      in place. I need to work out some way of having those warnings show
      up on the admin pages...
    * This may break things horribly. I've run it against the test suite,
      I've walked through most stuff on my test blog, but (always) there
      is the niggling feeling that I've missed something.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1465 820eb932-12ee-0310-9ca8-eeb645f39767
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the spec directory. You'll still need to install rspec and rspec_on_rails yourself, and that's going to be the case until I've ported everything, but take a look anyway.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1324 820eb932-12ee-0310-9ca8-eeb645f39767
    clean around text_filter (spec)
    Follow up, missed fixing another example.
    Remove text_filter fixture. That was the last fixture to remove...
    
    Still notification_mailer in test/fixtures dir...
    That for the next time
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    removing amazon textfilter tests since it was moved aside
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1793 820eb932-12ee-0310-9ca8-eeb645f39767
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the spec directory. You'll still need to install rspec and rspec_on_rails yourself, and that's going to be the case until I've ported everything, but take a look anyway.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1324 820eb932-12ee-0310-9ca8-eeb645f39767
    replace blog fixture with factory
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Replace all Test::Unit style tests with RSpec style specs, since RSpec's
    handling of these tests proved unreliable: In particular, a test would fail
    when the full suite was run, but pass when only the single spec file was
    run.
    All tests are now run through rspec - the test directory is left as a place for stashing fixtures etc...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1623 820eb932-12ee-0310-9ca8-eeb645f39767
    replace blog fixture with factory
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Replace all Test::Unit style tests with RSpec style specs, since RSpec's
    handling of these tests proved unreliable: In particular, a test would fail
    when the full suite was run, but pass when only the single spec file was
    run.
    Fix spec failures in article_closing_spec.rb
    
    This is another case of Blog.default caching a blog before the specs get a
    chance to set it up properly.  So, as before, we just stub it.  This fixes
    two more spec failures, bringing the total down to 8.
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    All tests are now run through rspec - the test directory is left as a place for stashing fixtures etc...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1623 820eb932-12ee-0310-9ca8-eeb645f39767
    Giving tests and fixtures some love.
    
    Moving from explicit ids throughout the fixtures and many of the tests to taking
    advantage of the new fixture capabilities in Rails 2.
    
    We're now loading _all_ the fixtures from test_helper, which should hopefully
    reduce problems we've been experiencing with test ordering, which is nice.
    
    Eventually, I intend to move to using pre_loaded_fixtures - loading the fixtures
    up as part of the initial rake task, and then letting transactional rollback
    stuff deal with the rest.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1620 820eb932-12ee-0310-9ca8-eeb645f39767
    A big cleanup of the way content and feedback state is handled:
    
     * The ContentState:: namespace is gone. States now appear in the
       Article::States and Feedback::States namespace (or anywhere else
       that would be found through normal namespace resolution)
     * The magic now happens in lib/stateful.rb, which sets up the
      'has_state' declaration. Look at article.rb and feedback.rb for
       examples of it in use. Documentation and pluginification will happen.
       Eventually.
    
    Also, I've done a bit of spring cleaning on various content related
    classes and (shock!) added tests for Article#comment_closed?. Did
    _you_ know that wasn't being tested? Me neither.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1438 820eb932-12ee-0310-9ca8-eeb645f39767
    refactoring to reduce test execution time
    Our URL policy splits 2 words with a -. Tags should behave the same way
    replace blog fixture with factory
    Fix deprecation warnings for Errors in model specs.
    
    Errors#on and Errors#invalid? are deprecated.
    Generated urls do not need to be html_safe.
    
    Note that Rails' refault url_for also does not generate html_safe urls.
    Helper #link_to_permalink should be html_safe.
    
    Specs for the helper, and for the model methods that it uses
    (#permalink_url and Blog#url_for). These specs fail, currently.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Use same set of tags for all find_with_char specs.
    
    This way, we also test that other tags are not found.
    Remove tag fixtures and replace by factory in spec.
    Mass-removal of trailing whitespace.
    fix bug in admin/content controller if we are not admin. Add Some spec
    Getting rid of /articles in the URL. Still need to add a redirect from old to new url. method exists in article controller, however, must find the best way to call it (routes for every possible url ?).
    
    Don't want to have it done by the web server anyway
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1697 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug breaking the spellchecker in FCKEditor.
    Adds autocompletion in the tags (ticket 1217)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1679 820eb932-12ee-0310-9ca8-eeb645f39767
    More test tweaks
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1622 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the issue with a user profile not getting set.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1608 820eb932-12ee-0310-9ca8-eeb645f39767
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the spec directory. You'll still need to install rspec and rspec_on_rails yourself, and that's going to be the case until I've ported everything, but take a look anyway.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1324 820eb932-12ee-0310-9ca8-eeb645f39767
    Deprecate use of view_root in sidebar plugins.
    
    My vision is for the FooSidebar partial to live in
    
      vendor/plugins/foo_sidebar/views/foo_sidebar/_content.html.erb
    
    which means it can be rendered by just specifying
    
      render "/foo_sidebar/content"
    
    since Rails will add all plugins' views directories to the view path.
    Clean up sidebars table if it contains a record with an invalid type.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Replace all Test::Unit style tests with RSpec style specs, since RSpec's
    handling of these tests proved unreliable: In particular, a test would fail
    when the full suite was run, but pass when only the single spec file was
    run.
    All tests are now run through rspec - the test directory is left as a place for stashing fixtures etc...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1623 820eb932-12ee-0310-9ca8-eeb645f39767
    Giving tests and fixtures some love.
    
    Moving from explicit ids throughout the fixtures and many of the tests to taking
    advantage of the new fixture capabilities in Rails 2.
    
    We're now loading _all_ the fixtures from test_helper, which should hopefully
    reduce problems we've been experiencing with test ordering, which is nice.
    
    Eventually, I intend to move to using pre_loaded_fixtures - loading the fixtures
    up as part of the initial rake task, and then letting transactional rollback
    stuff deal with the rest.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1620 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed/removed tests broken by the removal of sidebars from the core.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1457 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Configurable sidebars.  (closes #157, #103)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@364 820eb932-12ee-0310-9ca8-eeb645f39767
    humongous refactoring of the config setup. It doesn't suck anymore!
    added that you can specify how many articles you want to show in rss and on the blog (seth@remor.com) closes #133
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@286 820eb932-12ee-0310-9ca8-eeb645f39767
    removed config/config.yml, on first request you will be redirected to settings/install to enter the values. This page is currently not protected, need to come up with something
    before next release.
    Added categories to the right hand side
    Fixed the ordering of articles in the categories filtered view
    Added a config manager
    Adjusted html of live preview
    Created settings table
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@93 820eb932-12ee-0310-9ca8-eeb645f39767
    add more scope on resource, (combine one) and use them
    add scope to resource and use them when it's possible
    Clean up resource model spec.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Removing deprecated RAILS_ROOT
    Remove resource fixtures and replace by factory in specs.
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    More test tweaks
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1622 820eb932-12ee-0310-9ca8-eeb645f39767
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the spec directory. You'll still need to install rspec and rspec_on_rails yourself, and that's going to be the case until I've ported everything, but take a look anyway.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1324 820eb932-12ee-0310-9ca8-eeb645f39767
    use published_at, not created_at to determine when comments shall be closed
    removing Feedback fixture \o/
    Remove Feedback Fixtures usage in spec...
    
    No more direct use of those fixtures...
    remove users fixtures in model's specs
    Simplify test, fixing ordering issue.
    
    This test would sometimes fail, possibly due to the ordering of an
    article's comments being undefined.
    Expect web URLs to start with http or https, not just http.
    
    This fixes bug [#200].
    Fix comment model specs after change to blog factory.
    Remove some superfluous tests.
    replace blog fixture with factory
    remove contents fixtures, clean models and start controllers
    Move or delete files from deprecated test mock directory.
    
    The use of the test/mocks/test directory is deprecated. Files that were
    used were moved from there to spec/support/mocks. These are required
    automatically. Unused files (theme_mock.rb and xmlrpc_mock.rb) were
    deleted.
    Fix deprecation warnings for Errors in model specs.
    
    Errors#on and Errors#invalid? are deprecated.
    Generated urls do not need to be html_safe.
    
    Note that Rails' refault url_for also does not generate html_safe urls.
    Helper #link_to_permalink should be html_safe.
    
    Specs for the helper, and for the model methods that it uses
    (#permalink_url and Blog#url_for). These specs fail, currently.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Mass-removal of trailing whitespace.
    When sent by an authenticated user, commens should be marked as ham even with comment moderation enabled.
    Removing blacklist support. RBL check + Akismet default support is largely enough, and blacklist patterns should be the done by mod_security or any other IDS, but not by Typo in any way. This may come back later as a plugin though
    Removing cached_model + memcache, useless since we're now doing static caching. First step for Typo diet
    simplify the validation of feedback
    add information when comment failed to create by Ajax. Refactor some spec
    rewrite comment spec with more rspec style
    Fix spec failure in comment_spec.rb test_default_filter
    
    The test_default_filter method was checking the default filter:
    
      def test_default_filter
        a = Comment.find(:first)
        assert_equal 'markdown', a.default_text_filter.name
      end
    
    But this was failing, because the underlying value was getting scrambled by
    test_xss_rejection and not restored properly.  This patch fixes 1 unit test
    failure, bringing the total to 12.
    Getting rid of /articles in the URL. Still need to add a redirect from old to new url. method exists in article controller, however, must find the best way to call it (routes for every possible url ?).
    
    Don't want to have it done by the web server anyway
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1697 820eb932-12ee-0310-9ca8-eeb645f39767
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed the failing comment_spec test. Not sure quite why it was failing in the first place though.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1655 820eb932-12ee-0310-9ca8-eeb645f39767
    All tests are now run through rspec - the test directory is left as a place for stashing fixtures etc...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1623 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on rejigging tests and fixtures to solely use symbolic ids for
    fixtures. Also, removed the second blog from the test fixtures as a first
    step towards getting the core back to one blog per database.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1621 820eb932-12ee-0310-9ca8-eeb645f39767
    Giving tests and fixtures some love.
    
    Moving from explicit ids throughout the fixtures and many of the tests to taking
    advantage of the new fixture capabilities in Rails 2.
    
    We're now loading _all_ the fixtures from test_helper, which should hopefully
    reduce problems we've been experiencing with test ordering, which is nice.
    
    Eventually, I intend to move to using pre_loaded_fixtures - loading the fixtures
    up as part of the initial rake task, and then letting transactional rollback
    stuff deal with the rest.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1620 820eb932-12ee-0310-9ca8-eeb645f39767
    More ports to Rspec
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1325 820eb932-12ee-0310-9ca8-eeb645f39767
    First step on a long needed refactoring. We're splitting the contents table into
    two. We now have a contents table, which contains Pages and Articles, and a
    Feedback table, which contains Comments and Trackbacks. There's still a bunch of
    null columns in each table, and the indexing needs tweaking, but it's a start.
    
    NB: The migration is untested on anything but my Mysql installation and if it
    goes wrong you stand to lose all your feedback. So take a backup before you
    try it. The Migration itself throws an exception by default to remind you to do the
    backup. Comment it out once you're safe (or brave/foolhardy).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1302 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Mmm... instance caching... you know you *want* it!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1280 820eb932-12ee-0310-9ca8-eeb645f39767
    Updated text filters a bit more.  Cleaner.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1241 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Added some filtering to the feedback page. You can now limit the listing to get rid
    of articles whose classification you have confirmed as well as a simple spam/ham
    filter.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1218 820eb932-12ee-0310-9ca8-eeb645f39767
    Big changes to the state engine for feedback. Feedback now starts off
    in the 'Unclassified' state and moves to either JustPresumedHam or
    PresumedSpam depending on the results of Feedback#classify (the various Just*
    states are there as one shot states to handle sending of notifications or
    registering of spam/ham classification with akismet). JustPresumedHam
    decays to PresumedHam as soon as the feedback has been saved and the
    notifications sent.
    
    And there they rest until the classifications are solidified by the blog
    administrator on the feedback page. Feedback ends up as either Spam or Ham
    with an intermediate 'JustMarkedAs*' step for registering with Akismet.
    
    It should be possible to do some useful filtering on the feedback page
    (for instance, only see those messages whose classification hasn't been
    confirmed), but for that we need to add a couple of boolean fields to the
    contents table.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1188 820eb932-12ee-0310-9ca8-eeb645f39767
    Oops! Always run the tests! Made tests pass and, well, made typo work...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1184 820eb932-12ee-0310-9ca8-eeb645f39767
    Ditch comment counters.  Closes #1030.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1176 820eb932-12ee-0310-9ca8-eeb645f39767
    Big spam filtering upgrade.
    
    This turns on Akismet filtering for all incoming comments and trackbacks.
    Comments (and trackbacks) that fail the spam check are marked as unpublished
    and can be deleted via the admin feedback page.
    
    In addition, the feedback page's publish/unpublish buttons now send feedback
    to Akismet (when enabled, of course).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1148 820eb932-12ee-0310-9ca8-eeb645f39767
    Added #withdraw and #withdraw! to the content model which will correctly unpublish comments
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1134 820eb932-12ee-0310-9ca8-eeb645f39767
     r1245@Menhir:  pdcawley | 2006-03-27 16:03:01 +0100
     Fixed #739 by applying the patch attached to that ticket and adding some
     tests.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@947 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Spam RBL update.  Closes #657
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@870 820eb932-12ee-0310-9ca8-eeb645f39767
    Make spam protection ignore article auto-close for existing records (closes #435) [pdcawley@bofh.org.uk])
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@816 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    Test fix
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@671 820eb932-12ee-0310-9ca8-eeb645f39767
    BACK UP YOUR DATABASE BEFORE RUNNING THESE MIGRATIONS.  Merge pdcawley's big superclass patch.  This rolls articles, pages, comments, and trackbacks into one big table, using STI.  This lets us get rid of a huge amount of duplicated code; diffstat shows a net of -148 lines, and the resulting code looks cleaner.  Closes #414
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@660 820eb932-12ee-0310-9ca8-eeb645f39767
    Add GUIDs to comments and trackbacks, and clean up Article GUID code.  Use GUIDs in Atom 1.0 feeds because our old IDs were nasty and not unique.  Still thinking about adding them to RSS 2.0 and Atom 0.3; it'll be user-visible if we change them.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@636 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed extra </p>.  (closes #248)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@490 820eb932-12ee-0310-9ca8-eeb645f39767
    Much improved text_filtering. You can now choose from Markdown, Textile and SmartyPants as well as Markdown + Smartypants both (scott@sigkill.org) fixes #137
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@287 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix for broken unit test due to HTML escaping
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@240 820eb932-12ee-0310-9ca8-eeb645f39767
     * Merged spamprot branch containing DNSRBL blocking, URL count limit, old article auto-close (refs #25)
       MISSING: Moderation options instead of flat out blocking, bayes based blocking, web-interface for blacklist items, auto-close indication
     * Minor fixes from spamprot branch:
       * No more escaping of article titles in articles/_read.rhtml
       * Proper sorting for delicious partial
       * Better semantics for sidebar boxes
    
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@178 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed comment unit test errors.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@112 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@86 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed comments #6 (shane) and fixed sqlite schema
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@76 820eb932-12ee-0310-9ca8-eeb645f39767
    Added some tests for comments and a small comments fixture.
    Also, now doing "nofollow" to the title of comments.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@62 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@26 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Replace all Test::Unit style tests with RSpec style specs, since RSpec's
    handling of these tests proved unreliable: In particular, a test would fail
    when the full suite was run, but pass when only the single spec file was
    run.
    All tests are now run through rspec - the test directory is left as a place for stashing fixtures etc...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1623 820eb932-12ee-0310-9ca8-eeb645f39767
    – Fixed a few bugs
    – Added the week in refactoring patch
    – Added the rights table and the profile to rights one.
    – Populated the new tables.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1494 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes permalink not being correctly updated when updating a permalink. closes #62
    
    The old behavior was rather buggy as it created a new redirect everytime an article or page permalink was updated. This shortened URL was never displayed because we only called the first redirect instead of the last one.
    
    This commit:
    
    * Fixes existing old shortened URL showing when multiple shorten URLS exist
    * Fixes this behavior by updating the existing shortened URL when a published article or page permalink is updated
    * Moves the shortened URL creation from controller to model
    * Removes duplicate code between admin/content_controller and admin/page_controller
    * Adds specs as this part was never tested before
    * Tells a story about a young farm boy, a princess called Buttercup (silly name if you want my opinion), true love and high adventure, pirates, princess, giants, miracles, fencing, and rodents of unusual size.
    Moves permalink sanitization to String with a new to_permalink method.
    
    Refactores existing code to remove duplicate code entries and not needed mthods when building the permalink from the model.
    Corrected some specs
    Make settings writers work during #initialize.
    Move get_or_build article to Article model (from content_controller). I hope it's a better place...
    Remove unused stub that fails on currently used RSpec.
    Refactorign spec to be more independant
    remove users fixtures in model's specs
    Speed up article specs.
    When finding articles by permalink, use UTC date.
    
    Up to typo 5.5, the dates as found in the article permalink URLs
    corresponded exactly with the publication date as stored in the database,
    and these dates were in the local timezone.
    
    Starting with Rails 3 however, datetimes as stored in the database are
    interpreted as having zone UTC, breaking existing URLs and causing a
    mismatch between the generated URLs (which due to how they are programmed
    were immune to this change) and the permalink finder method.
    
    This commit restores the old behavior, i.e., the permalink dates correspond
    again to the dates as stored on disk.
    
    However, the dates continue to be interpreted as UTC, which means the
    publication times for old articles (originally stored as local time) have
    an offset compared to the publication times for new articles (stored as
    UTC).
    
    Some tests had to be adjusted to be more specific about the generated
    publication datetime.
    Add coding comment for non-ascii files.
    
    Part of the Ruby 1.9 compatibility effort.
    Use correct path component escape mechanism for article permalinks.
    
    In URIs, path components are encoded using the percent-encoding mechanism.
    Contrary to CGI parameters, this does not include the replacement of spaces
    with plus signs. Instead, spaces are encoded as %20, while plusses remain
    as-is.
    Comprehensively fix bug #192: multi-byte permalinks.
    
    - Do not escape the title upon conversion to permalink slug.
    - Escape permalink sluk upon creation of permalink url.
    - Search article by permalink and by escaped permalink to support legacy
      permalink slugs.
    Make Tag.get use correct display name to name conversion.
    
    Use to_url as in the save method.
    Also:
    - simplify the Tag model's interface: finder methods should not create
      objects.
    - Fix article spec to match new naming convention.
    Remove some superfluous tests.
    Rewrite and simplify article tags tests.
    Use build, rather than create, where possible in article model spec.
    Add new tags to article in one go.
    replace blog fixture with factory
    still on failure on tag_controller_spec but don't know why... Removing content_fixture done
    remove contents fixtures, clean models and start controllers
    Generated urls do not need to be html_safe.
    
    Note that Rails' refault url_for also does not generate html_safe urls.
    Helper #link_to_permalink should be html_safe.
    
    Specs for the helper, and for the model methods that it uses
    (#permalink_url and Blog#url_for). These specs fail, currently.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Remove spec that articles collection should be an Array.
    
    Result collections from ActiveRecord are not Arrays anymore.
    Change shared example specification.
    
    RSpec now uses shared_examples_for to specify shared examples.
    Fix specs after removal of category fixtures.
    
    - Add or update calls to Factory where needed.
    - Add factory sequence for category name and permalink to avoid
      validation errors.
    - Also remove categorization fixtures.
    Remove category_fixture, replace by factory
    Remove resource fixtures and replace by factory in specs.
    Remove tag fixtures and replace by factory in spec.
    Mark Article spec 'test_triggers_are_dependent' as pending.
    
    This spec will pass once Rails ticket #5105 (has_many: Dependent deleting
    does not work with STI) has been fixed.
    Mass-removal of trailing whitespace.
    Adding specs to password protected posts
    Solves ticket #175: Lift 255-char tag list limit. Not sure it's the best way to do it, don't mind reverting if needed
    Speed up article factory:
    - User fixtures have all notification off
    - GUIDs generated as a sequence
    - Turn on notifications for specific tests
    - Article factory uses existing user from fixture
      - Therefore: No more User.delete_all in specs
    Spec out and fix Article#html_urls
    Make only_path mean what it says, instead of the opposite.
    Fix article spec to also work on first of the month, when yesterday's
    article falls in the previous month.
    Fix factory girl factories:
    - Multiple valid :users can be created
    - Article's user is saved
    little refactoring
    see the last draft in preview about an article
    avoid using @selected assignation in creation post view
    Replace all Test::Unit style tests with RSpec style specs, since RSpec's
    handling of these tests proved unreliable: In particular, a test would fail
    when the full suite was run, but pass when only the single spec file was
    run.
    change published_at mode SQL compiliant with PostgreSQL 8.3 by example
    add some spec about published_at_like named_scope
    fix bug #85 with no only_path in comment_url
    fix spec
    fix bug about live_search with pouype
    change url generation in feed_url method
    cgi escape all title fixed #53
    when trackback in article creation, we delete all formating part even in markdown [#59 state:resolved]
    improve speed in spec. 70s instead of 105s
    search article with different formating
    start to use a format url define in blog setting
    Add pings_closed? method to Article, analogous to comments_closed?
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
     Add some comment on why spec doesn't works on 2 January of each year
    Modify Article to have proper body_and_extended field
    
    Instead of having merge_... and extract_... methods, let's just make this a
    virtual field.  This requires changing the field name in the view, too, but
    it simplifies the controller code considerably.
    Fix various issues in new-style extended content handling
    
    Once upon a time, the Typo web interface allowed you to separately edit the
    "body" and the "extended content" of an article.  Now, the two different
    types of text are stored in a single body field, and separated by
    "<!--more-->".  This change has not yet been pushed through to the
    underlying database.
    
    This patch doesn't attempt to address any of the larger design or
    implementation issues, but it does fix a number of minor problems:
    
      - The build_extended and get_extended methods on ContentController were
        public, which actually made them callable for users on the web.  This
        kind of helper method should generally be protected or private in a
        controller.
      - The build_extended method would silently discard data if the user
        accidentally inserted two copies of '<!--more-->' in an article.
      - The build_extended method didn't remove the newlines inserted by the
        get_extended method, which would cause the article to pick up two extra
        newlines each time it was saved.
    
    The patch moves the merging/extracting code into the article model, fixes
    the data-loss bug, makes sure that articles can be edited without any
    inadvertent changes, and adds a number of unit tests to make sure that
    everything works.
    add restrict right to edit comment if user is publisher and it's not own article
    fix bug in admin/content controller if we are not admin. Add Some spec
    view only comment selected like ham? and ham in admin content view list
    Fixes bug 1253: In AdminController::UserController method list, there are a twice render if you are not admin.
    
    Thx to Cyril Mougel for patching.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1785 820eb932-12ee-0310-9ca8-eeb645f39767
    Getting rid of /articles in the URL. Still need to add a redirect from old to new url. method exists in article controller, however, must find the best way to call it (routes for every possible url ?).
    
    Don't want to have it done by the web server anyway
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1697 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug breaking the spellchecker in FCKEditor.
    Adds autocompletion in the tags (ticket 1217)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1679 820eb932-12ee-0310-9ca8-eeb645f39767
    Reinstated the old article tests in article_spec.rb.
    
    Still short of article tests, I think, but every step in the right
    direction is a good step.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1675 820eb932-12ee-0310-9ca8-eeb645f39767
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    More smallish refactorings. Just easing my way back
    into the code.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1508 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed the issue which meant that it was impossible to unpublish an article.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1499 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Adds customizable 404 pages with optionnal messages in the admin. Next: 500
    Remove needless #delete_all method calls.
    
    There are no fixtures, so there's nothing to delete.
    Correct specced admin theme configuration variable.
    Setting up things so we can soon (or later) add a second administration color stylesheet (or two, or three...). I have some nice ideas you can easily imagine for that one
    Feature request: add a custom tracking field for people not using Google Analytics.
    
    This field content is displayed in the <head> part of every page.
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Adds options to articles and pages.
    
    They make both models extendable by plugins creators without adding new fields and therefore should be considered like Wordpress custom fields. Only password was migrated because we may consider it as an optionnal field.
    
    Next step is to add a custom fields part in the editor, but I don't know how to do it yet.
    Fixes a buggy default setting that desindexes tags pages.
    
    Adds missing specs on blog default settings.
    Migrating users to the same config manager we're using for blogs.
    
    The goal is to be able to dynamically extend users with new settings without adding a new collumn each time.
    
    The migration is a bit ugly.
    
    Problem: settings names overlap fields names.
    Solution: rename columns, migrate, remove columns.
    
    There must be a better way to do it but...
    1. I didn't find it.
    2. I'm lost in the countryside where I need to go to the back of the
    garden to have a phone connection and in the middle of a field to have
     a chance to get my emails. So asking for help / advice on the interweb was not possible.
    
    At least it works
    
    Some fields were not migrated because we do some User.find on them :
    – notify_via_email
    – notify_on_new_articles
    – notify_on_comments
    Fix spec for new blog's hide_extended_on_rss setting.
    Turns "Show extended on RSS" into "Hide extended on RSS".
    
    Asking user to opt in to display the whole post in the feed instead of hiding it is one of the most stupid behavior I've seen for a while and is the exact opposite of the software default's behavior.
    
    Included migration sets the new behavior accordingly to the blog default one.
    Remove remaining calls to use_gravatar in specs and fixtures.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Dropping iTunes metadata support. They will probably come back in the futur as a plugin
    Removing the filter on AJAX / non AJAX comments since now some themes (including default theme...) comes without AJAX enabled by default. This will prevent some well known issues...
    fix some spec broken
    fixing tests before release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1736 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    Ditching Jabber notification, amongst other things
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1702 820eb932-12ee-0310-9ca8-eeb645f39767
    More test tweaks
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1622 820eb932-12ee-0310-9ca8-eeb645f39767
    Few changes in back office
    Fixes 1184
    Few bug fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1614 820eb932-12ee-0310-9ca8-eeb645f39767
    A few more tests should be passing
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1571 820eb932-12ee-0310-9ca8-eeb645f39767
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the spec directory. You'll still need to install rspec and rspec_on_rails yourself, and that's going to be the case until I've ported everything, but take a look anyway.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1324 820eb932-12ee-0310-9ca8-eeb645f39767
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the spec directory. You'll still need to install rspec and rspec_on_rails yourself, and that's going to be the case until I've ported everything, but take a look anyway.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1324 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix deprecation warnings for Errors in model specs.
    
    Errors#on and Errors#invalid? are deprecated.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed a broken assumption in the redirect spec.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1327 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the spec directory. You'll still need to install rspec and rspec_on_rails yourself, and that's going to be the case until I've ported everything, but take a look anyway.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1324 820eb932-12ee-0310-9ca8-eeb645f39767
    Make sure a blog object is available for page specs.
    Fixes permalink not being correctly updated when updating a permalink. closes #62
    
    The old behavior was rather buggy as it created a new redirect everytime an article or page permalink was updated. This shortened URL was never displayed because we only called the first redirect instead of the last one.
    
    This commit:
    
    * Fixes existing old shortened URL showing when multiple shorten URLS exist
    * Fixes this behavior by updating the existing shortened URL when a published article or page permalink is updated
    * Moves the shortened URL creation from controller to model
    * Removes duplicate code between admin/content_controller and admin/page_controller
    * Adds specs as this part was never tested before
    * Tells a story about a young farm boy, a princess called Buttercup (silly name if you want my opinion), true love and high adventure, pirates, princess, giants, miracles, fencing, and rodents of unusual size.
    Fixing specs for pages. Moving permalink related specs to model which is where they should be
    Moves permalink sanitization to String with a new to_permalink method.
    
    Refactores existing code to remove duplicate code entries and not needed mthods when building the permalink from the model.
    Make settings writers work during #initialize.
    Get behind me, Satan!
    Remove some unused methods.
    Add encoding comments to spec files to satisfy Ruby 1.9.
    refactorimg spec to remove duplications (my new job here ? :-p)
    create a Satanizable module, remove duplication about clean accents (by move method in satanizable)...
    replace blog fixture with factory
    remove contents fixtures, clean models and start controllers
    Fix deprecation warnings for Errors in model specs.
    
    Errors#on and Errors#invalid? are deprecated.
    Generated urls do not need to be html_safe.
    
    Note that Rails' refault url_for also does not generate html_safe urls.
    Helper #link_to_permalink should be html_safe.
    
    Specs for the helper, and for the model methods that it uses
    (#permalink_url and Blog#url_for). These specs fail, currently.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Merge ValidPageHelper shared example into describe block.
    
    The describe block was not picking up the shared method definition.
    Change shared example specification.
    
    RSpec now uses shared_examples_for to specify shared examples.
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    More test tweaks
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1622 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the issue with a user profile not getting set.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1608 820eb932-12ee-0310-9ca8-eeb645f39767
    At some point in any refactoring you have to trust your gut and check
    it in.
    
    This point has now been reached...
    
    New things:
    * routes.rb continues to get shorter, ArticlesController is now declared
      with 'map.datestamped_resource :articles' plus a few extra actions that
      will eventually move to other controllers
    * Comment posting is now handled by the shiny new CommentsController, which
      is resourceful. However, because we don't want to break too many themes
      yet, it's still rendering templates from the articles directory
    * If you want to make your themes work better with the new scheme, you
      should alter your comment form url to be:
      {{{ :url => comments_path(@article) }}}
      If you're linking to the preview action, that becomes
      {{{ preview_new_comment_path(@article) }}}
    * This breaks #1463 rather hard. I shall be rolling #1463 all the way back
      for the time being, at least until I've got the controllers working
      restfully. Once that's done, it should be relatively trivial to change
      the routes file from using {{{datestamped_resources(:articles)}}} to using
      {{{resources(:articles)}}}
    * Deprecation warnings for badly placed controller actions aren't yet
      in place. I need to work out some way of having those warnings show
      up on the admin pages...
    * This may break things horribly. I've run it against the test suite,
      I've walked through most stuff on my test blog, but (always) there
      is the niggling feeling that I've missed something.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1465 820eb932-12ee-0310-9ca8-eeb645f39767
    Slowly moving towards a more Resourceful setup. Added (and started to test)
    a CommentsController class and its associated views.
    
    We aren't actually using it from anything yet, but it's only a matter of time.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1461 820eb932-12ee-0310-9ca8-eeb645f39767
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the spec directory. You'll still need to install rspec and rspec_on_rails yourself, and that's going to be the case until I've ported everything, but take a look anyway.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1324 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds permalink field to category creation
    Removing useless Javascript based category reorder interface. Categories will now be ordered by name, which looks like the most likely way to do it. This is a first step to sub categories as the order interface prevented from having them.
    
    Helpers will probably come later to chose the way people want the categories to be displayed.
    refactoring to reduce test execution time
    moove some test from category_controller to category model
    fix spec failure on controller. Clean settings update and category controller fixture and code
    fix spec error in category model, fix order with rails override default_scope method
    replace blog fixture with factory
    Generated urls do not need to be html_safe.
    
    Note that Rails' refault url_for also does not generate html_safe urls.
    Helper #link_to_permalink should be html_safe.
    
    Specs for the helper, and for the model methods that it uses
    (#permalink_url and Blog#url_for). These specs fail, currently.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Remove category_fixture, replace by factory
    Getting rid of /articles in the URL. Still need to add a redirect from old to new url. method exists in article controller, however, must find the best way to call it (routes for every possible url ?).
    
    Don't want to have it done by the web server anyway
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1697 820eb932-12ee-0310-9ca8-eeb645f39767
    More test tweaks
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1622 820eb932-12ee-0310-9ca8-eeb645f39767
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the spec directory. You'll still need to install rspec and rspec_on_rails yourself, and that's going to be the case until I've ported everything, but take a look anyway.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1324 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes broken login and user creation.
    
    Seems like the class_attribute method actually needs a method to return. That's the reason why a simple salt='foodbar' followed by a class_attribute :salt returned nil. I've added a simple test to ensure that User.salt is never nil, but shouldn't this be protected?
    Make settings writers work during #initialize.
    Add simple_editor? to user, and clean user_spec.
    remove user fixture usage. Still some tobi usage to replace
    remove users fixtures in model's specs
    Fix User#permalink_url: There is no UsersController.
    replace blog fixture with factory
    remove contents fixtures, clean models and start controllers
    Fix deprecation warnings for Errors in model specs.
    
    Errors#on and Errors#invalid? are deprecated.
    Generated urls do not need to be html_safe.
    
    Note that Rails' refault url_for also does not generate html_safe urls.
    Helper #link_to_permalink should be html_safe.
    
    Specs for the helper, and for the model methods that it uses
    (#permalink_url and Blog#url_for). These specs fail, currently.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Spec showing password changing bug.
    This bug is triggered when checking 'Remember me' during login.
    Speed up article factory:
    - User fixtures have all notification off
    - GUIDs generated as a sequence
    - Turn on notifications for specific tests
    - Article factory uses existing user from fixture
      - Therefore: No more User.delete_all in specs
    Fix factory girl factories:
    - Multiple valid :users can be created
    - Article's user is saved
    Add spec that setting password to empty keeps the old one.
    Spec out user password confirmation.
    Spec out password length behavior on user creation and update.
    Users creation simplification. Users have now their password generated, and display name is set as login
    when trackback in article creation, we delete all formating part even in markdown [#59 state:resolved]
    Introduces users deactivation. Needs some fine tuning to be really good
    add security where a publisher can't delete feedback to article not own. Spec write with it
    Adds login / password email at user's creation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1723 820eb932-12ee-0310-9ca8-eeb645f39767
    More test tweaks
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1622 820eb932-12ee-0310-9ca8-eeb645f39767
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the spec directory. You'll still need to install rspec and rspec_on_rails yourself, and that's going to be the case until I've ported everything, but take a look anyway.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1324 820eb932-12ee-0310-9ca8-eeb645f39767
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Moves cache to public/cache. Ditches database use for cache storing. Please, read doc/CACHE.SETUP.README to setup the new cache system, otherwise Typo now runs smoothly without cache, I've been running it cacheless for months on a fairly crowded blog without even knowing it
    fix error with feed in tag part
    Cache sweeping successfully sweeps pages now. Page caching no longer touches the database
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1583 820eb932-12ee-0310-9ca8-eeb645f39767
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the spec directory. You'll still need to install rspec and rspec_on_rails yourself, and that's going to be the case until I've ported everything, but take a look anyway.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1324 820eb932-12ee-0310-9ca8-eeb645f39767
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the spec directory. You'll still need to install rspec and rspec_on_rails yourself, and that's going to be the case until I've ported everything, but take a look anyway.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1324 820eb932-12ee-0310-9ca8-eeb645f39767
    remove unused files amd directory in test dir
    replace blog fixture with factory
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Removing deprecated RAILS_ROOT
    Mass-removal of trailing whitespace.
    Grammar correction
    convert prohibited relative to absolute paths
    Fixes a brocken theme test
    Fixes ticket 104
    Fixing some tests, now only 30 left brocken, if someone knows what's wrong with AWS ? Everything workds OK but the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1852 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing tests before release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1736 820eb932-12ee-0310-9ca8-eeb645f39767
    More test tweaks
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1622 820eb932-12ee-0310-9ca8-eeb645f39767
    A few more tests should be passing
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1571 820eb932-12ee-0310-9ca8-eeb645f39767
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the spec directory. You'll still need to install rspec and rspec_on_rails yourself, and that's going to be the case until I've ported everything, but take a look anyway.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1324 820eb932-12ee-0310-9ca8-eeb645f39767
    Add encoding comments to spec files to satisfy Ruby 1.9.
    create a Satanizable module, remove duplication about clean accents (by move method in satanizable)...
    Adds post types with admin management.
    
    Author can define multiple post types with associated templates. Default post type is 'read' so existing themes won't break.
    
    I didn't use Rails relational model on purpose as I wanted article to store the post type permalink. This will make theme helpers such as menu helpers easier to write. Maybe there's a cleaner way to do it though.
    Fix Content#short_url for sub-uri blogs.
    Make settings writers work during #initialize.
    refactorimg spec to remove duplications (my new job here ? :-p)
    Spec now-invalid permalink formats as invalid in blog model spec.
    fix spec error on blog permalink validation rules
    Change blog model specs to use existing route.
    
    There is no read action for ArticlesController, so the specs only worked
    because of the catch-all route.
    Avoid unnecessary database access in Blog specs.
    Do not autosave when setting a setting.
    Add validation on Blog#blog_name.
    
    This will be used to avoid having to hand-validate input to SetupController.
    replace blog fixture with factory
    Generated urls do not need to be html_safe.
    
    Note that Rails' refault url_for also does not generate html_safe urls.
    Helper #link_to_permalink should be html_safe.
    
    Specs for the helper, and for the model methods that it uses
    (#permalink_url and Blog#url_for). These specs fail, currently.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Fix Blog#url_for for sub-uri deployments
    Removing cached_model + memcache, useless since we're now doing static caching. First step for Typo diet
    add system to add .rss or .atom in feed_url. Define like rss or atom system
    add validation of permalink_format with good format. Failed if bad format
     Fix bug report #1301 with patch submit by Matijs van Zuijlen
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    More test tweaks
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1622 820eb932-12ee-0310-9ca8-eeb645f39767
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the spec directory. You'll still need to install rspec and rspec_on_rails yourself, and that's going to be the case until I've ported everything, but take a look anyway.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1324 820eb932-12ee-0310-9ca8-eeb645f39767
    Split large spec on Trackback model.
    replace blog fixture with factory
    remove contents fixtures, clean models and start controllers
    Fix deprecation warnings for Errors in model specs.
    
    Errors#on and Errors#invalid? are deprecated.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Mass-removal of trailing whitespace.
    Removing blacklist support. RBL check + Akismet default support is largely enough, and blacklist patterns should be the done by mod_security or any other IDS, but not by Typo in any way. This may come back later as a plugin though
    Some more spec fixes
    simplify the validation of feedback
    More test tweaks
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1622 820eb932-12ee-0310-9ca8-eeb645f39767
    Much footling with the feedback state machine and various
    caching related things.
    
    I ''think'' cache sweeping should now be happening in all the
    right places, while being reasonably light on the CPU and memory.
    
    If you do come across cases where the cache isn't being emptied
    when it should, please let me know <pdcawley-typo@bofh.org.uk>
    or raise a ticket here and we'll look into it.
    
    Also, we've reinstated fragment caching; page caching comes with
    a whole host of gotchas that I'd rather not think about just now.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1511 820eb932-12ee-0310-9ca8-eeb645f39767
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    More ports to Rspec
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1325 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the spec directory. You'll still need to install rspec and rspec_on_rails yourself, and that's going to be the case until I've ported everything, but take a look anyway.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1324 820eb932-12ee-0310-9ca8-eeb645f39767
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Replace all Test::Unit style tests with RSpec style specs, since RSpec's
    handling of these tests proved unreliable: In particular, a test would fail
    when the full suite was run, but pass when only the single spec file was
    run.
    All tests are now run through rspec - the test directory is left as a place for stashing fixtures etc...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1623 820eb932-12ee-0310-9ca8-eeb645f39767
    Giving tests and fixtures some love.
    
    Moving from explicit ids throughout the fixtures and many of the tests to taking
    advantage of the new fixture capabilities in Rails 2.
    
    We're now loading _all_ the fixtures from test_helper, which should hopefully
    reduce problems we've been experiencing with test ordering, which is nice.
    
    Eventually, I intend to move to using pre_loaded_fixtures - loading the fixtures
    up as part of the initial rake task, and then letting transactional rollback
    stuff deal with the rest.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1620 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Use same trick to avoid sleep in all specs.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Make page stubs work again in trigger spec after change to Rails 2.3.5.
    More test tweaks
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1622 820eb932-12ee-0310-9ca8-eeb645f39767
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the spec directory. You'll still need to install rspec and rspec_on_rails yourself, and that's going to be the case until I've ported everything, but take a look anyway.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1324 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix specs
    Remove Feedback Fixtures usage in spec...
    
    No more direct use of those fixtures...
    replace blog fixture with factory
    remove contents fixtures, clean models and start controllers
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Fix spec about cache_support
    Adding specs to the cache sweeping for comments and trackbacks. I know they fail, but I can't figure out how to fix that. Maybe failing specs will piss someone with more skills than me who'll be able to fix that
    More test tweaks
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1622 820eb932-12ee-0310-9ca8-eeb645f39767
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the spec directory. You'll still need to install rspec and rspec_on_rails yourself, and that's going to be the case until I've ported everything, but take a look anyway.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1324 820eb932-12ee-0310-9ca8-eeb645f39767
    Avoid possible slow ham classification in test.
    replace blog fixture with factory
    remove contents fixtures, clean models and start controllers
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Replace all Test::Unit style tests with RSpec style specs, since RSpec's
    handling of these tests proved unreliable: In particular, a test would fail
    when the full suite was run, but pass when only the single spec file was
    run.
    All tests are now run through rspec - the test directory is left as a place for stashing fixtures etc...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1623 820eb932-12ee-0310-9ca8-eeb645f39767
    Giving tests and fixtures some love.
    
    Moving from explicit ids throughout the fixtures and many of the tests to taking
    advantage of the new fixture capabilities in Rails 2.
    
    We're now loading _all_ the fixtures from test_helper, which should hopefully
    reduce problems we've been experiencing with test ordering, which is nice.
    
    Eventually, I intend to move to using pre_loaded_fixtures - loading the fixtures
    up as part of the initial rake task, and then letting transactional rollback
    stuff deal with the rest.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1620 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patches #1115 and #1116 (with a modification suggested by nertzy)
    The tests should now pass on postgres and sqlite3.
    
    Thanks to Mathijs van Zuijlen for the patches.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1480 820eb932-12ee-0310-9ca8-eeb645f39767
    A big cleanup of the way content and feedback state is handled:
    
     * The ContentState:: namespace is gone. States now appear in the
       Article::States and Feedback::States namespace (or anywhere else
       that would be found through normal namespace resolution)
     * The magic now happens in lib/stateful.rb, which sets up the
      'has_state' declaration. Look at article.rb and feedback.rb for
       examples of it in use. Documentation and pluginification will happen.
       Eventually.
    
    Also, I've done a bit of spring cleaning on various content related
    classes and (shock!) added tests for Article#comment_closed?. Did
    _you_ know that wasn't being tested? Me neither.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1438 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    All sorts of tweaks and cleanups.
    
    Mainly, the feedback state machine has got a little more complex, allowing
    us to add a 'Content#publication_state_just_changed?' method. And having
    such a method means that there's now a bunch of places where we used to
    sweep the cache unnecessarily, but now we just don't sweep the cache.
    Which is no bad thing. Cache misses are bad m'kay?
    
    Also, I've rejigged the SpamProtection package, applying the Composed
    Method pattern, reordering some of the tests and generally making it try
    to decide quicker.
    
    There's lots more work to do here, but this will do for starters.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1253 820eb932-12ee-0310-9ca8-eeb645f39767
    Migrating users to the same config manager we're using for blogs.
    
    The goal is to be able to dynamically extend users with new settings without adding a new collumn each time.
    
    The migration is a bit ugly.
    
    Problem: settings names overlap fields names.
    Solution: rename columns, migrate, remove columns.
    
    There must be a better way to do it but...
    1. I didn't find it.
    2. I'm lost in the countryside where I need to go to the back of the
    garden to have a phone connection and in the middle of a field to have
     a chance to get my emails. So asking for help / advice on the interweb was not possible.
    
    At least it works
    
    Some fields were not migrated because we do some User.find on them :
    – notify_via_email
    – notify_on_new_articles
    – notify_on_comments
    Fix rendering of image carousel in page form.
    Mock out all database access for admin/content/new view spec.
    Fix rendering of image carousel in content (article) form.
    Specs for new content view should use an Article that behaves as new.
    
    This also avoids a hit on the database to find the article's resources.
    Don't stub out subtabs_for anymore in spec.
    Start creating specs for admin views.
    Migrating users to the same config manager we're using for blogs.
    
    The goal is to be able to dynamically extend users with new settings without adding a new collumn each time.
    
    The migration is a bit ugly.
    
    Problem: settings names overlap fields names.
    Solution: rename columns, migrate, remove columns.
    
    There must be a better way to do it but...
    1. I didn't find it.
    2. I'm lost in the countryside where I need to go to the back of the
    garden to have a phone connection and in the middle of a field to have
     a chance to get my emails. So asking for help / advice on the interweb was not possible.
    
    At least it works
    
    Some fields were not migrated because we do some User.find on them :
    – notify_via_email
    – notify_on_new_articles
    – notify_on_comments
    Mock out all database access for admin/content/new view spec.
    Fix rendering of image carousel in content (article) form.
    Specs for new content view should use an Article that behaves as new.
    
    This also avoids a hit on the database to find the article's resources.
    Don't stub out subtabs_for anymore in spec.
    Start creating specs for admin views.
    Give comment index Atom and RSS feeds their own templates.
    Give trackbacks index Atom feed its own template.
    Give comment index Atom and RSS feeds their own templates.
    Give trackbacks index RSS feed its own template.
    Fixing an obvious "blunder".
    Remove text_filter fixture. That was the last fixture to remove...
    
    Still notification_mailer in test/fixtures dir...
    That for the next time
    Do not autosave when setting a setting.
    Changes the settings behavior for nofollowify, index categories and index tags. Comes with migration. Adds missing specs.
    
    Current settings behavior were beyond stupidity : every feature were enabled by default and admin had to uncheck them to disable them:
    Unchecking nofollowify was enabling dofollow.
    Unchecking index categories was removing categories from search engine index
    Unchecking index tags was removing categories from search engine tags.
    
    New behavior:
    Checking dofollowify actually enables dofollow
    Checking unindex categories removes categories from search engine index
    Checking unindex tags removes tags from search engine index
    
    TODO :
    Allow unindex / index by category.
    Allow unindex / index by tag.
    Do not provide this_blog in spec helper. Exposes bug in Redirect model.
    
    Due to the presence of this_blog in the spec helper, Redirect could use it
    in the specs, whereas it has no access to this method in the production
    environment.
    Remove remaining calls to use_gravatar in specs and fixtures.
    Adding a no/do follow policy on the whole blog. Admin can now chose between nofollow and dofollow in the comments and comments author URL.
    
    For now this is a bit "raw" and may need some improvement:
    1- allow admin to chose after how many comments a visitor is dofollowed, for example 3, but this would have an impact on performances: each time a comment is rendered, Typo would do a select count(*) based on the author email address.
    2- improve comment moderation to have an email sent even though the comment was not published, or any other way to moderate comments. I need to think about it without breaking / recoding our state machine.
    
    Oh, and this indeed come with a bunch of tests that shows I haven't broken anything.
    Removes deprecation warning on rspec 2.0 with response
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Replace assigns[:foo] = :bar with assign(:foo, :bar).
    Replace have_tag with have_selector in view specs.
    Remove blog stubbing in view specs.
    
    Stubbing caused an error and is unnecessary.
    Fix calls to #render in view specs.
    
    The default action for #render changed, so now we must explicitely state we
    want to render the given file rather than a partial.
    Change shared example specification.
    
    RSpec now uses shared_examples_for to specify shared examples.
    Add fixture and specs to test auto-linking in comments.
    Make view specs succeed
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Fixed a silly typo in one of the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1633 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing a few more issues and lamenting issues of test order dependency
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1574 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    At some point in any refactoring you have to trust your gut and check
    it in.
    
    This point has now been reached...
    
    New things:
    * routes.rb continues to get shorter, ArticlesController is now declared
      with 'map.datestamped_resource :articles' plus a few extra actions that
      will eventually move to other controllers
    * Comment posting is now handled by the shiny new CommentsController, which
      is resourceful. However, because we don't want to break too many themes
      yet, it's still rendering templates from the articles directory
    * If you want to make your themes work better with the new scheme, you
      should alter your comment form url to be:
      {{{ :url => comments_path(@article) }}}
      If you're linking to the preview action, that becomes
      {{{ preview_new_comment_path(@article) }}}
    * This breaks #1463 rather hard. I shall be rolling #1463 all the way back
      for the time being, at least until I've got the controllers working
      restfully. Once that's done, it should be relatively trivial to change
      the routes file from using {{{datestamped_resources(:articles)}}} to using
      {{{resources(:articles)}}}
    * Deprecation warnings for badly placed controller actions aren't yet
      in place. I need to work out some way of having those warnings show
      up on the admin pages...
    * This may break things horribly. I've run it against the test suite,
      I've walked through most stuff on my test blog, but (always) there
      is the niggling feeling that I've missed something.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1465 820eb932-12ee-0310-9ca8-eeb645f39767
    Slowly moving towards a more Resourceful setup. Added (and started to test)
    a CommentsController class and its associated views.
    
    We aren't actually using it from anything yet, but it's only a matter of time.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1461 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove text_filter fixture. That was the last fixture to remove...
    
    Still notification_mailer in test/fixtures dir...
    That for the next time
    Simplify feedback atom feed spec.
    Render correct id for items in article feedback Atom feed.
    Move article comment feed spec to view specs.
    Give article feedback Atom feed its own template.
    Fix feed specs since article stub now uses textile text filter.
    Show RSS description in Atom feed article entry.
    Remove secret-leaking summary element from article Atom template.
    Hide extended content if the blog says so (again).
    Protect password-protected articles in Atom feed (again).
    Use a partial to render each article entry in tha articles Atom feed.
    Use stub_full_article helper in articles atom feed view spec.
    Give articles index Atom feed its own template.
    
    I want to give each feed its own template, and remove the to_atom and
    to_rss methods from the models.
    Show current typo version number in atom feed.
    Split large atom feed view spec for trackbacks.
    Add check to view spec that rendered feed is of type Atom.
    
    Using have_selector does not work. This is due to the fact that Webrat
    wraps the feed in html, so this check parses the XML directly.
    Add view spec for atom feed of trackbacks.
    Make atom and rss feed builders shared partials.
    Move atom feed spec for special characters to view spec.
    Add coding comment for Ruby 1.9.2.
    Fix feed specs since article stub now uses textile text filter.
    Add spec for non-ascii permalinks in RSS.
    
    Spec passes, since Article#permalink_url yields URLs that are valid in RSS.
    Create RSS item partial for articles.
    Give articles index RSS feed its own template.
    Revert "spec cleaning"
    
    This reverts commit a44b1ebc0112d5ed349696d3345edc80e88b0f2e.
    spec cleaning
    Show comment creation date and time in partial for Standard Issue.
    
    It would erroneously show the article publication date and time.
    Stub out all database access in article read view spec.
    Clean up and reformat context blocks in article read spec.
    Pull out remaining before block contents in article read spec.
    Pull out article creation to outer block in article read spec.
    Pull out blog creation to outer before block in article view spec.
    Fix automatic finding of file to render.
    replace blog fixture with factory
    still on failure on tag_controller_spec but don't know why... Removing content_fixture done
    Fixes more have_selector
    Webrat have_select takes :content, not :contents
    Removes deprecation warning on rspec 2.0 with response
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Replace assigns[:foo] = :bar with assign(:foo, :bar).
    Replace have_tag with have_selector in view specs.
    Fix calls to #render in view specs.
    
    The default action for #render changed, so now we must explicitely state we
    want to render the given file rather than a partial.
    Mass-removal of trailing whitespace.
    Just realized that _all_ our themes were borked because of untested constant read controller and action renaming. How was it possible for so loooong?
    Controller's view path would also include default, not just theme
    Add helper to test all present themes automatically
    Add fixture and specs to test auto-linking in comments.
    Spec that shows problem of combining a text filter with simple_format.
    For articles and for comments.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Use trackback and comment partials in article feedback RSS feed.
    Give article feedback RSS feed its own template.
    In the normal case, the password form is not rendered.
    Replacing old will_paginate with scope based Kaminari.
    Revert "spec cleaning"
    
    This reverts commit a44b1ebc0112d5ed349696d3345edc80e88b0f2e.
    spec cleaning
    Fix automatic finding of file to render in article index view spec.
    Speed up articles index view specs.
    Move theme layouts under their views directory.
    
    This way, we can specify the layout using a relative path, which will avoid
    looking for it in all plugins' view paths.
    replace blog fixture with factory
    still on failure on tag_controller_spec but don't know why... Removing content_fixture done
    Update spec for article index view.
    
    Include layout when rendering the view. This required change moving the
    contents helper into application_helper.rb. All this was in order to add a
    spec to make sure no extra escaping was done anywhere in the rendered
    body.
    Re-enable some specs; these pass.
    Fix article index view specs.
    
    - Set controller parameter explicitely, lest RSpec infer the wrong
      controller name.
    - Search now has nice pageing URLs.
    Fixes more have_selector
    Webrat have_select takes :content, not :contents
    Removes deprecation warning on rspec 2.0 with response
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Replace assigns[:foo] = :bar with assign(:foo, :bar).
    Replace have_tag with have_selector in view specs.
    Fix calls to #render in view specs.
    
    The default action for #render changed, so now we must explicitely state we
    want to render the given file rather than a partial.
    Fix invalid p>div nesting.
    Controller's view path would also include default, not just theme
    Add helper to test all present themes automatically
    test true-blue-3 themes in article views spec
    fix error on test and use will_paginate last version by gem instead of by plugin
    Fixing brocken tests
    fix some spec
    Spec that shows problem of combining a text filter with simple_format.
    For articles and for comments.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    delete ouput useless in spec
    recover and fix spec about view/article
    Fix view spec to work properly on Ruby 1.9.
    Create spec for atom header partial.
    Use the RSS article partial in the authors rss feed.
    Give Atom and RSS feeds for author articles their own templates.
    Give articles index RSS feed its own template.
    Use the article partial in the authors Atom feed.
    Give Atom and RSS feeds for author articles their own templates.
    Use stub_full_article helper in articles atom feed view spec.
    Give articles index Atom feed its own template.
    
    I want to give each feed its own template, and remove the to_atom and
    to_rss methods from the models.
    Show current typo version number in atom feed.
    Split large atom feed view spec for trackbacks.
    Add check to view spec that rendered feed is of type Atom.
    
    Using have_selector does not work. This is due to the fact that Webrat
    wraps the feed in html, so this check parses the XML directly.
    Add view spec for atom feed of trackbacks.
    Make atom and rss feed builders shared partials.
    Move atom feed spec for special characters to view spec.
    Give trackbacks index Atom feed its own template.
    Give trackbacks index RSS feed its own template.
    Revert "spec cleaning"
    
    This reverts commit a44b1ebc0112d5ed349696d3345edc80e88b0f2e.
    spec cleaning
    Move rendering part of SEO options spec to view specs.
    
    The controller spec now just checks assignment (leading to the removal of
    a spurious comma), while the view spec checks if the assigned keywords are
    rendered or not (depending on the blog settings).
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Make sure cached file does not exist before and after spec.
    Clean up specs boiler plate and remove dependency on test/test_helper.rb.
    Test page caching from controller
    Avoid setting the User salt permanently in specs.
    Fixed stubbing of User.salt in specs to remove interfile dependencies
    in the way to removing user spec...
    Remove user fixture usage
    replace blog fixture with factory
    fix controller spec problem about removing content fixtures. Still 8 faileur on spec:controllers.
    remove contents fixtures, clean models and start controllers
    Replace deprecated Errors#add_to_base(msg) with Errors#add(:base, msg).
    Make specs pick up ActionWebService testing methods.
    Removing deprecated RAILS_ROOT
    Spec out category setting for MetaWeblogService.
    Separate backend tests by API type.
    
    Use describe blocks to group the different API specs. Will make spec
    descriptions more concise when they are updated from their current test
    names. Also makes it easier to navigate the file.
    Fix library loading for BackendController and its spec.
    
    ActionWebService::Protocol::Discovery uses write_inheritable_array to
    register protocols. Due to the order of library loading, during testing
    only, the ApplicationController class would be created before
    ActionWebService::Protocol::XmlRpc was registered in
    ActionController::Base. This meant BackendController needed to include
    ActionWebService::Protocol::XmlRpc again in the specs to register it.
    
    By requiring 'action_web_service' in environment.rb with the other included
    libraries, we make sure it is loaded early enough to avoid this.
    
    Also, some other unneccesary require statements were removed from the spec.
    Remove category_fixture, replace by factory
    Mass-removal of trailing whitespace.
    Replace all Test::Unit style tests with RSpec style specs, since RSpec's
    handling of these tests proved unreliable: In particular, a test would fail
    when the full suite was run, but pass when only the single spec file was
    run.
    Not really using flexmock
    Clean up specs boiler plate and remove dependency on test/test_helper.rb.
    add require to avoid some module unknow
    Fix MetaWeblog API to interpret time zones consistently
    
    The goal of this patch is to fix the following unit test failure, which
    started occuring at (IIRC) 7pm Eastern Standard Time this evening:
    
      Test::Unit::AssertionFailedError in 'BackendController
        test_meta_weblog_new_post'
      <Fri Nov 28 05:00:00 UTC 2008> expected but was
      <Sat Nov 29 05:00:00 UTC 2008>.
      ./spec/controllers/backend_controller_spec.rb:186:in
        `test_meta_weblog_new_post'
    
    This failure does not occur earlier in the day, at least in my time zone.
    
    To fix this problem, we need to fix the dateCreated field returned by
    getPost to use a proper dateTime value instead of a string.  This may
    affect users who use MetaWeblog API clients, though hopefully it will only
    affect them for the better.
    
    The problem: The existing code is attempting to use UTC for all dateTime
    values, but failing, because it sometimes returns strings where dateTime
    values are expected.
    
    Why the existing code is correct to _attempt_ to use UTC everywhere:
    
    The XML-RPC spec does not allow serialized dateTime values to contain a
    time zone, and instead relies on clients and servers to agree on a
    convention for interpreting dateTime values:
    
      http://www.xmlrpc.com/spec
    
      * What timezone should be assumed for the dateTime.iso8601 type? UTC?
        localtime?
    
        Don't assume a timezone. It should be specified by the server in its
        documentation what assumptions it makes about timezones.
    
    As you can see from the following discussion, the MetaWeblog API inherits
    this ambiguity:
    
      http://www.25hoursaday.com/weblog/CommentView.aspx?guid=c210531e-646c-41e8-a81e-f3efd4ba8df4
    
    As noted in that comment thread, most blogging tools have standardized on
    using UTC everywhere, since it can be unambiguously interpreted without a
    timezone.
    
    The fixes:
    
      1) First, in the test cases, Time.now.midnight.utc and
         Time.now.utc.midnight are _not_ the same in most time zones.  This is
         fixed by relying on the previously computed value of
         'article.published_at' instead of checking the clock a second time.
         Doing this also allows us to work around a hypothetical test case
         failure which would occur if the clock passed midnight in the middle
         of the test case.
    
      2) Second, ActionWebService will simply Do The Right Thing with dates,
         but only if it can identify them as such.  Previously, the function
         MetaWeblogService.article_dto_from would actually try to serialize
         dates as strings instead of XML-RPC dateTime values.  This caused a
         variety of time zone lossage, and made the test case failures very
         hard to debug.  The biggest consequence of this bug: getPost would
         return a string instead of an XML-RPC dateTime value for dateCreated.
    
    I've added a test case to make sure that we can round-trip dates without
    corrupting them.
    Prevent accidentally changing the blog's title
    
    When running the unit tests, I was getting the following error:
    
      Test::Unit::AssertionFailedError in 'BackendController
        test_blogger_get_users_blogs'
      <"test blog trackbacks trackbacks"> expected but was
        <"test blog">.
      ./spec/controllers/backend_controller_spec.rb:37:in
        `test_blogger_get_users_blogs'
    
    First problem: This error message has accidentally reversed the expected and
    actual values.
    
    Second problem: The following two lines in xml_controller.rb were
    accidentally changing the blog title.  This occurs because '<<' actually
    updates a string in place.
    
      @feed_title = this_blog.blog_name
      ...
      @feed_title << " trackbacks"
    
    The fix: Make a copy of the blog title before storing it in @feed_title.
    This one fixes 28 tests
    Some admin cleaning :\n
    – removing admin for cache sweeping since no one knew it existed.\n
    – removing preview for articles and pages since they have been replaced long ago.\n
    – confirmation pop up for everything instead of going to destroy page. Destroy page has been kept for accessibility purpose.\n
    – Comments.new template removed since it's now on the comments list\n
    – Trackbacks.new admin removed : building a trackback on your own blog is a nonsense.\n
    Some more images cleaining.\n
    Removed unused tests.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1728 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes issue 1210
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1681 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug breaking the spellchecker in FCKEditor.
    Adds autocompletion in the tags (ticket 1217)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1679 820eb932-12ee-0310-9ca8-eeb645f39767
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    All tests are now run through rspec - the test directory is left as a place for stashing fixtures etc...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1623 820eb932-12ee-0310-9ca8-eeb645f39767
    Giving tests and fixtures some love.
    
    Moving from explicit ids throughout the fixtures and many of the tests to taking
    advantage of the new fixture capabilities in Rails 2.
    
    We're now loading _all_ the fixtures from test_helper, which should hopefully
    reduce problems we've been experiencing with test ordering, which is nice.
    
    Eventually, I intend to move to using pre_loaded_fixtures - loading the fixtures
    up as part of the initial rake task, and then letting transactional rollback
    stuff deal with the rest.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1620 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Made the backend_controller_test a little more robust.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1515 820eb932-12ee-0310-9ca8-eeb645f39767
    More decomposition of the monolith that it ArticlesController into
    per resource controllers. Trackbacks get their own controller this time.
    
    Also, work continues on pushing behaviour out of controllers and into
    models.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1514 820eb932-12ee-0310-9ca8-eeb645f39767
    – Fixed a few bugs
    – Added the week in refactoring patch
    – Added the rights table and the profile to rights one.
    – Populated the new tables.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1494 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix for #872
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1054 820eb932-12ee-0310-9ca8-eeb645f39767
    Probable fix for #847
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1041 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Integrated patch 526
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@872 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixture and test cleanup, falling out from the fixture timing change to make spam tests happy.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@713 820eb932-12ee-0310-9ca8-eeb645f39767
    Minor test style update; more will follow
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@688 820eb932-12ee-0310-9ca8-eeb645f39767
    More performance updates.  Reduced logging in sidebar; this gives 2x performance on my test system.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@669 820eb932-12ee-0310-9ca8-eeb645f39767
    BACK UP YOUR DATABASE BEFORE RUNNING THESE MIGRATIONS.  Merge pdcawley's big superclass patch.  This rolls articles, pages, comments, and trackbacks into one big table, using STI.  This lets us get rid of a huge amount of duplicated code; diffstat shows a net of -148 lines, and the resulting code looks cleaner.  Closes #414
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@660 820eb932-12ee-0310-9ca8-eeb645f39767
    Add support for pinging certain sites during every update.  This will make us play better with Technorati, etc.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@638 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    Added support for dateCreated handling in metaWeblog#newPost and #editPost (closes #318) [henri@websiteburo.com]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@553 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed breakpoint from last commit
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@549 820eb932-12ee-0310-9ca8-eeb645f39767
    Implemented mt.supportedMethods returning an array of strings describing the available mt.* API calls supported by Typo (closes #253)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@548 820eb932-12ee-0310-9ca8-eeb645f39767
    fix for test regression
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@494 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed test_blogger_new_post_with_categories to more reliably assert_equal the assigned categories
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@451 820eb932-12ee-0310-9ca8-eeb645f39767
     * Move the test salt setting of the User model into test_helper
     * Implemented <category> extraction for blogger.newPost
     * Inherit text_filter for new articles posted via backend from blog config
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@444 820eb932-12ee-0310-9ca8-eeb645f39767
     * Changes in [324] broke Pgsql, fixed by this commit (closes #150) [wac+typo@carrel.org]
    
     * Implemented BloggerAPI.newPost (closes #185, #79)
     * Added test coverage for BloggerAPI.getUserInfo
     * Reverted (accidential?) changes to User model in [354], making User tests pass again
     * Added test coverage for [354] and [355] making Configuration tests pass again
       Scott: Please be sure to run rake before committing and adjust tests according to your changes. Thanks.
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@357 820eb932-12ee-0310-9ca8-eeb645f39767
     * Added count for articles within each category displayed in categories partial (closes #70)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@318 820eb932-12ee-0310-9ca8-eeb645f39767
    a few optimisations
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@204 820eb932-12ee-0310-9ca8-eeb645f39767
    I spelled Movable Type wrong a while ago, and now it is fixed everywhere.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@196 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged /branches/aws to /trunk. Three cheers for Patrick Lenz's fantastic work in this branch
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@132 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Avoid setting the User salt permanently in specs.
    Fixed stubbing of User.salt in specs to remove interfile dependencies
    I don't like controllers with empty indexes rendering errors
    remove users fixture usage in account_controller_spec
    Fix specs to use correct controller.
    
    These also used to work because of the catch-all route.
    Adding specs testing signup with allow_signup option activated
    replace blog fixture with factory
    Use strings, not symbols, as cookie keys when testing.
    Replace deprecated response.session with request.session.
    Replace deprecated response.flash with request.flash.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Increase spec nesting.
    
    - All specs now in describe AccounsController block, so no need for
      controller_name invocations.
    - Grouped 'with >0 users' specs.
    Update specs for AccountsController
    
    - Remove some of the duplication by using nested describes.
    - Remove some of the mocking in favor of Factory.
    - Add spec for failed password recovery.
    Mass-removal of trailing whitespace.
    Adding a setup to typo blog. Will redirect user to the editor after first account creation
    Spec that password should not change on login with 'Remember me' checked.
    Remove needless stubbing.
    Adding a recover password functionnality (better late than never huh ?
    Fix testability of accounts controller
    
    Refactor time update code into user model from
    controller.
    Fix AccountsController specs
    added test for nil username password login
    update to 2.3 cookie behaviour
    fix some spec broken
    Users creation simplification. Users have now their password generated, and display name is set as login
    Introduces users deactivation. Needs some fine tuning to be really good
    fix error with redirect to admin if already logged
    Ticket 42: when logged in and trying to access accounts/login, user should be redirected to admin/dashboard instead of having to log in again
    Fixing onhover: Add typo_user_profile cookie (and fix auth_token)
    
    I'm trying to re-enable the [Edit], etc., links on posts and comments.
    These were implemented using JavaScript.  Originally, the JavaScript
    checked the is_admin cookie, which was removed when roles were added to
    Typo in fcbcefc16b149a7b5de16ed4ac75c9bb9cd79524.  This patch replaces the
    old is_admin cookie with a new typo_user_profile cookie indicating what
    type of account the user has.  The JavaScript portion of this new feature
    will be included in a future patch.
    
    Note that we also add code to clear the auth_token cookie on logout.
    Fix spec failure for AccountsController#logout
    
    The patch at fd8c74161f84964447503f259c24c64a4700d4c2 accidentally caused
    one of the unit tests to fail.  This patch updates the spec to match the
    new code.
    Fix spec failures in accounts_controller_spec.rb
    
    It looks like some of these unit tests haven't been run in a while.  The
    fix for 'renders the logout action' was simple--the underlying code had
    been changed without changing the test suite.
    
    The fix for the logout tests was a bit trickier.  Apparently, the
    LoginSystem code in vendor/plugins/typo_login_system uses session[:user],
    while the accounts controller uses session[:user_id].  We need to make sure
    that both of these get set up correctly.  But doing this necessitates some
    other, related changes.
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed a silly typo in one of the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1633 820eb932-12ee-0310-9ca8-eeb645f39767
    More test tweaks
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1622 820eb932-12ee-0310-9ca8-eeb645f39767
    – Moving settings to a real settings controller
    – Splitting settings into different pages, a more sensible way
    – Removing old files
    – Fixing the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1611 820eb932-12ee-0310-9ca8-eeb645f39767
    More decomposition of articles_controller.rb; this time we've pulled
    /articles/author out to an AuthorsController and started the process
    of pulling up the common behaviour in AuthorsController and
    CategoriesController to a new GroupingController.
    
    Who knows, one of these days, ArticlesController might start looking
    positively svelte.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1517 820eb932-12ee-0310-9ca8-eeb645f39767
    Switched to storing only the user_id in the session rather than the whole
    user.
    
    You know it makes sense :).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1516 820eb932-12ee-0310-9ca8-eeb645f39767
    Made some specs a little less fragile.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1498 820eb932-12ee-0310-9ca8-eeb645f39767
    – Fixed a few bugs
    – Added the week in refactoring patch
    – Added the rights table and the profile to rights one.
    – Populated the new tables.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1494 820eb932-12ee-0310-9ca8-eeb645f39767
    At some point in any refactoring you have to trust your gut and check
    it in.
    
    This point has now been reached...
    
    New things:
    * routes.rb continues to get shorter, ArticlesController is now declared
      with 'map.datestamped_resource :articles' plus a few extra actions that
      will eventually move to other controllers
    * Comment posting is now handled by the shiny new CommentsController, which
      is resourceful. However, because we don't want to break too many themes
      yet, it's still rendering templates from the articles directory
    * If you want to make your themes work better with the new scheme, you
      should alter your comment form url to be:
      {{{ :url => comments_path(@article) }}}
      If you're linking to the preview action, that becomes
      {{{ preview_new_comment_path(@article) }}}
    * This breaks #1463 rather hard. I shall be rolling #1463 all the way back
      for the time being, at least until I've got the controllers working
      restfully. Once that's done, it should be relatively trivial to change
      the routes file from using {{{datestamped_resources(:articles)}}} to using
      {{{resources(:articles)}}}
    * Deprecation warnings for badly placed controller actions aren't yet
      in place. I need to work out some way of having those warnings show
      up on the admin pages...
    * This may break things horribly. I've run it against the test suite,
      I've walked through most stuff on my test blog, but (always) there
      is the niggling feeling that I've missed something.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1465 820eb932-12ee-0310-9ca8-eeb645f39767
    Oops, forgot the specs
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1458 820eb932-12ee-0310-9ca8-eeb645f39767
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    So, when you look at the articles list and somethings published in, say
    a week's time, it'll be described as being posted
    
    7 days from now
    
    Which is rather nicer than it was.
    
    Thanks to Tyler Godfrey for the spot and for the initial patch.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1337 820eb932-12ee-0310-9ca8-eeb645f39767
    some refactoring around comment controller
    Make feedback controller use individual templates.
    Make atom and rss feed builders shared partials.
    Move duplicated spec setup code to a before block in CommentsController spec.
    replace blog fixture with factory
    fix controller spec problem about removing content fixtures. Still 8 faileur on spec:controllers.
    remove contents fixtures, clean models and start controllers
    Avoid lengthy spam check in comments controller spec.
    
    Since all comments in this set of specs are supposed to be ham, set
    the sp_global to false, causeing all spam checks to be skipped. Requires
    removing the All Requests shared example, because before blocks are also
    not propagated to the calling block anymore.
    Replace instance variables with fixture methods for shared specs.
    
    Instance variables are not propagated to calling describe block anymore.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Change shared example specification.
    
    RSpec now uses shared_examples_for to specify shared examples.
    Removing the filter on AJAX / non AJAX comments since now some themes (including default theme...) comes without AJAX enabled by default. This will prevent some well known issues...
    update to 2.3 cookie behaviour
    Fix all spec
    start to use a format url define in blog setting
    fix spec in comment controller with non use of mock
    Fix spec warnings in CommentsControllerSpec
    
    This specification file triggered two warnings because it contained
    confused mocking code.  This patch fixes the spec to set the mock objects
    up correctly.
    
    With this patch, the unit tests should now be completely clean.
    Fix spec failures in comments_controller_spec.rb
    
    The unit tests weren't always picking up the mock @blog correctly, so I
    added the following line to their setup.  This fixes 4 unit-test failures
    in my copy:
    
      Blog.stub!(:default).and_return(@blog)
    
    We were already stubbing Blog.find, but that wasn't enough:
    
      Blog.stub!(:find).and_return(@blog)
    
    As far as I can tell, the results of Blog.find were being cached too soon
    by Blog.default, and picking up a value from the database instead of our
    mock:
    
      # The default Blog.  This is the lowest-numbered blog, almost always id==1.
      def self.default
        @@default ||= find(:first, :order => 'id')
      rescue
        logger.warn 'You have not Blog install.'
        nil
      end
    
    So by stubbing Blog.default, we make sure that the unit test always sees
    our mock.
    Getting rid of /articles in the URL. Still need to add a redirect from old to new url. method exists in article controller, however, must find the best way to call it (routes for every possible url ?).
    
    Don't want to have it done by the web server anyway
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1697 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed a bug that was masked by a bad mock.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1645 820eb932-12ee-0310-9ca8-eeb645f39767
    More test tweaks
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1622 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing a few more issues and lamenting issues of test order dependency
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1574 820eb932-12ee-0310-9ca8-eeb645f39767
    A few more tests should be passing
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1571 820eb932-12ee-0310-9ca8-eeb645f39767
    A bit of rearrangement in views/xml
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1555 820eb932-12ee-0310-9ca8-eeb645f39767
    Introduced a FeedbackController and pulled up a bunch of stuff from
    TrackbacksController and CommentsController into it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1519 820eb932-12ee-0310-9ca8-eeb645f39767
    More decomposition of the monolith that it ArticlesController into
    per resource controllers. Trackbacks get their own controller this time.
    
    Also, work continues on pushing behaviour out of controllers and into
    models.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1514 820eb932-12ee-0310-9ca8-eeb645f39767
    Slowly moving behaviour from the controllers to the models by
    applying the Law of Demeter.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1509 820eb932-12ee-0310-9ca8-eeb645f39767
    More smallish refactorings. Just easing my way back
    into the code.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1508 820eb932-12ee-0310-9ca8-eeb645f39767
    Added limits to CommentsController#index
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1475 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    At some point in any refactoring you have to trust your gut and check
    it in.
    
    This point has now been reached...
    
    New things:
    * routes.rb continues to get shorter, ArticlesController is now declared
      with 'map.datestamped_resource :articles' plus a few extra actions that
      will eventually move to other controllers
    * Comment posting is now handled by the shiny new CommentsController, which
      is resourceful. However, because we don't want to break too many themes
      yet, it's still rendering templates from the articles directory
    * If you want to make your themes work better with the new scheme, you
      should alter your comment form url to be:
      {{{ :url => comments_path(@article) }}}
      If you're linking to the preview action, that becomes
      {{{ preview_new_comment_path(@article) }}}
    * This breaks #1463 rather hard. I shall be rolling #1463 all the way back
      for the time being, at least until I've got the controllers working
      restfully. Once that's done, it should be relatively trivial to change
      the routes file from using {{{datestamped_resources(:articles)}}} to using
      {{{resources(:articles)}}}
    * Deprecation warnings for badly placed controller actions aren't yet
      in place. I need to work out some way of having those warnings show
      up on the admin pages...
    * This may break things horribly. I've run it against the test suite,
      I've walked through most stuff on my test blog, but (always) there
      is the niggling feeling that I've missed something.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1465 820eb932-12ee-0310-9ca8-eeb645f39767
    Slowly moving towards a more Resourceful setup. Added (and started to test)
    a CommentsController class and its associated views.
    
    We aren't actually using it from anything yet, but it's only a matter of time.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1461 820eb932-12ee-0310-9ca8-eeb645f39767
    Revert "spec cleaning"
    
    This reverts commit a44b1ebc0112d5ed349696d3345edc80e88b0f2e.
    Pass article to partial when password checks out.
    spec cleaning
    Fixes custom_tracking fields making a blog exploding when filled. Added some specs to prevent any other bug like this
    Fixes a bug in the meta title generation.
    
    Added specs. Need more specs on this. Need specs on grouping controller. Will add both at the same time when fixing a regression on template rendering
    remove user fixture usage
    Move rendering part of SEO options spec to view specs.
    
    The controller spec now just checks assignment (leading to the removal of
    a spurious comma), while the view spec checks if the assigned keywords are
    rendered or not (depending on the blog settings).
    remove users fixtures usage...
    Adding test on render without layout back after a Rails fix
    Fix remaining spec failures caused by the removal of the catch-all route.
    
    - Add routes for articles#tag and articles#category.
    - Remove route for tags#check_password again, it was a red herring.
    - Fix references to accounts/login as the controller.
    - Explicitely state controller in article password form partial.
    - Fix category spec set up to ensure creation of permalink field.
    refactoring SEO Options on article_controller_spec
    Re-enable spec for ignoring the HTTP Accept header.
    
    This spec now passes, since Rails ignores this header by default now.
    Use article index RSS feed template for search results.
    Give article feedback RSS feed its own template.
    Give articles index RSS feed its own template.
    Move article comment feed spec to view specs.
    Use article index Atom feed template for search results.
    Give article feedback Atom feed its own template.
    Specify assigns for article feeds.
    Give articles index Atom feed its own template.
    
    I want to give each feed its own template, and remove the to_atom and
    to_rss methods from the models.
    Remove feed validator checks for items covered in the view spec.
    Make atom and rss feed builders shared partials.
    Move atom feed spec for special characters to view spec.
    Fix redirect where to_path is a full URL and the blog is in a sub-URL.
    Adding a "use meta tags option", enabled by default. Changing the grouping controller behavior to add the blog meta keywords to the categories and tags when their keywords are empty (always for tags). Adding specs.
    Update article redirect specs to match new *from glob behavior.
    Adding support for rel='canonical' in pages header to avoid duplicate content.
    
    A canonical page is the preferred version of a set of pages with highly similar content.
    
    It's common for a site to have several pages listing the same set of products. For example, one page might display products sorted in alphabetical order, while other pages display the same products listed by price or by rating. For example:
    
    http://www.example.com/product.php?item=swedish-fish&trackingid=1234567&sort=alpha&sessionid=5678asfasdfasfd
    http://www.example.com/product.php?item=swedish-fish&trackingid=1234567&sort=price&sessionid=5678asfasdfasfd
    If Google knows that these pages have the same content, we may index only one version for our search results. Our algorithms select the page we think best answers the user's query. Now, however, users can specify a canonical page to search engines by adding a <link> element with the attribute rel="canonical" to the <head> section of the non-canonical version of the page. Adding this link and attribute lets site owners identify sets of identical content and suggest to Google: "Of all these pages with identical content, this page is the most useful. Please prioritize it in search results."
    When finding articles by permalink, use UTC date.
    
    Up to typo 5.5, the dates as found in the article permalink URLs
    corresponded exactly with the publication date as stored in the database,
    and these dates were in the local timezone.
    
    Starting with Rails 3 however, datetimes as stored in the database are
    interpreted as having zone UTC, breaking existing URLs and causing a
    mismatch between the generated URLs (which due to how they are programmed
    were immune to this change) and the permalink finder method.
    
    This commit restores the old behavior, i.e., the permalink dates correspond
    again to the dates as stored on disk.
    
    However, the dates continue to be interpreted as UTC, which means the
    publication times for old articles (originally stored as local time) have
    an offset compared to the publication times for new articles (stored as
    UTC).
    
    Some tests had to be adjusted to be more specific about the generated
    publication datetime.
    Add coding comment for non-ascii files.
    
    Part of the Ruby 1.9 compatibility effort.
    Do not provide this_blog in spec helper. Exposes bug in Redirect model.
    
    Due to the presence of this_blog in the spec helper, Redirect could use it
    in the specs, whereas it has no access to this method in the production
    environment.
    Add specs documenting current behavior of partial URL match.
    
    Currently, if you set the permalink format to, e.g.,
    /foo/bar/%year%/%title%, accessing /foo/bar/2010 will not give you all
    articles in 2010. Even allowing this URL to match doesn't help, since the
    finder will still only produce the first record in 2010. This should be
    changed, I think.
    Enforce matching of fixed components.
    Move remaining article routing specs under spec/routing.
    Avoid matching literal parts of the URL in the wrong places.
    Reorganize article specs a bit.
    
    Mainly to avoid creating extra articles and doing extra rendering.
    Comprehensively fix bug #192: multi-byte permalinks.
    
    - Do not escape the title upon conversion to permalink slug.
    - Escape permalink sluk upon creation of permalink url.
    - Search article by permalink and by escaped permalink to support legacy
      permalink slugs.
    Clarify spec: articles should be assigned and not empty.
    Use more than one fixture for some of the article controller specs.
    
    Requires correct sequencing of the updated_at property.
    replace blog fixture with factory
    still on failure on tag_controller_spec but don't know why... Removing content_fixture done
    fix controller spec problem about removing content fixtures. Still 8 faileur on spec:controllers.
    remove contents fixtures, clean models and start controllers
    Password protected articles have exactly one password input field.
    
    I'm refining this spec to have early warning of any double-rendering issues
    with remote_form_for like we had earlier.
    Make Webrat's matchers treat XML like XML.
    
    See Webrat ticket 345 for details.
    Make spec for ignoring Accept header 'pending'.
    
    The use_accept_header setting has been deprecated and does nothing anymore.
    Therefore, we either need a new method of ignoring the Accept header, or
    take another look at our caching system.
    Remove failing method call expectation.
    
    Replaced with expectation of result. This doesn't work right now due to
    Rails bug 5247.
    Use nested contains matcher to match content by regular expression.
    
    Webrat's have_selector does not take regular expressions. Use a block
    instead to match with contains.
    Call #params on controller, since plain params no longer works.
    More have_selector contents
    Use the blog's root path in redirects instead of relative_url_root.
    
    This changes the behavior slightly when accessing the blog from outside its
    base_url.
    Replace assert_redirected_to with response.should redirect_to.
    Don't use template file extensions in render_template matchers.
    
    It seems the extension is not taken into account in this matcher anymore.
    At least, having the extension there makes the matcher fail.
    No need to reset relative_url_root anymore.
    
    Since relative_url_root cannot be set anymore, there is no need to reset it
    before tests.
    Replace have_tag with have_selector in controller specs.
    Replace integrate_views with render_views in specs.
    
    This method was renamed in the new rspec_rails.
    Update article redirect specs.
    
    Some specs were organized illogically. There are is now a separate spec for
    redirecting from the default URL scheme if another scheme is used, and for
    using a non-ascii permalink slug. Also, some extra grouping with describe
    was introduced.
    Replace redirect fixture by factory
    Mass-removal of trailing whitespace.
    Adding specs to password protected posts
    Fixing a bug I introduced with the latest commit
    Fixing a bug I introduced with the latest commit
    Move function of RedirectsController into ArticlesController
    Move previews to an action of ArticlesController
    Ignore HTTP Accept headers: stops your cached index.html looking like an
    atom feed.
    Spec cleanup:
    - Remove outdated boilerplate.
    - Remove useless reset_blog_ids method.
    - Check authors feeds.
    Articles containing HTML entities or <'s should result in valid Atom feeds,
    but we should not care how they're encoded.
    Move individual article feed specs to redirect_controller_spec, spec
    monthly index feeds.
    Spec validation of articles feeds.
    fixed invalid assertion on the articles livesearch action, wrote assertions on the pending specs
    
    Signed-off-by: Matijs van Zuijlen <matijs@matijs.net>
    Test articles index with time parameters
    Correct some text
    Flesh out some tests
    fix a spec in markdown filter because need one \n before * to be interpret like <ul><li>.. tag
    Fixes RSS feed bug #110
    Removing cached_model + memcache, useless since we're now doing static caching. First step for Typo diet
    generate html with textfilter in search result
    fix bug about live_search with pouype
    add rss/atom feed in search result
    improve feed link in search view
    add spec to check good feed in head. Reformat some HTML with good indentation
    Fixing ticket 55 : /archives is brocken + test. Route was missing
    Fix error on search with no result
    
    [#37 state:resolved]
    Test article search controller and view
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    fix #3, now ATOM feed valid even with &eacute in our database insert by FCKEditor
    Moves the editor choice from global to per user
    Fixes a spec on articles because of moving to will_paginate
    fixed bug #1271 and add spec to test it
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1832 820eb932-12ee-0310-9ca8-eeb645f39767
    Getting rid of /articles in the URL. Still need to add a redirect from old to new url. method exists in article controller, however, must find the best way to call it (routes for every possible url ?).
    
    Don't want to have it done by the web server anyway
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1697 820eb932-12ee-0310-9ca8-eeb645f39767
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    More test tweaks
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1622 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the issue with a user profile not getting set.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1608 820eb932-12ee-0310-9ca8-eeb645f39767
    Yay! Eliminated the ugly 'render_grouping' stuff from ArticlesController.
    Authors, Tags, Categories all have their own controllers now. Currently
    they only handle #show and #index, but the next trick will be to migrate
    appropriate #create/#desroy/#update from their appropriate admin/*
    controllers with the eventual aim of eliminating most of the specific
    admin controllers.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1523 820eb932-12ee-0310-9ca8-eeb645f39767
    More decomposition of articles_controller.rb; this time we've pulled
    /articles/author out to an AuthorsController and started the process
    of pulling up the common behaviour in AuthorsController and
    CategoriesController to a new GroupingController.
    
    Who knows, one of these days, ArticlesController might start looking
    positively svelte.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1517 820eb932-12ee-0310-9ca8-eeb645f39767
    Right ho, /articles/category now redirects to /articles/categories,
    which is a resource now.
    
    Eventually, CategoriesController will take on the duties of
    Admin::CategoriesController, but not quite yet, for now it just handles
    index and show.
    
    Note that we've also introduced a new type of resource, the 'inflected_resource'
    which uses /articles/categories/... for its collection methods, but
    /articles/category/whatever for its members. This means that you we can
    have a category with a permalink of 'new' and it won't clash with with the
    admin form for creating a new category.
    
    Isn't that lovely?
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1510 820eb932-12ee-0310-9ca8-eeb645f39767
    Slowly moving behaviour from the controllers to the models by
    applying the Law of Demeter.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1509 820eb932-12ee-0310-9ca8-eeb645f39767
    More smallish refactorings. Just easing my way back
    into the code.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1508 820eb932-12ee-0310-9ca8-eeb645f39767
    Added limits to CommentsController#index
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1475 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed a test in ArticlesControllerTest to reflect that we now
    use nuke_feedback (should have done that for the last rev)
    
    Fixed a weird heidelbug in ArticlesControllerSpec that only
    showed up when you ran the specs with rake...
    
    I hate database dependencies; I especially hate it when I forget
    that they're my fault because I added caching.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1470 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    We've added svn:externals links to rspec and rspec_on_rails
    and rejigged the specs we had to work with rspec 0.9.4's style.
    
    I expect that I shall be adding any new functionality to Typo
    in a spec first style, so if you want to be sure that any
    additions you make don't break things, you need to be running
    the specs.
    
    I expect that our gems will not include the whole rspec
    framework though.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1440 820eb932-12ee-0310-9ca8-eeb645f39767
    So, when you look at the articles list and somethings published in, say
    a week's time, it'll be described as being posted
    
    7 days from now
    
    Which is rather nicer than it was.
    
    Thanks to Tyler Godfrey for the spot and for the initial patch.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1337 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed categories_controller_spec.rb
    Make specs pass.
    
    - Replace stubs with original factories.
    - Remove extra .article method call.
    use named scope for selecting published articles
    Adding per tag and category templating.
    
    If your site has a category called foo and your theme provides a categories/foo.html.erb template, then this template will be used instead of categories/show.html.erb or articles/index.html.erb as a fallback. Same mechanisme is used for tags.
    
    I love how easy Rails makes that, w00t.
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Reorganize CategoriesController specs.
    
    - Move spec for showing non-existent category to a seperate block.
    - Make all specs in #show use the same stubs.
    Fix remaining spec failures caused by the removal of the catch-all route.
    
    - Add routes for articles#tag and articles#category.
    - Remove route for tags#check_password again, it was a red herring.
    - Fix references to accounts/login as the controller.
    - Explicitely state controller in article password form partial.
    - Fix category spec set up to ensure creation of permalink field.
    clean spec on categoriesController SEO Options to prepare time execution improvement
    Speed up CategoriesController specs.
    Make grouping controller use article's feed templates.
    improve test time execution
    refactoring to reduce test execution time
    extract method, test refactoring, to improve test time execution and code understandability
    moove some test from category_controller to category model
    Make atom and rss feed builders shared partials.
    Adding a "use meta tags option", enabled by default. Changing the grouping controller behavior to add the blog meta keywords to the categories and tags when their keywords are empty (always for tags). Adding specs.
    Changes the settings behavior for nofollowify, index categories and index tags. Comes with migration. Adds missing specs.
    
    Current settings behavior were beyond stupidity : every feature were enabled by default and admin had to uncheck them to disable them:
    Unchecking nofollowify was enabling dofollow.
    Unchecking index categories was removing categories from search engine index
    Unchecking index tags was removing categories from search engine tags.
    
    New behavior:
    Checking dofollowify actually enables dofollow
    Checking unindex categories removes categories from search engine index
    Checking unindex tags removes tags from search engine index
    
    TODO :
    Allow unindex / index by category.
    Allow unindex / index by tag.
    Adding support for rel='canonical' in pages header to avoid duplicate content.
    
    A canonical page is the preferred version of a set of pages with highly similar content.
    
    It's common for a site to have several pages listing the same set of products. For example, one page might display products sorted in alphabetical order, while other pages display the same products listed by price or by rating. For example:
    
    http://www.example.com/product.php?item=swedish-fish&trackingid=1234567&sort=alpha&sessionid=5678asfasdfasfd
    http://www.example.com/product.php?item=swedish-fish&trackingid=1234567&sort=price&sessionid=5678asfasdfasfd
    If Google knows that these pages have the same content, we may index only one version for our search results. Our algorithms select the page we think best answers the user's query. Now, however, users can specify a canonical page to search engines by adding a <link> element with the attribute rel="canonical" to the <head> section of the non-canonical version of the page. Adding this link and attribute lets site owners identify sets of identical content and suggest to Google: "Of all these pages with identical content, this page is the most useful. Please prioritize it in search results."
    replace blog fixture with factory
    fix controller spec problem about removing content fixtures. Still 8 faileur on spec:controllers.
    remove contents fixtures, clean models and start controllers
    Create one version of ul_tag_for, and give it 100% coverage.
    Compare response.status to number instead of string.
    
    The old response.status returned the full status code (number + message).
    The new version just returns the numeric code.
    Use standard Rails 3 template_exists? method.
    
    Specs were also updated, since that version of template_exists? requires at
    least one argument. Additionally, fix a broken spec for this functionality
    for CategoriesController.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Replace integrate_views with render_views in specs.
    
    This method was renamed in the new rspec_rails.
    Fix specs after removal of category fixtures.
    
    - Add or update calls to Factory where needed.
    - Add factory sequence for category name and permalink to avoid
      validation errors.
    - Also remove categorization fixtures.
    Remove category_fixture, replace by factory
    Mass-removal of trailing whitespace.
    Adding specs to password protected posts
    Replace all Test::Unit style tests with RSpec style specs, since RSpec's
    handling of these tests proved unreliable: In particular, a test would fail
    when the full suite was run, but pass when only the single spec file was
    run.
    Update to rails 2.3.3 broke the mocking in these tests:
    - Stop mocking that template exists: makes most tests pass again
    - Disable tests checking that default template is used: I'm unable to fake
      their existence at this time.
    fix error on spec
    fix (with pouype) spec failed after previous commit
    Remove some mocking so specs test behavior instead of implementation
    
    Signed-off-by: Cyril Mougel <cyril.mougel@gmail.com>
     Fix spec after change on commit 980bf4ce51b3e2131f00db99f1edcf254a270263
    Fix mocking of published articles for GroupingController
    
    Once upon a time, I suspect that GroupingController called
    grouping.published_articles to generate the list of published articles.
    But currently, it calls:
    
      @articles =
        grouping.articles.paginate(:page => params[:page],
                                   :conditions => { :published => true })
    
    This means that the specs for our three major types of groupings need to
    override grouping.articles instead of grouping.published_articles when
    setting up their mocks.  There's some regretable code duplication among the
    various spec files, so this had to be fixed in three places.
    
    There's also a larger philosophical issue with published_articles.
    Currently, it has no callers outside of the various spec/**/*.rb files, and
    it is defined in a variety of inconsistent ways.  See the following bug for
    further discussion of what to do here:
    
      http://typosphere.org/projects/typo/issues/show?id=1294
    Getting rid of the worse piece of code ever, multiplies Typo perfs by 10 when calling articles/index (see http://t37.net/ya-pas-comme-un-truc-qui-vous-fait-hurler-li)
    Getting rid of classic pagination for will_paginate
    Revamping the dashboard, step 1
    Revamping login form step 1
    cleaning admin/css step 1
    migrating default themes to will_paginate
    More test tweaks
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1622 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes ticket 1161 (trackbacks brocken)
    Fixes specs
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1590 820eb932-12ee-0310-9ca8-eeb645f39767
    Yay! Eliminated the ugly 'render_grouping' stuff from ArticlesController.
    Authors, Tags, Categories all have their own controllers now. Currently
    they only handle #show and #index, but the next trick will be to migrate
    appropriate #create/#desroy/#update from their appropriate admin/*
    controllers with the eventual aim of eliminating most of the specific
    admin controllers.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1523 820eb932-12ee-0310-9ca8-eeb645f39767
    More decomposition of articles_controller.rb; this time we've pulled
    /articles/author out to an AuthorsController and started the process
    of pulling up the common behaviour in AuthorsController and
    CategoriesController to a new GroupingController.
    
    Who knows, one of these days, ArticlesController might start looking
    positively svelte.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1517 820eb932-12ee-0310-9ca8-eeb645f39767
    More decomposition of the monolith that it ArticlesController into
    per resource controllers. Trackbacks get their own controller this time.
    
    Also, work continues on pushing behaviour out of controllers and into
    models.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1514 820eb932-12ee-0310-9ca8-eeb645f39767
    Right ho, /articles/category now redirects to /articles/categories,
    which is a resource now.
    
    Eventually, CategoriesController will take on the duties of
    Admin::CategoriesController, but not quite yet, for now it just handles
    index and show.
    
    Note that we've also introduced a new type of resource, the 'inflected_resource'
    which uses /articles/categories/... for its collection methods, but
    /articles/category/whatever for its members. This means that you we can
    have a category with a permalink of 'new' and it won't clash with with the
    admin form for creating a new category.
    
    Isn't that lovely?
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1510 820eb932-12ee-0310-9ca8-eeb645f39767
    replace blog fixture with factory
    Make disabled spec show up in test output.
    Fix content_type assertion.
    
    It seems the charset doesn't get stripped anymore when retrieving the
    content type form the response object.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Replace integrate_views with render_views in specs.
    
    This method was renamed in the new rspec_rails.
    Replace all Test::Unit style tests with RSpec style specs, since RSpec's
    handling of these tests proved unreliable: In particular, a test would fail
    when the full suite was run, but pass when only the single spec file was
    run.
    Clean up specs boiler plate and remove dependency on test/test_helper.rb.
    update response.headers['type'] -> response.content_type response.charset
    fixing tests before release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1736 820eb932-12ee-0310-9ca8-eeb645f39767
    All tests are now run through rspec - the test directory is left as a place for stashing fixtures etc...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1623 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1570 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Give themes the ability to override views.  (closes #354)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@578 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed security vulnerability in ThemeController due to missing sanitization of the filename parameter (closes #244)
    PLEASE NOTE: This is by no means a catch-all fix. It'll disallow perfectly valid filenames on non-Windows operating systems. But in order to provide a timely fix that doesn't allow for exploitation on neither Windows nor non-Windows machines, this was found to be tolerable. It is also much more likely to have people with typo installations on Windows than people using filenames containing a forward slash followed by two consequtive periods followed by another forward slash in their naming for files destined for the Web.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@470 820eb932-12ee-0310-9ca8-eeb645f39767
    Do not provide this_blog in spec helper. Exposes bug in Redirect model.
    
    Due to the presence of this_blog in the spec helper, Redirect could use it
    in the specs, whereas it has no access to this method in the production
    environment.
    More accurately model blank typo installation.
    Adding setup a better error handling, giving an empty email or blog name would lead to some strange behavior
    replace blog fixture with factory
    fix controller spec problem about removing content fixtures. Still 8 faileur on spec:controllers.
    remove contents fixtures, clean models and start controllers
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Spec out SetupController.
    
    Part of the ongoing quest to increase spec coverage.
    Adds a better setup, some things may need some refactoring (like moving generated password in the model, but can't make it without having specs failing)
    Adding a setup to typo blog. Will redirect user to the editor after first account creation
    Clean up RSD route.
    Make #rsd use rsd format.
    Collect #feed redirect specs in one describe block.
    Redirect XmlController#feed of type trackbacks to TrackbacksController.
    
    This means XmlController now only handles google sitemap and rsd by itself.
    Make ancient XmlController actions redirect to their final destination.
    
    The existing situation would redirect to the XmlController#feed action, and
    then redirect again to another controller. This change streamlines this by
    redirecting, with a :moved_permanently response, to the other controllers
    immediately.
    Clean up XML controller assertions.
    
    - assert_response works fine without override.
    - use assert_atom10 and assert_rss20 from spec_helper.rb
    - use standard redirect assertion from Rails.
    Reformat XML controller specs.
    Use stub_model to avoid hitting the database.
    Don't need Article instance to test articlerss redirect.
    Speed up XML controller spec.
    Fix RSS trackbacks feeds.
    
    Restores XmlHelper#pub_date, which had been removed in
    commit f4eeaaa847b4c00cfe3508317401bea480f18116.
    Fix google sitemap.
    
    Restores XmlHelper#collection_lastmod, which had been removed in
    commit f4eeaaa847b4c00cfe3508317401bea480f18116.
    replace blog fixture with factory
    fix controller spec problem about removing content fixtures. Still 8 faileur on spec:controllers.
    remove contents fixtures, clean models and start controllers
    Move or delete files from deprecated test mock directory.
    
    The use of the test/mocks/test directory is deprecated. Files that were
    used were moved from there to spec/support/mocks. These are required
    automatically. Unused files (theme_mock.rb and xmlrpc_mock.rb) were
    deleted.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Replace integrate_views with render_views in specs.
    
    This method was renamed in the new rspec_rails.
    Dropping iTunes metadata support. They will probably come back in the futur as a plugin
    Some more spec fixes
    Use symbol for response code.
    Fixes ticket #68: Atom feed has duplicated content. According to atom spec,  It is not advisable for the atom:summary element to duplicate atom:title or atom:content because Atom Processors might assume there is a useful summary when there is none. Since summary is not mandatory and may have nasty effects on some brocken atom readers, I put everything as content (body + extended if extended)
    Replace all Test::Unit style tests with RSpec style specs, since RSpec's
    handling of these tests proved unreliable: In particular, a test would fail
    when the full suite was run, but pass when only the single spec file was
    run.
    Spec XML controller behavior without format parameter;
    These fail due to a typo in the code!
    Move feed validation method out into spec_helper.
    Remove test that tests nothing.
    Clean up specs boiler plate and remove dependency on test/test_helper.rb.
    changed depreciated formatted url/path
    fix spec in xmlcontroller
    fix #3, now ATOM feed valid even with &eacute in our database insert by FCKEditor
    add information about feed xml validator support
    fixes the .rss issue
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1738 820eb932-12ee-0310-9ca8-eeb645f39767
    All tests are now run through rspec - the test directory is left as a place for stashing fixtures etc...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1623 820eb932-12ee-0310-9ca8-eeb645f39767
    Giving tests and fixtures some love.
    
    Moving from explicit ids throughout the fixtures and many of the tests to taking
    advantage of the new fixture capabilities in Rails 2.
    
    We're now loading _all_ the fixtures from test_helper, which should hopefully
    reduce problems we've been experiencing with test ordering, which is nice.
    
    Eventually, I intend to move to using pre_loaded_fixtures - loading the fixtures
    up as part of the initial rake task, and then letting transactional rollback
    stuff deal with the rest.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1620 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    Showed the tests some love.
    
    We've had to turn use_transactional_fixtures off because it was
    making tests fail, and I have no clue why at present. Something
    we're doing seems to be confusing Rails.
    
    Also, I've eliminated assert_xpath and get_xpath from our tests
    in favour of an assert_select workaround suggested by Jamis Buck
    on his blog somewhere. Which is nice.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1436 820eb932-12ee-0310-9ca8-eeb645f39767
    Restore assert_xpath test helper and fix xml_controller_test's fixtures
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1322 820eb932-12ee-0310-9ca8-eeb645f39767
    Restore xml_controller_test as well
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1320 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix broken trackback test.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1239 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Added some filtering to the feedback page. You can now limit the listing to get rid
    of articles whose classification you have confirmed as well as a simple spam/ham
    filter.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1218 820eb932-12ee-0310-9ca8-eeb645f39767
    Add Google sitemaps.  It needs better tests, but at least there *are* tests now.  Closes #315
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1097 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied #844. Many thanks to Sam Ruby
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1035 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied #840
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1031 820eb932-12ee-0310-9ca8-eeb645f39767
    Add test for trackback-pinging an article.
    Fix trackback pinging so it actually works.
    Move some test helper methods from xml_controller_test into test_helper.
    Fix the XPath helper methods to support non-Element results
    Also fixes #747
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@996 820eb932-12ee-0310-9ca8-eeb645f39767
    Added tests and an associated fix for #742
    
    Also, because case statements are evil (Evil, you hear me, Evil!)
    I've got rid of a big case statement in XmlController
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@969 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Stop using assert_tag to check XML output, that's not what it is designed for. Use XPath queries instead. This has the added benefit of doing a bit more validation checking on the feed.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@911 820eb932-12ee-0310-9ca8-eeb645f39767
    Closes #222
    
    Which means that you can now post an article with a creation date some time
    in the future and it won't appear in your blog until that point.
    
    For bonus points, so long as you are using action caching instead of page
    caching (and you should be!), the cache will be expired correctly.
    
    Essentially, every cachable request checks for the next article in the future
    and sets response.lifetime to that point. Which means that the cache expires
    just before the article is due to show, et voila!
    
    The admin interface for this is the same as it ever was, you have to click on
    advanced options and set the created_at value appropriately. Patches are
    welcome if you have better interface ideas.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@905 820eb932-12ee-0310-9ca8-eeb645f39767
    Make spam protection ignore article auto-close for existing records (closes #435) [pdcawley@bofh.org.uk])
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@816 820eb932-12ee-0310-9ca8-eeb645f39767
    Clean up itunes RSS.  Closes #576
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@766 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixture and test cleanup, falling out from the fixture timing change to make spam tests happy.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@713 820eb932-12ee-0310-9ca8-eeb645f39767
    Add enclosure support for podcasting.  Thanks bingeldac.  Closes #463
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@694 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrade Typo to run with Rails 0.14.1 (AKA 1.0rc2)
    
    This required a few minor changes, and I took the opportunity to do a bit of
    refactoring that I'd been avoiding for a while--text filters no longer use
    render() to do their filtering.  That was broken with 1.0, and I've been
    meaning to fix it anyway.
    
    All tests now pass for me, but I haven't tested it extensively outside of
    the unit test system, so be careful.
    
    This may or may not work with 0.13.1--there's no reason why it shouldn't, but
    it's untested.  I'm going to include a few 1.0rc2-specific cleanups soon, so
    the days of the trunk working with 0.13.1 are numbered.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@685 820eb932-12ee-0310-9ca8-eeb645f39767
    BACK UP YOUR DATABASE BEFORE RUNNING THESE MIGRATIONS.  Merge pdcawley's big superclass patch.  This rolls articles, pages, comments, and trackbacks into one big table, using STI.  This lets us get rid of a huge amount of duplicated code; diffstat shows a net of -148 lines, and the resulting code looks cleaner.  Closes #414
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@660 820eb932-12ee-0310-9ca8-eeb645f39767
    Turn assert_tag back on in xml_controller_test, since they aren't really the problem.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@629 820eb932-12ee-0310-9ca8-eeb645f39767
    Commented out assert_tag lines in xml_controller_test, as they were freaking Rails out and causing it to spit out reams of incorrect error messages.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@618 820eb932-12ee-0310-9ca8-eeb645f39767
    Unify Atom and RSS feed logic.  Add Atom 1.0.  Add per-category and per-tag feeds.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@601 820eb932-12ee-0310-9ca8-eeb645f39767
     * Fixed XmlControllerTest#test_pubdate_conformance to pass on different timezones (who would've guessed how many there are!)
     * Style fix in MetaWeblogService, use config instead of $config
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@554 820eb932-12ee-0310-9ca8-eeb645f39767
    Use time.rfc822 instead of custom made strftime in XmlHelper#pub_date to make RSS feeds conform to the RFC again (closes #323)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@546 820eb932-12ee-0310-9ca8-eeb645f39767
    trackback rss
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@317 820eb932-12ee-0310-9ca8-eeb645f39767
    * Per article comment rss (closes #138)
    * Functional unit tests for xml_controller
    * Move to 0.13 cache sweeper
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@273 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Make grouping controller use article's feed templates.
    Make atom and rss feed builders shared partials.
    Adding a "use meta tags option", enabled by default. Changing the grouping controller behavior to add the blog meta keywords to the categories and tags when their keywords are empty (always for tags). Adding specs.
    Changes the settings behavior for nofollowify, index categories and index tags. Comes with migration. Adds missing specs.
    
    Current settings behavior were beyond stupidity : every feature were enabled by default and admin had to uncheck them to disable them:
    Unchecking nofollowify was enabling dofollow.
    Unchecking index categories was removing categories from search engine index
    Unchecking index tags was removing categories from search engine tags.
    
    New behavior:
    Checking dofollowify actually enables dofollow
    Checking unindex categories removes categories from search engine index
    Checking unindex tags removes tags from search engine index
    
    TODO :
    Allow unindex / index by category.
    Allow unindex / index by tag.
    Adding support for rel='canonical' in pages header to avoid duplicate content.
    
    A canonical page is the preferred version of a set of pages with highly similar content.
    
    It's common for a site to have several pages listing the same set of products. For example, one page might display products sorted in alphabetical order, while other pages display the same products listed by price or by rating. For example:
    
    http://www.example.com/product.php?item=swedish-fish&trackingid=1234567&sort=alpha&sessionid=5678asfasdfasfd
    http://www.example.com/product.php?item=swedish-fish&trackingid=1234567&sort=price&sessionid=5678asfasdfasfd
    If Google knows that these pages have the same content, we may index only one version for our search results. Our algorithms select the page we think best answers the user's query. Now, however, users can specify a canonical page to search engines by adding a <link> element with the attribute rel="canonical" to the <head> section of the non-canonical version of the page. Adding this link and attribute lets site owners identify sets of identical content and suggest to Google: "Of all these pages with identical content, this page is the most useful. Please prioritize it in search results."
    Speed up tags controller specs.
    Fix failing tags controller spec.
    Make Tag.get use correct display name to name conversion.
    
    Use to_url as in the save method.
    Also:
    - simplify the Tag model's interface: finder methods should not create
      objects.
    - Fix article spec to match new naming convention.
    Fix rendering of non-existent tags.
    Make mysteriously failing spec pending.
    replace blog fixture with factory
    Create one version of ul_tag_for, and give it 100% coverage.
    Reorganize specs for TagController#show.
    
    This change avoids an error when running the full spec, where emptying the
    tag's article list would result in the message that column tag_id does not
    exist. Plus, it looks nicer.
    Replace mocked Tag objects with Factory.
    
    Avoids error in will_paginate.
    Fix two more have_selector selectors (quotes were needed).
    Compare response.status to number instead of string.
    
    The old response.status returned the full status code (number + message).
    The new version just returns the numeric code.
    Use standard Rails 3 template_exists? method.
    
    Specs were also updated, since that version of template_exists? requires at
    least one argument. Additionally, fix a broken spec for this functionality
    for CategoriesController.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Replace deprecated :null_object => true with .as_null_object.
    Replace have_tag with have_selector in controller specs.
    Replace integrate_views with render_views in specs.
    
    This method was renamed in the new rspec_rails.
    More fully specify attributes of tag feed autodiscovery links.
    Remove tag fixtures and replace by factory in spec.
    Mass-removal of trailing whitespace.
    Adding specs to password protected posts
    Replace all Test::Unit style tests with RSpec style specs, since RSpec's
    handling of these tests proved unreliable: In particular, a test would fail
    when the full suite was run, but pass when only the single spec file was
    run.
    Update to rails 2.3.3 broke the mocking in these tests:
    - Stop mocking that template exists: makes most tests pass again
    - Disable tests checking that default template is used: I'm unable to fake
      their existence at this time.
    fix error on spec
    fix (with pouype) spec failed after previous commit
    fix error with feed in tag part
    Fix spec failed after commit 980bf4ce51b3e2131f00db99f1edcf254a270263
    Fix mocking of published articles for GroupingController
    
    Once upon a time, I suspect that GroupingController called
    grouping.published_articles to generate the list of published articles.
    But currently, it calls:
    
      @articles =
        grouping.articles.paginate(:page => params[:page],
                                   :conditions => { :published => true })
    
    This means that the specs for our three major types of groupings need to
    override grouping.articles instead of grouping.published_articles when
    setting up their mocks.  There's some regretable code duplication among the
    various spec files, so this had to be fixed in three places.
    
    There's also a larger philosophical issue with published_articles.
    Currently, it has no callers outside of the various spec/**/*.rb files, and
    it is defined in a variety of inconsistent ways.  See the following bug for
    further discussion of what to do here:
    
      http://typosphere.org/projects/typo/issues/show?id=1294
    Getting rid of the worse piece of code ever, multiplies Typo perfs by 10 when calling articles/index (see http://t37.net/ya-pas-comme-un-truc-qui-vous-fait-hurler-li)
    Getting rid of classic pagination for will_paginate
    Revamping the dashboard, step 1
    Revamping login form step 1
    cleaning admin/css step 1
    migrating default themes to will_paginate
    More test tweaks
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1622 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes ticket 1161 (trackbacks brocken)
    Fixes specs
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1590 820eb932-12ee-0310-9ca8-eeb645f39767
    Yay! Eliminated the ugly 'render_grouping' stuff from ArticlesController.
    Authors, Tags, Categories all have their own controllers now. Currently
    they only handle #show and #index, but the next trick will be to migrate
    appropriate #create/#desroy/#update from their appropriate admin/*
    controllers with the eventual aim of eliminating most of the specific
    admin controllers.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1523 820eb932-12ee-0310-9ca8-eeb645f39767
    More decomposition of articles_controller.rb; this time we've pulled
    /articles/author out to an AuthorsController and started the process
    of pulling up the common behaviour in AuthorsController and
    CategoriesController to a new GroupingController.
    
    Who knows, one of these days, ArticlesController might start looking
    positively svelte.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1517 820eb932-12ee-0310-9ca8-eeb645f39767
    More decomposition of the monolith that it ArticlesController into
    per resource controllers. Trackbacks get their own controller this time.
    
    Also, work continues on pushing behaviour out of controllers and into
    models.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1514 820eb932-12ee-0310-9ca8-eeb645f39767
    Right ho, /articles/category now redirects to /articles/categories,
    which is a resource now.
    
    Eventually, CategoriesController will take on the duties of
    Admin::CategoriesController, but not quite yet, for now it just handles
    index and show.
    
    Note that we've also introduced a new type of resource, the 'inflected_resource'
    which uses /articles/categories/... for its collection methods, but
    /articles/category/whatever for its members. This means that you we can
    have a category with a permalink of 'new' and it won't clash with with the
    admin form for creating a new category.
    
    Isn't that lovely?
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1510 820eb932-12ee-0310-9ca8-eeb645f39767
    Make feedback controller use individual templates.
    Make atom and rss feed builders shared partials.
    Add (passing) specs for TrackbacksController#index for feeds.
    add spec on set_noindex method and clean grouping_controller code
    fix spec errors about fixtures...
    remove user fixture usage. Still some tobi usage to replace
    Show only published articles on the author page and feeds.
    
    It's probably only because we don't seem to actually link to this page
    anywhere that no-one reported this as a bug before...
    Give Atom and RSS feeds for author articles their own templates.
    Fetch author's articles inside controller.
    Clean up spec for AuthorsController#show.
    No need to re-test feed validity.
    Make atom and rss feed builders shared partials.
    Adding a "use meta tags option", enabled by default. Changing the grouping controller behavior to add the blog meta keywords to the categories and tags when their keywords are empty (always for tags). Adding specs.
    replace blog fixture with factory
    remove contents fixtures, clean models and start controllers
    Replace more :contents with :content in have_selector calls.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Replace have_tag with have_selector in controller specs.
    Replace integrate_views with render_views in specs.
    
    This method was renamed in the new rspec_rails.
    Spec cleanup:
    - Remove outdated boilerplate.
    - Remove useless reset_blog_ids method.
    - Check authors feeds.
    Move the user edition from the Admin::UserController to a Admin::ProfileController. Now the user creation / edition is part of the admin/settings and admins are the only one to edit them. It also fixes a huge security hole where any logged in user can create / delete users without the admin credential. Also removes a bunch of unnecessary hazardous conditions we didn't really need
    added test cases for authors controller
    delete author and users controller. Useless
    Fix spec failed after commit 980bf4ce51b3e2131f00db99f1edcf254a270263
    Fix mocking of published articles for GroupingController
    
    Once upon a time, I suspect that GroupingController called
    grouping.published_articles to generate the list of published articles.
    But currently, it calls:
    
      @articles =
        grouping.articles.paginate(:page => params[:page],
                                   :conditions => { :published => true })
    
    This means that the specs for our three major types of groupings need to
    override grouping.articles instead of grouping.published_articles when
    setting up their mocks.  There's some regretable code duplication among the
    various spec files, so this had to be fixed in three places.
    
    There's also a larger philosophical issue with published_articles.
    Currently, it has no callers outside of the various spec/**/*.rb files, and
    it is defined in a variety of inconsistent ways.  See the following bug for
    further discussion of what to do here:
    
      http://typosphere.org/projects/typo/issues/show?id=1294
    Getting rid of the worse piece of code ever, multiplies Typo perfs by 10 when calling articles/index (see http://t37.net/ya-pas-comme-un-truc-qui-vous-fait-hurler-li)
    Getting rid of classic pagination for will_paginate
    Revamping the dashboard, step 1
    Revamping login form step 1
    cleaning admin/css step 1
    migrating default themes to will_paginate
    More test tweaks
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1622 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes ticket 1161 (trackbacks brocken)
    Fixes specs
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1590 820eb932-12ee-0310-9ca8-eeb645f39767
    Yay! Eliminated the ugly 'render_grouping' stuff from ArticlesController.
    Authors, Tags, Categories all have their own controllers now. Currently
    they only handle #show and #index, but the next trick will be to migrate
    appropriate #create/#desroy/#update from their appropriate admin/*
    controllers with the eventual aim of eliminating most of the specific
    admin controllers.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1523 820eb932-12ee-0310-9ca8-eeb645f39767
    More decomposition of articles_controller.rb; this time we've pulled
    /articles/author out to an AuthorsController and started the process
    of pulling up the common behaviour in AuthorsController and
    CategoriesController to a new GroupingController.
    
    Who knows, one of these days, ArticlesController might start looking
    positively svelte.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1517 820eb932-12ee-0310-9ca8-eeb645f39767
    More decomposition of the monolith that it ArticlesController into
    per resource controllers. Trackbacks get their own controller this time.
    
    Also, work continues on pushing behaviour out of controllers and into
    models.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1514 820eb932-12ee-0310-9ca8-eeb645f39767
    Right ho, /articles/category now redirects to /articles/categories,
    which is a resource now.
    
    Eventually, CategoriesController will take on the duties of
    Admin::CategoriesController, but not quite yet, for now it just handles
    index and show.
    
    Note that we've also introduced a new type of resource, the 'inflected_resource'
    which uses /articles/categories/... for its collection methods, but
    /articles/category/whatever for its members. This means that you we can
    have a category with a permalink of 'new' and it won't clash with with the
    admin form for creating a new category.
    
    Isn't that lovely?
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1510 820eb932-12ee-0310-9ca8-eeb645f39767
    remove user fixture usage
    remove users fixtures usage...
    Don't create article for destroy spec unless needed.
    Fix feedback index and destroy specs.
    Makes comment filtering (and thus spam / ham checking) a bit more usable.
    
    I can't clearly remember why I dropped the presumed ham / spam view, maybe for simplification but that was definitely a very bad idea.
    replace blog fixture with factory
    remove contents fixtures, clean models and start controllers
    Fixes feedback destroy. Not satisfying, but :method and :confirm don't work on link_to on Rails3. Will probably switch to AJAX someday on the whole app
    Replace `assert_(no_)difference` with `should(_not) change`.
    
    The RSpec specs seem to have no access to the `assert_difference` and
    `assert_no_difference` assertions. All specs now use RSpec's `change`
    matcher.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Change shared example specification.
    
    RSpec now uses shared_examples_for to specify shared examples.
    Replace integrate_views with render_views in specs.
    
    This method was renamed in the new rspec_rails.
    Mass-removal of trailing whitespace.
    Redesign all the comment moderation and listing in admin. Makes both global and per article view the same. Adds some per comments action. Adds for toolbar to the comment editor. [#184 state:resolved] [#135 state:resolved]
    Fixes the destroy link in admin/feedback by moving delete method to destroy (and adding consistency)
    Clean up specs boiler plate and remove dependency on test/test_helper.rb.
    fix bulk feedback checkbox bug caused by change in processing order
    fix bug #76 which not delete all spam with postgresql database
    add security where a publisher can't delete feedback to article not own. Spec write with it
    redirect to list of comment from article if you delete comment from this page. Fixed #1290
    add update comment by admin
    add restrict right to edit comment if user is publisher and it's not own article
    add edit page of comment
    add creation of comment by admin/feedback, with spec
    add filter of comment in view of articles's comment
    rewrite feedback spec with a better rspec format
    fix pagination error in comment index if params[:page] empty. Use case after a bulkops in default page
    view only comment selected like ham? and ham in admin content view list
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing 30 tests, more to come
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1716 820eb932-12ee-0310-9ca8-eeb645f39767
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    All tests are now run through rspec - the test directory is left as a place for stashing fixtures etc...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1623 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on rejigging tests and fixtures to solely use symbolic ids for
    fixtures. Also, removed the second blog from the test fixtures as a first
    step towards getting the core back to one blog per database.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1621 820eb932-12ee-0310-9ca8-eeb645f39767
    Giving tests and fixtures some love.
    
    Moving from explicit ids throughout the fixtures and many of the tests to taking
    advantage of the new fixture capabilities in Rails 2.
    
    We're now loading _all_ the fixtures from test_helper, which should hopefully
    reduce problems we've been experiencing with test ordering, which is nice.
    
    Eventually, I intend to move to using pre_loaded_fixtures - loading the fixtures
    up as part of the initial rake task, and then letting transactional rollback
    stuff deal with the rest.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1620 820eb932-12ee-0310-9ca8-eeb645f39767
    Switched to storing only the user_id in the session rather than the whole
    user.
    
    You know it makes sense :).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1516 820eb932-12ee-0310-9ca8-eeb645f39767
    More decomposition of the monolith that it ArticlesController into
    per resource controllers. Trackbacks get their own controller this time.
    
    Also, work continues on pushing behaviour out of controllers and into
    models.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1514 820eb932-12ee-0310-9ca8-eeb645f39767
    First step on a long needed refactoring. We're splitting the contents table into
    two. We now have a contents table, which contains Pages and Articles, and a
    Feedback table, which contains Comments and Trackbacks. There's still a bunch of
    null columns in each table, and the indexing needs tweaking, but it's a start.
    
    NB: The migration is untested on anything but my Mysql installation and if it
    goes wrong you stand to lose all your feedback. So take a backup before you
    try it. The Migration itself throws an exception by default to remind you to do the
    backup. Comment it out once you're safe (or brave/foolhardy).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1302 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Added some filtering to the feedback page. You can now limit the listing to get rid
    of articles whose classification you have confirmed as well as a simple spam/ham
    filter.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1218 820eb932-12ee-0310-9ca8-eeb645f39767
    Spam protection, step 1: add an admin page ('Feedback') that lists all trackbacks and comments, and allows deleting.  I still need to add bulk deleting, and them move on to better filtering.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1132 820eb932-12ee-0310-9ca8-eeb645f39767
    remove users fixtures usage...
    replace blog fixture with factory
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Replace integrate_views with render_views in specs.
    
    This method was renamed in the new rspec_rails.
    Clean up specs boiler plate and remove dependency on test/test_helper.rb.
    Removing useless textfilters setting in the admin, adding macro help in the editor when editor is not FCK
    fix issue when show text filter help
    fixing 30 tests, more to come
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1716 820eb932-12ee-0310-9ca8-eeb645f39767
    All tests are now run through rspec - the test directory is left as a place for stashing fixtures etc...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1623 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on rejigging tests and fixtures to solely use symbolic ids for
    fixtures. Also, removed the second blog from the test fixtures as a first
    step towards getting the core back to one blog per database.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1621 820eb932-12ee-0310-9ca8-eeb645f39767
    Giving tests and fixtures some love.
    
    Moving from explicit ids throughout the fixtures and many of the tests to taking
    advantage of the new fixture capabilities in Rails 2.
    
    We're now loading _all_ the fixtures from test_helper, which should hopefully
    reduce problems we've been experiencing with test ordering, which is nice.
    
    Eventually, I intend to move to using pre_loaded_fixtures - loading the fixtures
    up as part of the initial rake task, and then letting transactional rollback
    stuff deal with the rest.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1620 820eb932-12ee-0310-9ca8-eeb645f39767
    Switched to storing only the user_id in the session rather than the whole
    user.
    
    You know it makes sense :).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1516 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix admin/textfixtures_controller_test.rb, whose contents had somehow gotten duplicated
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@896 820eb932-12ee-0310-9ca8-eeb645f39767
    Commit patch for #715 - fixes adding/editing textfilters with no postprocess filters
    I can't actually test the new functional tests as sqlite3 barfs on them, so somebody not using sqlite3 should run the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@881 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing the theme editor, for now. It will probably come back under another form later.
    
    Theme editor was added for my own use, but it was actually never really usable. It didn't wipe cache, only allowed to edit CSS and layout, did not support drafts and did not have syntax highlighting. It will come back later as a major feature of a next release.
    
    Not wanted, poorly designed feature can only have 2 fates: being fixed or being dropped.
    Fixing the specs. Removing useless specs as we don't rely on tabs anymore. I, however, need to add some more checks there, but on another way
    As usual: removing users fixture usage in few controllers
    Fixes a bug making theme catalogue exploding when Typo does not have internet access or has DNS failure.
    Fixes tabs / subtabs in admin + specs.
    Theme editor should escape file contents. Also, fix specs.
    
    The theme editor works fine without escaping the contents, but only if
    it is well-formed. One could easily add </textarea> at the end, and have
    whatever comes after displayed in the theme editor, outside the textarea.
    Improving theme editor both visually and functionnaly.
    Fixes a bad behavior not raising an error when trying to edit a nonexisting file.
    Makes the editor look alike the rest of the application.
    Adds specs to avoid bugs report because of File.read changes between 2 Ruby versions. With Ruby 1.8.6, you should use File.read(filename, r) while Ruby 1.8.7 only need File.read(filename).
    replace blog fixture with factory
    Replace more :contents with :content in have_selector calls.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Replace have_tag with have_selector in controller specs.
    Replace integrate_views with render_views in specs.
    
    This method was renamed in the new rspec_rails.
    Update specs for Admin::ThemesController.
    
    - Remove needless boilerplate.
    - More rspec-like test descriptions.
    - Simple spec for :editor action.
    Replace all Test::Unit style tests with RSpec style specs, since RSpec's
    handling of these tests proved unreliable: In particular, a test would fail
    when the full suite was run, but pass when only the single spec file was
    run.
    fixing tests before release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1736 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing 30 tests, more to come
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1716 820eb932-12ee-0310-9ca8-eeb645f39767
    All tests are now run through rspec - the test directory is left as a place for stashing fixtures etc...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1623 820eb932-12ee-0310-9ca8-eeb645f39767
    Giving tests and fixtures some love.
    
    Moving from explicit ids throughout the fixtures and many of the tests to taking
    advantage of the new fixture capabilities in Rails 2.
    
    We're now loading _all_ the fixtures from test_helper, which should hopefully
    reduce problems we've been experiencing with test ordering, which is nice.
    
    Eventually, I intend to move to using pre_loaded_fixtures - loading the fixtures
    up as part of the initial rake task, and then letting transactional rollback
    stuff deal with the rest.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1620 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1570 820eb932-12ee-0310-9ca8-eeb645f39767
    Switched to storing only the user_id in the session rather than the whole
    user.
    
    You know it makes sense :).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1516 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
    removed ugly theme_system.rb in favor of a proper Theme model
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@437 820eb932-12ee-0310-9ca8-eeb645f39767
    stupid little admin interface for themes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@422 820eb932-12ee-0310-9ca8-eeb645f39767
    Finished incomplete fdv/typo merge
    Fixing the specs. Removing useless specs as we don't rely on tabs anymore. I, however, need to add some more checks there, but on another way
    Removing useless Javascript based category reorder interface. Categories will now be ordered by name, which looks like the most likely way to do it. This is a first step to sub categories as the order interface prevented from having them.
    
    Helpers will probably come later to chose the way people want the categories to be displayed.
    Remove user fixture usage
    Fixes tabs / subtabs in admin + specs.
    Fixing category controller specs
    fix spec failure on controller. Clean settings update and category controller fixture and code
    Merging categories listing and creation form.
    
    Neither of them are wide enough to justify being on a single page. Having the category listing on the same page as the form improves readability when adding and managing categories.
    replace blog fixture with factory
    Get rid of #assert_template_has helper.
    
    It is easily replaced by `assigns(key).should_not be_nil`.
    Replace `assert_(no_)difference` with `should(_not) change`.
    
    The RSpec specs seem to have no access to the `assert_difference` and
    `assert_no_difference` assertions. All specs now use RSpec's `change`
    matcher.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Replace integrate_views with render_views in specs.
    
    This method was renamed in the new rspec_rails.
    Fix specs after removal of category fixtures.
    
    - Add or update calls to Factory where needed.
    - Add factory sequence for category name and permalink to avoid
      validation errors.
    - Also remove categorization fixtures.
    Remove category_fixture, replace by factory
    Adjust spec to reflect changed layout.
    Oooops, did we test the views as well?
    Fixes brocken admin test
    Replace all Test::Unit style tests with RSpec style specs, since RSpec's
    handling of these tests proved unreliable: In particular, a test would fail
    when the full suite was run, but pass when only the single spec file was
    run.
    Clean up specs boiler plate and remove dependency on test/test_helper.rb.
    update assert_valid -> assert .valid?
    Fix table row count in categories_controller_spec.rb
    
    There are actually two "header" rows in this table before the categories.
    better test view and fix error
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1853 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing some tests, now only 30 left brocken, if someone knows what's wrong with AWS ? Everything workds OK but the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1852 820eb932-12ee-0310-9ca8-eeb645f39767
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing 30 tests, more to come
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1716 820eb932-12ee-0310-9ca8-eeb645f39767
    Some more admin enhancement
    Added typo:code stylesheet
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1688 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    All tests are now run through rspec - the test directory is left as a place for stashing fixtures etc...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1623 820eb932-12ee-0310-9ca8-eeb645f39767
    Giving tests and fixtures some love.
    
    Moving from explicit ids throughout the fixtures and many of the tests to taking
    advantage of the new fixture capabilities in Rails 2.
    
    We're now loading _all_ the fixtures from test_helper, which should hopefully
    reduce problems we've been experiencing with test ordering, which is nice.
    
    Eventually, I intend to move to using pre_loaded_fixtures - loading the fixtures
    up as part of the initial rake task, and then letting transactional rollback
    stuff deal with the rest.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1620 820eb932-12ee-0310-9ca8-eeb645f39767
    Tests suite is green. Patchy, but green.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1577 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1570 820eb932-12ee-0310-9ca8-eeb645f39767
    Switched to storing only the user_id in the session rather than the whole
    user.
    
    You know it makes sense :).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1516 820eb932-12ee-0310-9ca8-eeb645f39767
    Showed the tests some love.
    
    We've had to turn use_transactional_fixtures off because it was
    making tests fail, and I have no clue why at present. Something
    we're doing seems to be confusing Rails.
    
    Also, I've eliminated assert_xpath and get_xpath from our tests
    in favour of an assert_select workaround suggested by Jamis Buck
    on his blog somewhere. Which is nice.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1436 820eb932-12ee-0310-9ca8-eeb645f39767
    Ooops, I guess I messed with the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1399 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    Made categories drag'n'drop sortable in category admin, also provides a quick and easy way to one-click sort them alphabetically (closes #308) [atmos]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@564 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
    added back test_show for categories, whoops
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@503 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed obsolete test
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@502 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed redirection asserts after changes in [383]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@392 820eb932-12ee-0310-9ca8-eeb645f39767
     * Added admin module to CRUD blacklist patterns (refs #25)
     * Removed superfluous start_form_tag from admin/*/show.rhtml
     * Fixed category admin functional tests
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@213 820eb932-12ee-0310-9ca8-eeb645f39767
    added categories admin. fixes #20
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@210 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing the specs. Removing useless specs as we don't rely on tabs anymore. I, however, need to add some more checks there, but on another way
    As usual: removing users fixture usage in few controllers
    Fixes tabs / subtabs in admin + specs.
    replace blog fixture with factory
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Adding specs to the dashboard (which may be refactored someday)
    Fixing specs for pages. Moving permalink related specs to model which is where they should be
    Moves permalink sanitization to String with a new to_permalink method.
    
    Refactores existing code to remove duplicate code entries and not needed mthods when building the permalink from the model.
    Get behind me, Satan!
    Fixing the specs. Removing useless specs as we don't rely on tabs anymore. I, however, need to add some more checks there, but on another way
    add test on insert_editor action on admin page_controller
    Add encoding comments to spec files to satisfy Ruby 1.9.
    create a Satanizable module, remove duplication about clean accents (by move method in satanizable)...
    As usual: removing users fixture usage in few controllers
    Removing old, unused code since we're now using content#preview
    Fixes tabs / subtabs in admin + specs.
    Make page redirect specs not fail.
    
    - Fix spec helper method.
    - Make one spec pending.
    Adding an embedded URL shortener. Every page and article gets its shortened URL with a 301 (permanent) redirect. Shortened URL is available to published_content only and is displayed within the administration.
    Initial migration adds shortened URL for existing content.
    
    The set_shortened_url method is duplicated in both conte t and page controller. It should probably move to the content model, not sure about that. Also adding some specs, which makes me think that pages should be rewriten from (almost) scratch.
    Do not provide this_blog in spec helper. Exposes bug in Redirect model.
    
    Due to the presence of this_blog in the spec helper, Redirect could use it
    in the specs, whereas it has no access to this method in the production
    environment.
    replace blog fixture with factory
    remove contents fixtures, clean models and start controllers
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Replace all Test::Unit style tests with RSpec style specs, since RSpec's
    handling of these tests proved unreliable: In particular, a test would fail
    when the full suite was run, but pass when only the single spec file was
    run.
    Clean up specs boiler plate and remove dependency on test/test_helper.rb.
    error in index page if params[:page] send [state:fixed #118]
    Fixing some tests, now only 30 left brocken, if someone knows what's wrong with AWS ? Everything workds OK but the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1852 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing 30 tests, more to come
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1716 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    All tests are now run through rspec - the test directory is left as a place for stashing fixtures etc...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1623 820eb932-12ee-0310-9ca8-eeb645f39767
    Giving tests and fixtures some love.
    
    Moving from explicit ids throughout the fixtures and many of the tests to taking
    advantage of the new fixture capabilities in Rails 2.
    
    We're now loading _all_ the fixtures from test_helper, which should hopefully
    reduce problems we've been experiencing with test ordering, which is nice.
    
    Eventually, I intend to move to using pre_loaded_fixtures - loading the fixtures
    up as part of the initial rake task, and then letting transactional rollback
    stuff deal with the rest.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1620 820eb932-12ee-0310-9ca8-eeb645f39767
    Switched to storing only the user_id in the session rather than the whole
    user.
    
    You know it makes sense :).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1516 820eb932-12ee-0310-9ca8-eeb645f39767
    Kill test_preview, because it's far too much work to actually make into something coherent with the recent Pages preview changes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1338 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Various refactorings
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1033 820eb932-12ee-0310-9ca8-eeb645f39767
    Sing, muse the joy of pdcawley as he puts the monstrosity {{{article_url}}} and
    all its spawn to his sure swift sword and casts the tiny pieces down, down,
    ye even unto the very depths of The Pit.
    
    Bear witness as {{{Content#full_html}}} returns to the fray, trailing clouds of
    glory, renewing the vigour of old themes left withering in the TypoGarden.
    
    For, verily, I have returned the sensible API to its rightful place.
    
    (Oh, and if you ''must'' use them, {{{article_url}}} et al. will continue to work
    for the forseeable future, but I will insist on treating them like red headed
    stepchildren.)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1004 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix all relevant references from typo.leetsoft.com to www.typosphere.org. Fixes #720
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@879 820eb932-12ee-0310-9ca8-eeb645f39767
    Apply 'save first then assign habtm' fix to ContentController (caused by Rails issue #3213); Tweaks here and there, now all tests pass again
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@805 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove title <h3> from page preview, because we don't actually show a title on the page itself.  Closes #439
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@678 820eb932-12ee-0310-9ca8-eeb645f39767
    BACK UP YOUR DATABASE BEFORE RUNNING THESE MIGRATIONS.  Merge pdcawley's big superclass patch.  This rolls articles, pages, comments, and trackbacks into one big table, using STI.  This lets us get rid of a huge amount of duplicated code; diffstat shows a net of -148 lines, and the resulting code looks cleaner.  Closes #414
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@660 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved body_html and friends from push to pull.  See http://scottstuff.net/blog/articles/2005/09/04/push-me-pull-me
    for details.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@622 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed Admin::PagesController to call filter_text_by_name correctly (also moved into an update_html controller method), added functional tests (closes #358)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@580 820eb932-12ee-0310-9ca8-eeb645f39767
    Doing some cleaning in the detroy process:
    – We don't need multiple destroy files when they all share the same code, excepted a message which can be defined from the controller name.
    – An old chinese master once told me "the earlier you return, the better it is", so I reverted the conditions in the destroy methods, which seems much more sensible now that I think about it.
    
    Please, guys, revert if you think using @record is going against all conventions (not sure about that one, and I don't have an internet access being stuck in the country in a frozen train because my beloved country is still unable to handle a wave of cold but it _really_ cleans the code, so I hope so).
    Fixing issue 42: user creation not working.
    
    When passing one of the new settings to the user, creation would break as Ruby did not create the settings object when accepting the params. Creating a user object then passing the params fixed it. Added 3 params to the specs to test this.
    remove user fixture usage
    Remove Users fixture usage...
    Fix remaining spec failures caused by the removal of the catch-all route.
    
    - Add routes for articles#tag and articles#category.
    - Remove route for tags#check_password again, it was a red herring.
    - Fix references to accounts/login as the controller.
    - Explicitely state controller in article password form partial.
    - Fix category spec set up to ensure creation of permalink field.
    just remove :contributor fixture
    replace blog fixture with factory
    Get rid of #assert_template_has helper.
    
    It is easily replaced by `assigns(key).should_not be_nil`.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Change shared example specification.
    
    RSpec now uses shared_examples_for to specify shared examples.
    Replace integrate_views with render_views in specs.
    
    This method was renamed in the new rspec_rails.
    Replace all Test::Unit style tests with RSpec style specs, since RSpec's
    handling of these tests proved unreliable: In particular, a test would fail
    when the full suite was run, but pass when only the single spec file was
    run.
    Clean up specs boiler plate and remove dependency on test/test_helper.rb.
    update assert_valid -> assert .valid?
    improve spec about edit user
    Move the user edition from the Admin::UserController to a Admin::ProfileController. Now the user creation / edition is part of the admin/settings and admins are the only one to edit them. It also fixes a huge security hole where any logged in user can create / delete users without the admin credential. Also removes a bunch of unnecessary hazardous conditions we didn't really need
    Fixing some tests, now only 30 left brocken, if someone knows what's wrong with AWS ? Everything workds OK but the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1852 820eb932-12ee-0310-9ca8-eeb645f39767
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes bug #1262 500 error if edit user without id
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1807 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes bug #1254
    Fixes a stupid bug that allows a normal user to change its profile
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1789 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes bug 1253: In AdminController::UserController method list, there are a twice render if you are not admin.
    
    Thx to Cyril Mougel for patching.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1785 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing 28 tests, more to come
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1715 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds 3 classes in the default styles
    Update version number for 5.0.4
    Update README
    Fixes bug 1224 for non MySQL databases
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1695 820eb932-12ee-0310-9ca8-eeb645f39767
    Some more admin enhancement
    Added typo:code stylesheet
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1688 820eb932-12ee-0310-9ca8-eeb645f39767
    All tests are now run through rspec - the test directory is left as a place for stashing fixtures etc...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1623 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on rejigging tests and fixtures to solely use symbolic ids for
    fixtures. Also, removed the second blog from the test fixtures as a first
    step towards getting the core back to one blog per database.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1621 820eb932-12ee-0310-9ca8-eeb645f39767
    Giving tests and fixtures some love.
    
    Moving from explicit ids throughout the fixtures and many of the tests to taking
    advantage of the new fixture capabilities in Rails 2.
    
    We're now loading _all_ the fixtures from test_helper, which should hopefully
    reduce problems we've been experiencing with test ordering, which is nice.
    
    Eventually, I intend to move to using pre_loaded_fixtures - loading the fixtures
    up as part of the initial rake task, and then letting transactional rollback
    stuff deal with the rest.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1620 820eb932-12ee-0310-9ca8-eeb645f39767
    Switched to storing only the user_id in the session rather than the whole
    user.
    
    You know it makes sense :).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1516 820eb932-12ee-0310-9ca8-eeb645f39767
    – Fixed a few bugs
    – Added the week in refactoring patch
    – Added the rights table and the profile to rights one.
    – Populated the new tables.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1494 820eb932-12ee-0310-9ca8-eeb645f39767
    More ports to Rspec
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1325 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Commit #1064 - add articles list to view user page
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1192 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Apply 'save first then assign habtm' fix to ContentController (caused by Rails issue #3213); Tweaks here and there, now all tests pass again
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@805 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixture and test cleanup, falling out from the fixture timing change to make spam tests happy.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@713 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing failing specs on post type controllers
    Fixing the specs. Removing useless specs as we don't rely on tabs anymore. I, however, need to add some more checks there, but on another way
    Refactoring to greenbar (content_helper code cleaner)
    Adds post types with admin management.
    
    Author can define multiple post types with associated templates. Default post type is 'read' so existing themes won't break.
    
    I didn't use Rails relational model on purpose as I wanted article to store the post type permalink. This will make theme helpers such as menu helpers easier to write. Maybe there's a cleaner way to do it though.
    Doing some cleaning in the detroy process:
    – We don't need multiple destroy files when they all share the same code, excepted a message which can be defined from the controller name.
    – An old chinese master once told me "the earlier you return, the better it is", so I reverted the conditions in the destroy methods, which seems much more sensible now that I think about it.
    
    Please, guys, revert if you think using @record is going against all conventions (not sure about that one, and I don't have an internet access being stuck in the country in a frozen train because my beloved country is still unable to handle a wave of cold but it _really_ cleans the code, so I hope so).
    Fixing the specs. Removing useless specs as we don't rely on tabs anymore. I, however, need to add some more checks there, but on another way
    Fixes a (tested) bug on tag destruction. Adds a stupid test for this
    As usual: removing users fixture usage in few controllers
    Fixes tag controller specs
    Fixes tabs / subtabs in admin + specs.
    Fix creation of redirect.
    Tag naming convention should use to_url as categories instead of old crappy unsure code
    replace blog fixture with factory
    Remove tag fixtures and replace by factory in spec.
    Mass-removal of trailing whitespace.
    Clean up specs boiler plate and remove dependency on test/test_helper.rb.
    update assert_valid -> assert .valid?
    Fix all spec
    Adds some tests to our tags admin.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1801 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing the specs. Removing useless specs as we don't rely on tabs anymore. I, however, need to add some more checks there, but on another way
    remove users fixtures usage...
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Fix SEO controller specs: Move `get` to before block.
    Adding permalinks SEO tab.
    
    Fixes a bug where SEO params would never be saved.
    Moving admin/settings/seo to the new admin/seo controller.
    Doing some cleaning in the detroy process:
    – We don't need multiple destroy files when they all share the same code, excepted a message which can be defined from the controller name.
    – An old chinese master once told me "the earlier you return, the better it is", so I reverted the conditions in the destroy methods, which seems much more sensible now that I think about it.
    
    Please, guys, revert if you think using @record is going against all conventions (not sure about that one, and I don't have an internet access being stuck in the country in a frozen train because my beloved country is still unable to handle a wave of cold but it _really_ cleans the code, so I hope so).
    Fixing the specs. Removing useless specs as we don't rely on tabs anymore. I, however, need to add some more checks there, but on another way
    remove users fixtures usage...
    Fixes tabs / subtabs in admin + specs.
    Merges both files and resources view in the admin, first step to a (much) better file upload thing
    replace blog fixture with factory
    Improve coverage of Admin::ResourcesHelper.
    Get rid of #assert_template_has helper.
    
    It is easily replaced by `assigns(key).should_not be_nil`.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Remove resource fixtures and replace by factory in specs.
    Mass-removal of trailing whitespace.
    Fixing issue #155 After deleting an image file the files page is loaded
    Adds a first draft for Typo images library
    Replace all Test::Unit style tests with RSpec style specs, since RSpec's
    handling of these tests proved unreliable: In particular, a test would fail
    when the full suite was run, but pass when only the single spec file was
    run.
    A bit of file upload refactoring. Having a separate screen to upload is stupid. Next: switch to paperclip but ensure backward compatibility
    Clean up specs boiler plate and remove dependency on test/test_helper.rb.
    Fixing a test, a HTML unclosed <li> in the menu and content list where publication_pending posts were not shown
    Fixing some tests, now only 30 left brocken, if someone knows what's wrong with AWS ? Everything workds OK but the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1852 820eb932-12ee-0310-9ca8-eeb645f39767
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing 30 tests, more to come
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1716 820eb932-12ee-0310-9ca8-eeb645f39767
    All tests are now run through rspec - the test directory is left as a place for stashing fixtures etc...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1623 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on rejigging tests and fixtures to solely use symbolic ids for
    fixtures. Also, removed the second blog from the test fixtures as a first
    step towards getting the core back to one blog per database.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1621 820eb932-12ee-0310-9ca8-eeb645f39767
    Giving tests and fixtures some love.
    
    Moving from explicit ids throughout the fixtures and many of the tests to taking
    advantage of the new fixture capabilities in Rails 2.
    
    We're now loading _all_ the fixtures from test_helper, which should hopefully
    reduce problems we've been experiencing with test ordering, which is nice.
    
    Eventually, I intend to move to using pre_loaded_fixtures - loading the fixtures
    up as part of the initial rake task, and then letting transactional rollback
    stuff deal with the rest.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1620 820eb932-12ee-0310-9ca8-eeb645f39767
    Switched to storing only the user_id in the session rather than the whole
    user.
    
    You know it makes sense :).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1516 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
    remove fixture usage in profiles controller spec
    replace blog fixture with factory
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Spec, naughty zoot
    Better profile edit display, user edit, user listing
    Add spec for current behavior of profiles_controller
    Clean up specs boiler plate and remove dependency on test/test_helper.rb.
    All tests are now run through rspec - the test directory is left as a place for stashing fixtures etc...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1623 820eb932-12ee-0310-9ca8-eeb645f39767
    Makes article controller specs pass
    
    For some reasons, the newly created article was never loaded because a Factory created article created in the future in another test was loaded first.
    Fixes specs for tags autocomplete
    Corrected some specs
    Avoid accidentally loading old drafts.
    
    Two cases:
    - Saving a new article as draft.
    - Autosaving a new article.
    Adding per state filtering on articles listing + better display for drafts.
    - default: everything but draft.
    - published articles
    - drafts
    - publication pending
    - withdrawn
    add test on insert_editor action on admin page_controller
    Clean admin content_controller (use simple_editor? and fix insert_editor action)
    FIX broken spec
    use named scope for selecting published articles
    clean around text_filter (spec)
    This fix addresses issue #39: Time.parse apparently hiccups when the timestamp string contains "GMT+0000 (UTC)". Worked around this using fdv's suggestion to use DateTime.strptime.
    Remove text_filter fixture. That was the last fixture to remove...
    
    Still notification_mailer in test/fixtures dir...
    That for the next time
    remove user fixture usage
    Remove Users fixture usage...
    Adding an embedded URL shortener. Every page and article gets its shortened URL with a 301 (permanent) redirect. Shortened URL is available to published_content only and is displayed within the administration.
    Initial migration adds shortened URL for existing content.
    
    The set_shortened_url method is duplicated in both conte t and page controller. It should probably move to the content model, not sure about that. Also adding some specs, which makes me think that pages should be rewriten from (almost) scratch.
    Properly use passed time zone information to set publication time.
    Make save as draft keep a published article published.
    
    This fixes bug #136.
    Break up long admin content controller spec.
    Fix conversion of multi-word tags to keyword string.
    Preliminary fix for autosave issues.
    
    Some corner cases may be missing.
    replace blog fixture with factory
    remove contents fixtures, clean models and start controllers
    Move or delete files from deprecated test mock directory.
    
    The use of the test/mocks/test directory is deprecated. Files that were
    used were moved from there to spec/support/mocks. These are required
    automatically. Unused files (theme_mock.rb and xmlrpc_mock.rb) were
    deleted.
    Replace have_text matcher with contains.
    Get rid of #assert_template_has helper.
    
    It is easily replaced by `assigns(key).should_not be_nil`.
    Replace `assert_(no_)difference` with `should(_not) change`.
    
    The RSpec specs seem to have no access to the `assert_difference` and
    `assert_no_difference` assertions. All specs now use RSpec's `change`
    matcher.
    Change shared example specification.
    
    RSpec now uses shared_examples_for to specify shared examples.
    Replace integrate_views with render_views in specs.
    
    This method was renamed in the new rspec_rails.
    Remove category_fixture, replace by factory
    Use same set of tags for all autocomplete specs.
    Remove resource fixtures and replace by factory in specs.
    Remove tag fixtures and replace by factory in spec.
    Speed up article factory:
    - User fixtures have all notification off
    - GUIDs generated as a sequence
    - Turn on notifications for specific tests
    - Article factory uses existing user from fixture
      - Therefore: No more User.delete_all in specs
    Fix permalink and title behavior for drafts:
    - Title should not be set to permalink
    - Permalink should not change for published articles
    Reuse the last draft with parent_id with autosave. Avoid create another draft each autosave
    delete all draft with article like parent_id after save and update it. Can't happen, but why not ?
    add a little test on autosave. it's works, but he don't here before
    avoid using @selected assignation in creation post view
    Clean up specs boiler plate and remove dependency on test/test_helper.rb.
    fix error in categories has_many. Maybe a postgreSQL issue. Test with MySQL please
    partials must be spelled with the preceding underscore.
    update assert_valid -> assert .valid?
    Adds tests for editor switching
    delete spec about show action in content admin (delete with preview)
    Make admin content controller specs pass:
    - Formatter is markdown, not textile
    - Correctly link text filters to users in fixtures
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Added text filters back on pages nd articles forms, moved text filters to users instead of global configuration
    move search_no_draft_paginate function in better place and fix some spec
    fix bug integrate by commit 30b70663. If you search by searchstring, there are no search by other filter in admin/content
    Modify Article to have proper body_and_extended field
    
    Instead of having merge_... and extract_... methods, let's just make this a
    virtual field.  This requires changing the field name in the view, too, but
    it simplifies the controller code considerably.
    Fix various issues in new-style extended content handling
    
    Once upon a time, the Typo web interface allowed you to separately edit the
    "body" and the "extended content" of an article.  Now, the two different
    types of text are stored in a single body field, and separated by
    "<!--more-->".  This change has not yet been pushed through to the
    underlying database.
    
    This patch doesn't attempt to address any of the larger design or
    implementation issues, but it does fix a number of minor problems:
    
      - The build_extended and get_extended methods on ContentController were
        public, which actually made them callable for users on the web.  This
        kind of helper method should generally be protected or private in a
        controller.
      - The build_extended method would silently discard data if the user
        accidentally inserted two copies of '<!--more-->' in an article.
      - The build_extended method didn't remove the newlines inserted by the
        get_extended method, which would cause the article to pick up two extra
        newlines each time it was saved.
    
    The patch moves the merging/extracting code into the article model, fixes
    the data-loss bug, makes sure that articles can be edited without any
    inadvertent changes, and adds a number of unit tests to make sure that
    everything works.
    fix bug in admin/content controller if we are not admin. Add Some spec
    rewrite spec of controller/admin/content with format more rspec-style
    Fixing some tests, now only 30 left brocken, if someone knows what's wrong with AWS ? Everything workds OK but the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1852 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes bug #1263 SqlInjection and error with postgresql in list of content
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1808 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing 28 tests, more to come
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1715 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin refactoring...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1686 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug breaking the spellchecker in FCKEditor.
    Adds autocompletion in the tags (ticket 1217)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1679 820eb932-12ee-0310-9ca8-eeb645f39767
    Blog object is becoming a singleton. Expect to see multiblogging implemented as a plugin if someone has a sufficiently pressing need.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1665 820eb932-12ee-0310-9ca8-eeb645f39767
    All tests are now run through rspec - the test directory is left as a place for stashing fixtures etc...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1623 820eb932-12ee-0310-9ca8-eeb645f39767
    More work on rejigging tests and fixtures to solely use symbolic ids for
    fixtures. Also, removed the second blog from the test fixtures as a first
    step towards getting the core back to one blog per database.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1621 820eb932-12ee-0310-9ca8-eeb645f39767
    Giving tests and fixtures some love.
    
    Moving from explicit ids throughout the fixtures and many of the tests to taking
    advantage of the new fixture capabilities in Rails 2.
    
    We're now loading _all_ the fixtures from test_helper, which should hopefully
    reduce problems we've been experiencing with test ordering, which is nice.
    
    Eventually, I intend to move to using pre_loaded_fixtures - loading the fixtures
    up as part of the initial rake task, and then letting transactional rollback
    stuff deal with the rest.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1620 820eb932-12ee-0310-9ca8-eeb645f39767
    Tests passing. Rails 2.0.2 required. I think we may be good to go for 5.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1602 820eb932-12ee-0310-9ca8-eeb645f39767
    Switched to storing only the user_id in the session rather than the whole
    user.
    
    You know it makes sense :).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1516 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove now-defunct test for attachment_box_remove
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1312 820eb932-12ee-0310-9ca8-eeb645f39767
    First step on a long needed refactoring. We're splitting the contents table into
    two. We now have a contents table, which contains Pages and Articles, and a
    Feedback table, which contains Comments and Trackbacks. There's still a bunch of
    null columns in each table, and the indexing needs tweaking, but it's a start.
    
    NB: The migration is untested on anything but my Mysql installation and if it
    goes wrong you stand to lose all your feedback. So take a backup before you
    try it. The Migration itself throws an exception by default to remind you to do the
    backup. Comment it out once you're safe (or brave/foolhardy).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1302 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    The beginnings of some serious reworking of the way article publication,
    notifications, remote pings and (possibly) caching will work. After this patch
    an article's 'published' flag will never be set before its 'published_at' time.
    
    This is handled by introducing a 'triggers' table which holds a list of actions
    to perform on objects in the future. Every time the rails system gets a request,
    it performs any pending trigger actions. That way, although a message may well
    not be 'really' published until some time after its published_at time, it will
    appear as if it was.
    
    Next up, moving various 'on save' actions out of duplicated code in controllers
    
    NB: There's a bug in Rails that means that migration 45 shouldn't work with
    mysql or sqlite, hence the utterly gruesome monkey patch in
    lib/rails_patch/active_record.rb -- I look
    forward to the next release of Rails when I can get rid of those monstrosities.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1042 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Tags now support the concept of a display name. This is to facility re-naming tags, an interface for which will be provided soon. Tag names are now canonicalized into a lowercase, space-stripped name so "Monty Python" and "montypython" will be the same tag. Please note that display name really should be a reformatted version of the original name - if you change the content, like using "Graham Chapman" for the tag "montypython" you can still get duplicate tag issues where a keyword "grahamchapman" will create a new tag since it will not match either "Graham Chapman" or "montypython".
    Please note that theme writers who override the tag sidebar display will have to modify their themes to use tag.display_name instead of tag.name.
    Also note that the migration was written to try and handle duplicate tags gracefully (currently you can have both "montypython" and "Monty Python" as separate tags but they will both end up as "montypython" after migration), by destroying the latter one and recreating the tag mappings for any affected articles. It was tested, but not extensively, so be careful - as always, back up your database before migrating.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@858 820eb932-12ee-0310-9ca8-eeb645f39767
    Implement multi-word tags using single or double quotes. Fixes #674.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@856 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix failing resources test
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@700 820eb932-12ee-0310-9ca8-eeb645f39767
    A failing test for duplicate categories.  I'm now able to reproduce #459, but I'm not sure what's happening.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@693 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix resource ajax; closes #456
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@691 820eb932-12ee-0310-9ca8-eeb645f39767
    BACK UP YOUR DATABASE BEFORE RUNNING THESE MIGRATIONS.  Merge pdcawley's big superclass patch.  This rolls articles, pages, comments, and trackbacks into one big table, using STI.  This lets us get rid of a huge amount of duplicated code; diffstat shows a net of -148 lines, and the resulting code looks cleaner.  Closes #414
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@660 820eb932-12ee-0310-9ca8-eeb645f39767
    Finish mocking pings
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@643 820eb932-12ee-0310-9ca8-eeb645f39767
    Make pings actually work right.  This is sort of a work in progress, but I want to commit this before I make deeper changes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@641 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved body_html and friends from push to pull.  See http://scottstuff.net/blog/articles/2005/09/04/push-me-pull-me
    for details.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@622 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
    Populate user association in new articles posted via Content Admin. Display number of articles per user in User Admin. (closes #203) [devel@unlogikal.net]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@431 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged permalink patch which no longer breaks links when the blog author changes an article title. It also allows for custom permalinks by editing it via the content admin. Storing permalinks in the database also means we're no longer doing nasty string comparisons for permalink-accessed articles since we're able to do a direct SQL query on that column. (closes #147)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@394 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    Makes the redirects management work like categories and tags.
    
    Still stuck in the frozen train, I've been running specs as an infinite loop to have my MBP heat my hands
    Fixing the specs. Removing useless specs as we don't rely on tabs anymore. I, however, need to add some more checks there, but on another way
    Allows admin redirects to act like an URL shortener when posting an empty from.
    remove users fixtures usage...
    Fixes tabs / subtabs in admin + specs.
    Fix failing redirects controller specs.
    Adding reirects a frontend. Did you know that such a feature existed? I guess I was the only one to use it to replace costy rewrite rules. Doesn't this rock?
    
    Sure it does!
    As usual: removing users fixture usage in few controllers
    Clean up formatting of sidebar controller and its specs.
    replace blog fixture with factory
    Fixes the admin sidebar controller crashing, adding missing specs, removing useless dead partials.
    Fixing the specs. Removing useless specs as we don't rely on tabs anymore. I, however, need to add some more checks there, but on another way
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    remove fixture usage in setting_controller_spec
    Fixes tabs / subtabs in admin + specs.
    fix spec failure on controller. Clean settings update and category controller fixture and code
    Changes the settings behavior for nofollowify, index categories and index tags. Comes with migration. Adds missing specs.
    
    Current settings behavior were beyond stupidity : every feature were enabled by default and admin had to uncheck them to disable them:
    Unchecking nofollowify was enabling dofollow.
    Unchecking index categories was removing categories from search engine index
    Unchecking index tags was removing categories from search engine tags.
    
    New behavior:
    Checking dofollowify actually enables dofollow
    Checking unindex categories removes categories from search engine index
    Checking unindex tags removes tags from search engine index
    
    TODO :
    Allow unindex / index by category.
    Allow unindex / index by tag.
    Moving admin/settings/seo to the new admin/seo controller.
    replace blog fixture with factory
    Replace merged in #integrate_views call with #render_views.
    Remove unused read action from Admin::SettingsController.
    For some reasons I had moved everything from the read action into the general settings and didn't remove neither the method nor the test. rspec2 raised an error onmissing template rspec1 didn't
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Mass-removal of trailing whitespace.
    Clean up specs boiler plate and remove dependency on test/test_helper.rb.
    add validation of permalink_format with good format. Failed if bad format
    Fixing some tests, now only 30 left brocken, if someone knows what's wrong with AWS ? Everything workds OK but the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1852 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds spec to settings
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1802 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing 30 tests, more to come
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1716 820eb932-12ee-0310-9ca8-eeb645f39767
    All tests are now run through rspec - the test directory is left as a place for stashing fixtures etc...
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1623 820eb932-12ee-0310-9ca8-eeb645f39767
    Giving tests and fixtures some love.
    
    Moving from explicit ids throughout the fixtures and many of the tests to taking
    advantage of the new fixture capabilities in Rails 2.
    
    We're now loading _all_ the fixtures from test_helper, which should hopefully
    reduce problems we've been experiencing with test ordering, which is nice.
    
    Eventually, I intend to move to using pre_loaded_fixtures - loading the fixtures
    up as part of the initial rake task, and then letting transactional rollback
    stuff deal with the rest.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1620 820eb932-12ee-0310-9ca8-eeb645f39767
    – Moving settings to a real settings controller
    – Splitting settings into different pages, a more sensible way
    – Removing old files
    – Fixing the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1611 820eb932-12ee-0310-9ca8-eeb645f39767
    Switched to storing only the user_id in the session rather than the whole
    user.
    
    You know it makes sense :).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1516 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed a failing test and added a new one
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@935 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
     * Refactoring of settings controller into admin/general controller
     * Fixed functional tests for admin interface
     * Authenticate backend services against user database (again) instead of old user/pass from configuration (fixes #27)
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@176 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing the specs. Removing useless specs as we don't rely on tabs anymore. I, however, need to add some more checks there, but on another way
    As usual: removing users fixture usage in few controllers
    Fixes tabs / subtabs in admin + specs.
    Adding an interface to control cache sweeping
    replace blog fixture with factory
    Fixes the admin sidebar controller crashing, adding missing specs, removing useless dead partials.
    Add specific route for XmlController#feed without format.
    Clean up RSD route.
    Replace comma with hash rocket in hash literals for Ruby 1.9 compatibility.
    Update routing specs to the new syntax.
    Move routing specs to their new standard location.
    
    They will now be picked up by `rake spec:routing`.
    Mass-removal of trailing whitespace.
    Dropping iTunes metadata support. They will probably come back in the futur as a plugin
    Refactoring of XmlController routes.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Fix article routing spec: get method no longer works.
    Adjust article routing specs to match new glob handling.
    
    Before, *from would match any path and return an array of elements. The
    new router just returns the matched path.
    
    Also, assert_routing was replaced with should route_to.
    Replace comma with hash rocket in hash literals for Ruby 1.9 compatibility.
    Move remaining article routing specs under spec/routing.
    Update routing specs to the new syntax.
    Move routing specs to their new standard location.
    
    They will now be picked up by `rake spec:routing`.
    Mass-removal of trailing whitespace.
    Change some routes related to ArticlesController.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Fixing failing rspec test.
    Add coding comment for non-ascii files.
    
    Part of the Ruby 1.9 compatibility effort.
    Do not provide this_blog in spec helper. Exposes bug in Redirect model.
    
    Due to the presence of this_blog in the spec helper, Redirect could use it
    in the specs, whereas it has no access to this method in the production
    environment.
    Removes old js_distance_of_time_to_now which becomes a plugin. To avoid breaking everything the old method is kept and calls the new one.
    Makes all themes support the new way of displaying date and time.
    Makes the new way of displaying date and time "xxx ago" aware.
    Fixes a stupid copy / paste in display_time helper. Adds specs to display_time and display_date helpers
    Comprehensively fix bug #192: multi-byte permalinks.
    
    - Do not escape the title upon conversion to permalink slug.
    - Escape permalink sluk upon creation of permalink url.
    - Search article by permalink and by escaped permalink to support legacy
      permalink slugs.
    replace blog fixture with factory
    Helper #link_to_permalink should be html_safe.
    
    Specs for the helper, and for the model methods that it uses
    (#permalink_url and Blog#url_for). These specs fail, currently.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Remove call to helper_name.
    
    Not needed and caused trouble.
    Mass-removal of trailing whitespace.
    add some spec about render_flash in application helper
    Create one version of ul_tag_for, and give it 100% coverage.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    Replace have_tag with have_selector in helper specs.
    
    RSpec-Rails 2 uses have_selector provided by webret to replace have_tag.
    Therefore, add webrat as a dependency so have_selector is defined, and
    replace have_tag with have_selector in helper specs. All helper specs pass
    now.
    Display links on author pages when item is an url [#161 state:resolved]
    Remove text_filter fixture. That was the last fixture to remove...
    
    Still notification_mailer in test/fixtures dir...
    That for the next time
    Fix sidebar helper spec
    Add some specs for sidebar helper. Not pretty.
    Move or delete files from deprecated test mock directory.
    
    The use of the test/mocks/test directory is deprecated. Files that were
    used were moved from there to spec/support/mocks. These are required
    automatically. Unused files (theme_mock.rb and xmlrpc_mock.rb) were
    deleted.
     r1245@Menhir:  pdcawley | 2006-03-27 16:03:01 +0100
     Fixed #739 by applying the patch attached to that ticket and adding some
     tests.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@947 820eb932-12ee-0310-9ca8-eeb645f39767
    Spam RBL update.  Closes #657
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@870 820eb932-12ee-0310-9ca8-eeb645f39767
     * Merged spamprot branch containing DNSRBL blocking, URL count limit, old article auto-close (refs #25)
       MISSING: Moderation options instead of flat out blocking, bayes based blocking, web-interface for blacklist items, auto-close indication
     * Minor fixes from spamprot branch:
       * No more escaping of article titles in articles/_read.rhtml
       * Proper sorting for delicious partial
       * Better semantics for sidebar boxes
    
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@178 820eb932-12ee-0310-9ca8-eeb645f39767
    Replace flickr gem with flickraw for flickr and lightbox plugins.
    
    The flickr gem was broken and seems unmaintained.
    [#186 state:resolved]
    Move or delete files from deprecated test mock directory.
    
    The use of the test/mocks/test directory is deprecated. Files that were
    used were moved from there to spec/support/mocks. These are required
    automatically. Unused files (theme_mock.rb and xmlrpc_mock.rb) were
    deleted.
    Fixed #706
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@904 820eb932-12ee-0310-9ca8-eeb645f39767
    Change Flickr plugin link to use main image page, not sized-image page.  closes #364
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@614 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    Move or delete files from deprecated test mock directory.
    
    The use of the test/mocks/test directory is deprecated. Files that were
    used were moved from there to spec/support/mocks. These are required
    automatically. Unused files (theme_mock.rb and xmlrpc_mock.rb) were
    deleted.
    Big spam filtering upgrade.
    
    This turns on Akismet filtering for all incoming comments and trackbacks.
    Comments (and trackbacks) that fail the spam check are marked as unpublished
    and can be deleted via the admin feedback page.
    
    In addition, the feedback page's publish/unpublish buttons now send feedback
    to Akismet (when enabled, of course).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1148 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweaked the ping code to be a little more composed by pulling some behaviour into a
    private Pinger class. I love it when the meat of a method called 'send_pingback_or_trackback'
    becomes 'send_pingback or send_trackback'.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@874 820eb932-12ee-0310-9ca8-eeb645f39767
    Integrated patch 526
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@872 820eb932-12ee-0310-9ca8-eeb645f39767
    added test coverage for sending pings
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@108 820eb932-12ee-0310-9ca8-eeb645f39767
    Moves permalink sanitization to String with a new to_permalink method.
    
    Refactores existing code to remove duplicate code entries and not needed mthods when building the permalink from the model.
    Make String#to_title deal with contents where body is nil.
    Rely on load_path to find spec_helper.
    
    ./spec should be in the load_path, so no need to add path when requiring
    spec_helper anymore. Fix this in all specs.
    fix bug when use attribute with single quote and not double quote. So textfilter doesn't works
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Typo theme editor
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1569 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed #95 and #87
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@264 820eb932-12ee-0310-9ca8-eeb645f39767
    Integrated Azure design.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@247 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing TinyMCE with FCKEditor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1636 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1570 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Show comment creation date and time in partial for Standard Issue.
    
    It would erroneously show the article publication date and time.
    Move comment partials to their appropriate location in themes.
    Removes old js_distance_of_time_to_now which becomes a plugin. To avoid breaking everything the old method is kept and calls the new one.
    Makes all themes support the new way of displaying date and time.
    Makes the new way of displaying date and time "xxx ago" aware.
    Complete front implementation for plugin_avatar (every theme fixed)
    Remove use of simple_format
    This reverts commits a137b958daf8f791e0bd63932dcdb78ef05d3b7b and
    10cff9dbaa740a1505697f1c8a32565aa83d8435
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Adds simple_format to comments and posts output. Changes \n to <br /> and \n\n to </p>
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Some tweaks to commenting. And some tweaks to scribbish to make it play nicely with
    commenting.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1394 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    Scribbish update 1.  Closes #1099
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1271 820eb932-12ee-0310-9ca8-eeb645f39767
    Made views respect the published/unpublished state of any feedback
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1249 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old will_paginate with scope based Kaminari.
    Simplify render in views: themes and articles.
    Fix invalid p>div nesting.
    Getting rid of the worse piece of code ever, multiplies Typo perfs by 10 when calling articles/index (see http://t37.net/ya-pas-comme-un-truc-qui-vous-fait-hurler-li)
    Getting rid of classic pagination for will_paginate
    Revamping the dashboard, step 1
    Revamping login form step 1
    cleaning admin/css step 1
    migrating default themes to will_paginate
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing tests before release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1736 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed a bug with /articles/category/whatever throwing a 500.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1520 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing tests before release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1736 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the recaptcha tag to non standards templates
    Remove optional 'gravatar enabled' statement.
    
    If wanted, it can probably be replaced by some statement dependent on the
    plugin. I do not see the need, however.
    Replace deprecated <% %> helper calls with <%= %> in themes.
    Mass-removal of trailing whitespace.
    Don't use absolute paths for images: Makes sub-URI deployment work.
    fix some spec
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Brings more translation
    Adds some changes to the content editor
    Brings localisation to Standard issue
    Brings localisation to archives plugin
    Fix typo version to 5.0.3
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1649 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Rest of patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1554 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Revamped some things in the admin + fixed ticket 1118
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1482 820eb932-12ee-0310-9ca8-eeb645f39767
    At some point in any refactoring you have to trust your gut and check
    it in.
    
    This point has now been reached...
    
    New things:
    * routes.rb continues to get shorter, ArticlesController is now declared
      with 'map.datestamped_resource :articles' plus a few extra actions that
      will eventually move to other controllers
    * Comment posting is now handled by the shiny new CommentsController, which
      is resourceful. However, because we don't want to break too many themes
      yet, it's still rendering templates from the articles directory
    * If you want to make your themes work better with the new scheme, you
      should alter your comment form url to be:
      {{{ :url => comments_path(@article) }}}
      If you're linking to the preview action, that becomes
      {{{ preview_new_comment_path(@article) }}}
    * This breaks #1463 rather hard. I shall be rolling #1463 all the way back
      for the time being, at least until I've got the controllers working
      restfully. Once that's done, it should be relatively trivial to change
      the routes file from using {{{datestamped_resources(:articles)}}} to using
      {{{resources(:articles)}}}
    * Deprecation warnings for badly placed controller actions aren't yet
      in place. I need to work out some way of having those warnings show
      up on the admin pages...
    * This may break things horribly. I've run it against the test suite,
      I've walked through most stuff on my test blog, but (always) there
      is the niggling feeling that I've missed something.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1465 820eb932-12ee-0310-9ca8-eeb645f39767
    Some tweaks to commenting. And some tweaks to scribbish to make it play nicely with
    commenting.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1394 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied Tim Connor's fix for commenting with IE to a Scribbish themed
    blog. Thanks Tim.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1279 820eb932-12ee-0310-9ca8-eeb645f39767
    Scribbish update 3.  Closes #1100
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1272 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Move a ) in scribbish.  Closes #996
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1130 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Replace remaining calls to gravatar_tag.
    Remove use of simple_format
    This reverts commits a137b958daf8f791e0bd63932dcdb78ef05d3b7b and
    10cff9dbaa740a1505697f1c8a32565aa83d8435
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Adds simple_format to comments and posts output. Changes \n to <br /> and \n\n to </p>
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing tests before release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1736 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    A couple of scribbish fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1247 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a typo in all languages files
    Typo: double any.
    Typo: double any.
    Make themes use new password-protected article partials.
    Make all theme text translatable.
    Simplify render in views: themes and articles.
    Removes old js_distance_of_time_to_now which becomes a plugin. To avoid breaking everything the old method is kept and calls the new one.
    Makes all themes support the new way of displaying date and time.
    Makes the new way of displaying date and time "xxx ago" aware.
    Mass-removal of trailing whitespace.
    Fixes some nasty bugs with password protection. I need to add tests in the views
    Reverting an aspect of pssword protected posts: if we don't hide the protected posts to logged in users, the supposely hidden post will be cached...
    Adding password protected posts. Things are done 100% AJAX because of the static cache. Logged in users are considered as being able to see a protected post. Protected posts content is removed from RSS feed. Need to add some specs, it's curious to see that they didn't break
    Just realized that _all_ our themes were borked because of untested constant read controller and action renaming. How was it possible for so loooong?
    Fixes a behaviour with read more link being displayed even when extended content is void. Closes ticket #134
    Fixes excerpt behavior (ticket 65)
    
    Expected behavior:
    
    if we are on the main index or browsing a category or a tag
      if we have an excerpt
        show the excerpt
      else
        show article body
        if we have an extended part
          show link to extended
        end
      end
    else we're browsing an article
      show article body
      if we have an extended part
        show extended
      end
    end
    Remove use of simple_format
    This reverts commits a137b958daf8f791e0bd63932dcdb78ef05d3b7b and
    10cff9dbaa740a1505697f1c8a32565aa83d8435
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Adds simple_format to comments and posts output. Changes \n to <br /> and \n\n to </p>
    delete ouput useless in spec
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds some more localization
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1653 820eb932-12ee-0310-9ca8-eeb645f39767
    Brings more translation
    Adds some changes to the content editor
    Brings localisation to Standard issue
    Brings localisation to archives plugin
    Fix typo version to 5.0.3
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1649 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix brocken atom link in the themes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1640 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1578 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Simplify render in views: themes and articles.
    Added article preview, not the cleanest way, but at least it works
    doesn't display the comment form if the auto_close comment is activate. It's made on all official theme. User @article.comments_closed? if you want check that. Not only @article.allow_comment?. Starting fixing issue #1303
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Some tweaks to commenting. And some tweaks to scribbish to make it play nicely with
    commenting.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1394 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    Made views respect the published/unpublished state of any feedback
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1249 820eb932-12ee-0310-9ca8-eeb645f39767
    A couple of scribbish fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1247 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Eliminated the :controller/:action/:id default route, which works around
    the big nasty Rails Security Hole.
    
    It turns out we relied on it in all sorts of strange places. So I fixed that
    too.
    
    Expect a new Typo release real soon now.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1210 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix for a theming issue
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1575 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing bugs in the theme editor, as well as a failing test
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1572 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1570 820eb932-12ee-0310-9ca8-eeb645f39767
    Move theme layouts under their views directory.
    
    This way, we can specify the layout using a relative path, which will avoid
    looking for it in all plugins' view paths.
    Replace @content_for_layout with yield.
    
    @content_for_layout no longer works.
    Mass removal of trailing whitespace part two: Files that have cr/lf line endings.
    Fixes [#120]
    Move the search in sidebar. No define in layout
    
    [#38 state:resolved]
    Satisfy warnings in themes: don't put space before argument parentheses.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Brings more translation
    Adds some changes to the content editor
    Brings localisation to Standard issue
    Brings localisation to archives plugin
    Fix typo version to 5.0.3
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1649 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed a dangling </div>
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1576 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1570 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Updating theme and adding theme documentation
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Updating theme and adding theme documentation
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Mass-removal of trailing whitespace.
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Replacing old will_paginate with scope based Kaminari.
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Some cleaning and a bit of refactoring
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Move comment partial under comments/.
    
    This allows us to simplify rendering comment collections. For backward
    compatibility of older themes, articles/comment renders comments/comment.
    Removes old js_distance_of_time_to_now which becomes a plugin. To avoid breaking everything the old method is kept and calls the new one.
    Makes all themes support the new way of displaying date and time.
    Makes the new way of displaying date and time "xxx ago" aware.
    Adding a no/do follow policy on the whole blog. Admin can now chose between nofollow and dofollow in the comments and comments author URL.
    
    For now this is a bit "raw" and may need some improvement:
    1- allow admin to chose after how many comments a visitor is dofollowed, for example 3, but this would have an impact on performances: each time a comment is rendered, Typo would do a select count(*) based on the author email address.
    2- improve comment moderation to have an email sent even though the comment was not published, or any other way to moderate comments. I need to think about it without breaking / recoding our state machine.
    
    Oh, and this indeed come with a bunch of tests that shows I haven't broken anything.
    Complete front implementation for plugin_avatar (every theme fixed)
    Mass-removal of trailing whitespace.
    Some cleaning and a bit of refactoring
    Removes a french string, fixes a typo
    Removes a french string
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Replacing old will_paginate with scope based Kaminari.
    Simplify render in views: themes and articles.
    Upgrading to Rails 3.0.7.
    
    Some specs are still failing. 2 new, Active Record related and 2 old.
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Make all theme text translatable.
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing tests before release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1736 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Adds comment count to Bootstrap index
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Replacing old will_paginate with scope based Kaminari.
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Fixes a bug in the search + drops a French string that had nothing to do here
    Some cleaning and a bit of refactoring
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Replacing old will_paginate with scope based Kaminari.
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Updating theme and adding theme documentation
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    Adding Bootstrap as a new default theme.
    
    Bootstrap is a Twitter Bootstrap theme made as a framework for other themes developpers. Please, read the README for more information.
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass removal of trailing whitespace part two: Files that have cr/lf line endings.
    Fixing some CSS issue on typographic when enabling gravatar
    Fixing IE6 bugs on default theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1765 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes bug 1239 : the cache and InvalidAuthenticityToken
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1763 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes crash due to uncreated session after adding forgery reqest protection removing the deprecation warning on plugins. It's enough now. fixing some css issue on the new default theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1743 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Fixing IE6 bugs on default theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1765 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass removal of trailing whitespace part two: Files that have cr/lf line endings.
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing IE6 bugs on default theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1765 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bad clear: left in Typographic\n
    Fixes comments cache issues (Ticket 1218)\n
    Adds a control on comment.save (Ticket 1207)\n
    Adds the forgotten spinner to Typographic
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1744 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing IE6 bugs on default theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1765 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing IE6 bugs on default theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1765 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing IE6 bugs on default theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1765 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing IE6 bugs on default theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1765 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing IE6 bugs on default theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1765 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing IE6 bugs on default theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1765 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing IE6 bugs on default theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1765 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing IE6 bugs on default theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1765 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing IE6 bugs on default theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1765 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing IE6 bugs on default theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1765 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing IE6 bugs on default theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1765 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing IE6 bugs on default theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1765 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing IE6 bugs on default theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1765 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing IE6 bugs on default theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1765 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing IE6 bugs on default theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1765 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Move comment partials to their appropriate location in themes.
    Removes old js_distance_of_time_to_now which becomes a plugin. To avoid breaking everything the old method is kept and calls the new one.
    Makes all themes support the new way of displaying date and time.
    Makes the new way of displaying date and time "xxx ago" aware.
    Adding a no/do follow policy on the whole blog. Admin can now chose between nofollow and dofollow in the comments and comments author URL.
    
    For now this is a bit "raw" and may need some improvement:
    1- allow admin to chose after how many comments a visitor is dofollowed, for example 3, but this would have an impact on performances: each time a comment is rendered, Typo would do a select count(*) based on the author email address.
    2- improve comment moderation to have an email sent even though the comment was not published, or any other way to moderate comments. I need to think about it without breaking / recoding our state machine.
    
    Oh, and this indeed come with a bunch of tests that shows I haven't broken anything.
    Complete front implementation for plugin_avatar (every theme fixed)
    Remove use of simple_format
    This reverts commits a137b958daf8f791e0bd63932dcdb78ef05d3b7b and
    10cff9dbaa740a1505697f1c8a32565aa83d8435
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Adds simple_format to comments and posts output. Changes \n to <br /> and \n\n to </p>
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Brings more translation
    Adds some changes to the content editor
    Brings localisation to Standard issue
    Brings localisation to archives plugin
    Fix typo version to 5.0.3
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1649 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Some tweaks to commenting. And some tweaks to scribbish to make it play nicely with
    commenting.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1394 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    Scribbish update 1.  Closes #1099
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1271 820eb932-12ee-0310-9ca8-eeb645f39767
    Made views respect the published/unpublished state of any feedback
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1249 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old will_paginate with scope based Kaminari.
    Simplify render in views: themes and articles.
    Getting rid of the worse piece of code ever, multiplies Typo perfs by 10 when calling articles/index (see http://t37.net/ya-pas-comme-un-truc-qui-vous-fait-hurler-li)
    Getting rid of classic pagination for will_paginate
    Revamping the dashboard, step 1
    Revamping login form step 1
    cleaning admin/css step 1
    migrating default themes to will_paginate
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed a bug with /articles/category/whatever throwing a 500.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1520 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the recaptcha tag to non standards templates
    Remove optional 'gravatar enabled' statement.
    
    If wanted, it can probably be replaced by some statement dependent on the
    plugin. I do not see the need, however.
    Replace deprecated <% %> helper calls with <%= %> in themes.
    Mass-removal of trailing whitespace.
    Don't use absolute paths for images: Makes sub-URI deployment work.
    start using same formating but only define by a string
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Brings more translation
    Adds some changes to the content editor
    Brings localisation to Standard issue
    Brings localisation to archives plugin
    Fix typo version to 5.0.3
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1649 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Rest of patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1554 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Revamped some things in the admin + fixed ticket 1118
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1482 820eb932-12ee-0310-9ca8-eeb645f39767
    At some point in any refactoring you have to trust your gut and check
    it in.
    
    This point has now been reached...
    
    New things:
    * routes.rb continues to get shorter, ArticlesController is now declared
      with 'map.datestamped_resource :articles' plus a few extra actions that
      will eventually move to other controllers
    * Comment posting is now handled by the shiny new CommentsController, which
      is resourceful. However, because we don't want to break too many themes
      yet, it's still rendering templates from the articles directory
    * If you want to make your themes work better with the new scheme, you
      should alter your comment form url to be:
      {{{ :url => comments_path(@article) }}}
      If you're linking to the preview action, that becomes
      {{{ preview_new_comment_path(@article) }}}
    * This breaks #1463 rather hard. I shall be rolling #1463 all the way back
      for the time being, at least until I've got the controllers working
      restfully. Once that's done, it should be relatively trivial to change
      the routes file from using {{{datestamped_resources(:articles)}}} to using
      {{{resources(:articles)}}}
    * Deprecation warnings for badly placed controller actions aren't yet
      in place. I need to work out some way of having those warnings show
      up on the admin pages...
    * This may break things horribly. I've run it against the test suite,
      I've walked through most stuff on my test blog, but (always) there
      is the niggling feeling that I've missed something.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1465 820eb932-12ee-0310-9ca8-eeb645f39767
    Some tweaks to commenting. And some tweaks to scribbish to make it play nicely with
    commenting.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1394 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied Tim Connor's fix for commenting with IE to a Scribbish themed
    blog. Thanks Tim.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1279 820eb932-12ee-0310-9ca8-eeb645f39767
    Scribbish update 3.  Closes #1100
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1272 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Move a ) in scribbish.  Closes #996
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1130 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Replace remaining calls to gravatar_tag.
    Remove use of simple_format
    This reverts commits a137b958daf8f791e0bd63932dcdb78ef05d3b7b and
    10cff9dbaa740a1505697f1c8a32565aa83d8435
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Adds simple_format to comments and posts output. Changes \n to <br /> and \n\n to </p>
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    A couple of scribbish fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1247 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a typo in all languages files
    Typo: double any.
    Typo: double any.
    Make themes use new password-protected article partials.
    Make all theme text translatable.
    Simplify render in views: themes and articles.
    Removes old js_distance_of_time_to_now which becomes a plugin. To avoid breaking everything the old method is kept and calls the new one.
    Makes all themes support the new way of displaying date and time.
    Makes the new way of displaying date and time "xxx ago" aware.
    (fix_themes) Added html_safe in scribbish, dirtylicious and typographic themes
    Mass-removal of trailing whitespace.
    Fixes some nasty bugs with password protection. I need to add tests in the views
    Reverting an aspect of pssword protected posts: if we don't hide the protected posts to logged in users, the supposely hidden post will be cached...
    Adding password protected posts. Things are done 100% AJAX because of the static cache. Logged in users are considered as being able to see a protected post. Protected posts content is removed from RSS feed. Need to add some specs, it's curious to see that they didn't break
    Just realized that _all_ our themes were borked because of untested constant read controller and action renaming. How was it possible for so loooong?
    Fixes a behaviour with read more link being displayed even when extended content is void. Closes ticket #134
    Fixes excerpt behavior (ticket 65)
    
    Expected behavior:
    
    if we are on the main index or browsing a category or a tag
      if we have an excerpt
        show the excerpt
      else
        show article body
        if we have an extended part
          show link to extended
        end
      end
    else we're browsing an article
      show article body
      if we have an extended part
        show extended
      end
    end
    Remove use of simple_format
    This reverts commits a137b958daf8f791e0bd63932dcdb78ef05d3b7b and
    10cff9dbaa740a1505697f1c8a32565aa83d8435
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Adds simple_format to comments and posts output. Changes \n to <br /> and \n\n to </p>
    doesn't display the comment form if the auto_close comment is activate. It's made on all official theme. User @article.comments_closed? if you want check that. Not only @article.allow_comment?. Starting fixing issue #1303
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes session resetting when visiting homepage. Needs some test before release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1759 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bad clear: left in Typographic\n
    Fixes comments cache issues (Ticket 1218)\n
    Adds a control on comment.save (Ticket 1207)\n
    Adds the forgotten spinner to Typographic
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1744 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Simplify render in views: themes and articles.
    Upgrading to Rails 3.0.7.
    
    Some specs are still failing. 2 new, Active Record related and 2 old.
    Clean up PreviewsController spec and make it pass.
    Added article preview, not the cleanest way, but at least it works
    doesn't display the comment form if the auto_close comment is activate. It's made on all official theme. User @article.comments_closed? if you want check that. Not only @article.allow_comment?. Starting fixing issue #1303
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Some tweaks to commenting. And some tweaks to scribbish to make it play nicely with
    commenting.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1394 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    Made views respect the published/unpublished state of any feedback
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1249 820eb932-12ee-0310-9ca8-eeb645f39767
    A couple of scribbish fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1247 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Eliminated the :controller/:action/:id default route, which works around
    the big nasty Rails Security Hole.
    
    It turns out we relied on it in all sorts of strange places. So I fixed that
    too.
    
    Expect a new Typo release real soon now.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1210 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing tests before release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1736 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix for a theming issue
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1575 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixing bugs in the theme editor, as well as a failing test
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1572 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1570 820eb932-12ee-0310-9ca8-eeb645f39767
    Move theme layouts under their views directory.
    
    This way, we can specify the layout using a relative path, which will avoid
    looking for it in all plugins' view paths.
    Replace @content_for_layout with yield.
    
    @content_for_layout no longer works.
    Fixes [#120]
    end all html tag properly
    Move the search in sidebar. No define in layout
    
    [#38 state:resolved]
    Fixing IE6 bugs on default theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1765 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a rendering bug in default theme in IE6
    Fixes an admin bug to access textfilters
    Unifies text filter admin with the rest of the back office
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1760 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes session resetting when visiting homepage. Needs some test before release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1759 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed a bug with /articles/category/whatever throwing a 500.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1520 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix some issues with the Scribbish Haml-izing
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1353 820eb932-12ee-0310-9ca8-eeb645f39767
    More 4.1 cleanups.  Complete move from serialized canonical_server_url to non-serialized base_url.
    Add a bunch of rdoc.  More deprecations and cleanups.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1242 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed all the themes I broke with the last two patches
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1212 820eb932-12ee-0310-9ca8-eeb645f39767
    Eliminated the :controller/:action/:id default route, which works around
    the big nasty Rails Security Hole.
    
    It turns out we relied on it in all sorts of strange places. So I fixed that
    too.
    
    Expect a new Typo release real soon now.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1210 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove reference to missing application.js in scribbish.  Closes #985
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1102 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    Some more admin enhancement
    Added typo:code stylesheet
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1688 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1496 820eb932-12ee-0310-9ca8-eeb645f39767
    Scribbish update 1.  Closes #1098
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1270 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1496 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Move comment partials to their appropriate location in themes.
    Removes old js_distance_of_time_to_now which becomes a plugin. To avoid breaking everything the old method is kept and calls the new one.
    Makes all themes support the new way of displaying date and time.
    Makes the new way of displaying date and time "xxx ago" aware.
    Adding a no/do follow policy on the whole blog. Admin can now chose between nofollow and dofollow in the comments and comments author URL.
    
    For now this is a bit "raw" and may need some improvement:
    1- allow admin to chose after how many comments a visitor is dofollowed, for example 3, but this would have an impact on performances: each time a comment is rendered, Typo would do a select count(*) based on the author email address.
    2- improve comment moderation to have an email sent even though the comment was not published, or any other way to moderate comments. I need to think about it without breaking / recoding our state machine.
    
    Oh, and this indeed come with a bunch of tests that shows I haven't broken anything.
    Complete front implementation for plugin_avatar (every theme fixed)
    Remove use of simple_format
    This reverts commits a137b958daf8f791e0bd63932dcdb78ef05d3b7b and
    10cff9dbaa740a1505697f1c8a32565aa83d8435
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Adds simple_format to comments and posts output. Changes \n to <br /> and \n\n to </p>
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Some tweaks to commenting. And some tweaks to scribbish to make it play nicely with
    commenting.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1394 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    Scribbish update 1.  Closes #1099
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1271 820eb932-12ee-0310-9ca8-eeb645f39767
    Made views respect the published/unpublished state of any feedback
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1249 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old will_paginate with scope based Kaminari.
    Simplify render in views: themes and articles.
    Fix invalid p>div nesting.
    Getting rid of the worse piece of code ever, multiplies Typo perfs by 10 when calling articles/index (see http://t37.net/ya-pas-comme-un-truc-qui-vous-fait-hurler-li)
    Getting rid of classic pagination for will_paginate
    Revamping the dashboard, step 1
    Revamping login form step 1
    cleaning admin/css step 1
    migrating default themes to will_paginate
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed a bug with /articles/category/whatever throwing a 500.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1520 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the recaptcha tag to non standards templates
    Added a missing .html_safe in the Scribbish theme
    Remove optional 'gravatar enabled' statement.
    
    If wanted, it can probably be replaced by some statement dependent on the
    plugin. I do not see the need, however.
    Replace deprecated <% %> helper calls with <%= %> in themes.
    Don't use absolute paths for images: Makes sub-URI deployment work.
    fix some spec
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Rest of patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1554 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Revamped some things in the admin + fixed ticket 1118
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1482 820eb932-12ee-0310-9ca8-eeb645f39767
    At some point in any refactoring you have to trust your gut and check
    it in.
    
    This point has now been reached...
    
    New things:
    * routes.rb continues to get shorter, ArticlesController is now declared
      with 'map.datestamped_resource :articles' plus a few extra actions that
      will eventually move to other controllers
    * Comment posting is now handled by the shiny new CommentsController, which
      is resourceful. However, because we don't want to break too many themes
      yet, it's still rendering templates from the articles directory
    * If you want to make your themes work better with the new scheme, you
      should alter your comment form url to be:
      {{{ :url => comments_path(@article) }}}
      If you're linking to the preview action, that becomes
      {{{ preview_new_comment_path(@article) }}}
    * This breaks #1463 rather hard. I shall be rolling #1463 all the way back
      for the time being, at least until I've got the controllers working
      restfully. Once that's done, it should be relatively trivial to change
      the routes file from using {{{datestamped_resources(:articles)}}} to using
      {{{resources(:articles)}}}
    * Deprecation warnings for badly placed controller actions aren't yet
      in place. I need to work out some way of having those warnings show
      up on the admin pages...
    * This may break things horribly. I've run it against the test suite,
      I've walked through most stuff on my test blog, but (always) there
      is the niggling feeling that I've missed something.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1465 820eb932-12ee-0310-9ca8-eeb645f39767
    Some tweaks to commenting. And some tweaks to scribbish to make it play nicely with
    commenting.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1394 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied Tim Connor's fix for commenting with IE to a Scribbish themed
    blog. Thanks Tim.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1279 820eb932-12ee-0310-9ca8-eeb645f39767
    Scribbish update 3.  Closes #1100
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1272 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Move a ) in scribbish.  Closes #996
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1130 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Replace remaining calls to gravatar_tag.
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    A couple of scribbish fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1247 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Make themes use new password-protected article partials.
    Simplify render in views: themes and articles.
    Removes old js_distance_of_time_to_now which becomes a plugin. To avoid breaking everything the old method is kept and calls the new one.
    Makes all themes support the new way of displaying date and time.
    Makes the new way of displaying date and time "xxx ago" aware.
    (fix_themes) Added html_safe in scribbish, dirtylicious and typographic themes
    Fixes some nasty bugs with password protection. I need to add tests in the views
    Reverting an aspect of pssword protected posts: if we don't hide the protected posts to logged in users, the supposely hidden post will be cached...
    Adding password protected posts. Things are done 100% AJAX because of the static cache. Logged in users are considered as being able to see a protected post. Protected posts content is removed from RSS feed. Need to add some specs, it's curious to see that they didn't break
    Just realized that _all_ our themes were borked because of untested constant read controller and action renaming. How was it possible for so loooong?
    Fixes a behaviour with read more link being displayed even when extended content is void. Closes ticket #134
    Fixes excerpt behavior (ticket 65)
    
    Expected behavior:
    
    if we are on the main index or browsing a category or a tag
      if we have an excerpt
        show the excerpt
      else
        show article body
        if we have an extended part
          show link to extended
        end
      end
    else we're browsing an article
      show article body
      if we have an extended part
        show extended
      end
    end
    Remove use of simple_format
    This reverts commits a137b958daf8f791e0bd63932dcdb78ef05d3b7b and
    10cff9dbaa740a1505697f1c8a32565aa83d8435
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Adds simple_format to comments and posts output. Changes \n to <br /> and \n\n to </p>
    Adds some more localization
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1653 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix brocken atom link in the themes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1640 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Made views respect the published/unpublished state of any feedback
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1249 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix another created_at/published_at.  Closes #999
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1128 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix leaked i18n
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1093 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix article link in scribbish. Closes #977
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1090 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Simplify render in views: themes and articles.
    Added article preview, not the cleanest way, but at least it works
    FIxing a scribbish typo
    doesn't display the comment form if the auto_close comment is activate. It's made on all official theme. User @article.comments_closed? if you want check that. Not only @article.allow_comment?. Starting fixing issue #1303
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Some tweaks to commenting. And some tweaks to scribbish to make it play nicely with
    commenting.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1394 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    Made views respect the published/unpublished state of any feedback
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1249 820eb932-12ee-0310-9ca8-eeb645f39767
    A couple of scribbish fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1247 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Eliminated the :controller/:action/:id default route, which works around
    the big nasty Rails Security Hole.
    
    It turns out we relied on it in all sorts of strange places. So I fixed that
    too.
    
    Expect a new Typo release real soon now.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1210 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Move theme layouts under their views directory.
    
    This way, we can specify the layout using a relative path, which will avoid
    looking for it in all plugins' view paths.
    Replace @content_for_layout with yield.
    
    @content_for_layout no longer works.
    Fixes [#120]
    Move the search in sidebar. No define in layout
    
    [#38 state:resolved]
    Satisfy warnings in themes: don't put space before argument parentheses.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed a bug with /articles/category/whatever throwing a 500.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1520 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix some issues with the Scribbish Haml-izing
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1353 820eb932-12ee-0310-9ca8-eeb645f39767
    More 4.1 cleanups.  Complete move from serialized canonical_server_url to non-serialized base_url.
    Add a bunch of rdoc.  More deprecations and cleanups.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1242 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed all the themes I broke with the last two patches
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1212 820eb932-12ee-0310-9ca8-eeb645f39767
    Eliminated the :controller/:action/:id default route, which works around
    the big nasty Rails Security Hole.
    
    It turns out we relied on it in all sorts of strange places. So I fixed that
    too.
    
    Expect a new Typo release real soon now.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1210 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove reference to missing application.js in scribbish.  Closes #985
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1102 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Adding new dark theme to Typo. Code name: true red. Original isn't it?
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Mass-removal of trailing whitespace.
    Removes the background on fields
    Adds link on the comment count and replaces the french button (no one told me about this?) on the comment form
    Some cleaning and a bit of refactoring
    Improves IE6 and IE7 compatibility
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding new dark theme to Typo. Code name: true red. Original isn't it?
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding new dark theme to Typo. Code name: true red. Original isn't it?
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Updates TB3 header
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding new dark theme to Typo. Code name: true red. Original isn't it?
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding new dark theme to Typo. Code name: true red. Original isn't it?
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Adds link on the comment count and replaces the french button (no one told me about this?) on the comment form
    Adding new dark theme to Typo. Code name: true red. Original isn't it?
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Mass-removal of trailing whitespace.
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Make themes use new password-protected article partials.
    Simplify render in views: themes and articles.
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Mass-removal of trailing whitespace.
    Fixes some nasty bugs with password protection. I need to add tests in the views
    Fixes a bug in the categories view. Closes ticket #132
    Some cleaning and a bit of refactoring
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Replacing old will_paginate with scope based Kaminari.
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Some cleaning and a bit of refactoring
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Move comment partial under comments/.
    
    This allows us to simplify rendering comment collections. For backward
    compatibility of older themes, articles/comment renders comments/comment.
    Removes old js_distance_of_time_to_now which becomes a plugin. To avoid breaking everything the old method is kept and calls the new one.
    Makes all themes support the new way of displaying date and time.
    Makes the new way of displaying date and time "xxx ago" aware.
    Adding a no/do follow policy on the whole blog. Admin can now chose between nofollow and dofollow in the comments and comments author URL.
    
    For now this is a bit "raw" and may need some improvement:
    1- allow admin to chose after how many comments a visitor is dofollowed, for example 3, but this would have an impact on performances: each time a comment is rendered, Typo would do a select count(*) based on the author email address.
    2- improve comment moderation to have an email sent even though the comment was not published, or any other way to moderate comments. I need to think about it without breaking / recoding our state machine.
    
    Oh, and this indeed come with a bunch of tests that shows I haven't broken anything.
    Complete front implementation for plugin_avatar (every theme fixed)
    Mass-removal of trailing whitespace.
    Some cleaning and a bit of refactoring
    Removes a french string, fixes a typo
    Removes a french string
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Replacing old will_paginate with scope based Kaminari.
    Simplify render in views: themes and articles.
    Upgrading to Rails 3.0.7.
    
    Some specs are still failing. 2 new, Active Record related and 2 old.
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Make all theme text translatable.
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing tests before release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1736 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix up retrieval of use_recaptcha setting in views.
    Add reCaptcha support to the True Red theme.
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Replace deprecated <% %> helper calls with <%= %> in themes.
    Adds link on the comment count and replaces the french button (no one told me about this?) on the comment form
    Some cleaning and a bit of refactoring
    Don't use absolute paths for images: Makes sub-URI deployment work.
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Some cleaning and a bit of refactoring
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Make all theme text translatable.
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Replace remaining calls to gravatar_tag.
    Remove use of simple_format
    This reverts commits a137b958daf8f791e0bd63932dcdb78ef05d3b7b and
    10cff9dbaa740a1505697f1c8a32565aa83d8435
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Adds simple_format to comments and posts output. Changes \n to <br /> and \n\n to </p>
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing tests before release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1736 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    A couple of scribbish fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1247 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Make themes use new password-protected article partials.
    Make all theme text translatable.
    Simplify render in views: themes and articles.
    Removes old js_distance_of_time_to_now which becomes a plugin. To avoid breaking everything the old method is kept and calls the new one.
    Makes all themes support the new way of displaying date and time.
    Makes the new way of displaying date and time "xxx ago" aware.
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Mass-removal of trailing whitespace.
    Fixes some nasty bugs with password protection. I need to add tests in the views
    Reverting an aspect of pssword protected posts: if we don't hide the protected posts to logged in users, the supposely hidden post will be cached...
    Adding password protected posts. Things are done 100% AJAX because of the static cache. Logged in users are considered as being able to see a protected post. Protected posts content is removed from RSS feed. Need to add some specs, it's curious to see that they didn't break
    Just realized that _all_ our themes were borked because of untested constant read controller and action renaming. How was it possible for so loooong?
    Fixes a cool bug that just wiped your article at the autosave when using CKEditor. Nice isn't it?
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Remove duplicate comment_list partials.
    Simplify render in views: themes and articles.
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Some cleaning and a bit of refactoring
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Replacing old will_paginate with scope based Kaminari.
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Fixes a bug in the search + drops a French string that had nothing to do here
    Some cleaning and a bit of refactoring
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Make themes use new password-protected article partials.
    Make themes use new password-protected article partials.
    Factor password-protected article view logic into partials.
    Make themes use new password-protected article partials.
    Simplify render in views: themes and articles.
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Fixes some nasty bugs with password protection. I need to add tests in the views
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Replacing old will_paginate with scope based Kaminari.
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Move theme layouts under their views directory.
    
    This way, we can specify the layout using a relative path, which will avoid
    looking for it in all plugins' view paths.
    Replace @content_for_layout with yield.
    
    @content_for_layout no longer works.
    Mass-removal of trailing whitespace.
    Some cleaning and a bit of refactoring
    Don't use absolute paths for images: Makes sub-URI deployment work.
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Makes themes helpers utf-8 aware for ruby 1.9.2
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Simplify link_to_permalink and make it html_safe.
    
    This also means True Blue 3's ThemeHelper#show_pages_links can be
    call html_safe a lot less.
    Fixes the default themes helper adding some html_safe thing
    Mass-removal of trailing whitespace.
    Adds link on the comment count and replaces the french button (no one told me about this?) on the comment form
    Some cleaning and a bit of refactoring
    Fixes a typo
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    First commit for a new dark template. This commit is absolutely useless yet, but I need to switch from my desktop to my laptop so...
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Some cleaning and a bit of refactoring
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Mass-removal of trailing whitespace.
    Removes the background on fields
    Adds link on the comment count and replaces the french button (no one told me about this?) on the comment form
    Some cleaning and a bit of refactoring
    Improves IE6 and IE7 compatibility
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Updates TB3 header
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adds link on the comment count and replaces the french button (no one told me about this?) on the comment form
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Mass-removal of trailing whitespace.
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Make themes use new password-protected article partials.
    Simplify render in views: themes and articles.
    Mass-removal of trailing whitespace.
    Fixes some nasty bugs with password protection. I need to add tests in the views
    Fixes a bug in the categories view. Closes ticket #132
    Some cleaning and a bit of refactoring
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Replacing old will_paginate with scope based Kaminari.
    Some cleaning and a bit of refactoring
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Move comment partial under comments/.
    
    This allows us to simplify rendering comment collections. For backward
    compatibility of older themes, articles/comment renders comments/comment.
    Removes old js_distance_of_time_to_now which becomes a plugin. To avoid breaking everything the old method is kept and calls the new one.
    Makes all themes support the new way of displaying date and time.
    Makes the new way of displaying date and time "xxx ago" aware.
    Adding a no/do follow policy on the whole blog. Admin can now chose between nofollow and dofollow in the comments and comments author URL.
    
    For now this is a bit "raw" and may need some improvement:
    1- allow admin to chose after how many comments a visitor is dofollowed, for example 3, but this would have an impact on performances: each time a comment is rendered, Typo would do a select count(*) based on the author email address.
    2- improve comment moderation to have an email sent even though the comment was not published, or any other way to moderate comments. I need to think about it without breaking / recoding our state machine.
    
    Oh, and this indeed come with a bunch of tests that shows I haven't broken anything.
    Complete front implementation for plugin_avatar (every theme fixed)
    Mass-removal of trailing whitespace.
    Some cleaning and a bit of refactoring
    Removes a french string, fixes a typo
    Removes a french string
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Replacing old will_paginate with scope based Kaminari.
    Simplify render in views: themes and articles.
    Upgrading to Rails 3.0.7.
    
    Some specs are still failing. 2 new, Active Record related and 2 old.
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Make all theme text translatable.
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing tests before release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1736 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix up retrieval of use_recaptcha setting in views.
    Fixed gem requirement and added reCaptcha form to default true-blue theme
    Replace deprecated <% %> helper calls with <%= %> in themes.
    Adds link on the comment count and replaces the french button (no one told me about this?) on the comment form
    Some cleaning and a bit of refactoring
    Don't use absolute paths for images: Makes sub-URI deployment work.
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Some cleaning and a bit of refactoring
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Make all theme text translatable.
    Replace remaining calls to gravatar_tag.
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Remove use of simple_format
    This reverts commits a137b958daf8f791e0bd63932dcdb78ef05d3b7b and
    10cff9dbaa740a1505697f1c8a32565aa83d8435
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Adds simple_format to comments and posts output. Changes \n to <br /> and \n\n to </p>
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing tests before release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1736 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    A couple of scribbish fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1247 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Make themes use new password-protected article partials.
    Make all theme text translatable.
    Simplify render in views: themes and articles.
    Mass-removal of trailing whitespace.
    Fixes some nasty bugs with password protection. I need to add tests in the views
    Reverting an aspect of pssword protected posts: if we don't hide the protected posts to logged in users, the supposely hidden post will be cached...
    Adding password protected posts. Things are done 100% AJAX because of the static cache. Logged in users are considered as being able to see a protected post. Protected posts content is removed from RSS feed. Need to add some specs, it's curious to see that they didn't break
    Just realized that _all_ our themes were borked because of untested constant read controller and action renaming. How was it possible for so loooong?
    Fixes a cool bug that just wiped your article at the autosave when using CKEditor. Nice isn't it?
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Remove duplicate comment_list partials.
    Simplify render in views: themes and articles.
    Some cleaning and a bit of refactoring
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Replacing old will_paginate with scope based Kaminari.
    Fixes a bug in the search + drops a French string that had nothing to do here
    Some cleaning and a bit of refactoring
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Make themes use new password-protected article partials.
    Make themes use new password-protected article partials.
    Factor password-protected article view logic into partials.
    Make themes use new password-protected article partials.
    Simplify render in views: themes and articles.
    Fixes some nasty bugs with password protection. I need to add tests in the views
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Replacing old will_paginate with scope based Kaminari.
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Move theme layouts under their views directory.
    
    This way, we can specify the layout using a relative path, which will avoid
    looking for it in all plugins' view paths.
    Replace @content_for_layout with yield.
    
    @content_for_layout no longer works.
    Mass-removal of trailing whitespace.
    Some cleaning and a bit of refactoring
    Don't use absolute paths for images: Makes sub-URI deployment work.
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Makes themes helpers utf-8 aware for ruby 1.9.2
    Simplify link_to_permalink and make it html_safe.
    
    This also means True Blue 3's ThemeHelper#show_pages_links can be
    call html_safe a lot less.
    Fixes the default themes helper adding some html_safe thing
    Mass-removal of trailing whitespace.
    Adds link on the comment count and replaces the french button (no one told me about this?) on the comment form
    Some cleaning and a bit of refactoring
    Fixes a typo
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Adding new theme True Blue 3 as default theme. Paint is still wet, and there may be 1 or 2 French String remaining. Theme is brocken on IE6 too, needs some CSS fixes for this
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1578 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1578 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Some more admin enhancement
    Added typo:code stylesheet
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1688 820eb932-12ee-0310-9ca8-eeb645f39767
    Tests passing. Rails 2.0.2 required. I think we may be good to go for 5.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1602 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1578 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1578 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1578 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1578 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1578 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1578 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1578 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1578 820eb932-12ee-0310-9ca8-eeb645f39767
    Move comment partials to their appropriate location in themes.
    Removes old js_distance_of_time_to_now which becomes a plugin. To avoid breaking everything the old method is kept and calls the new one.
    Makes all themes support the new way of displaying date and time.
    Makes the new way of displaying date and time "xxx ago" aware.
    Adding a no/do follow policy on the whole blog. Admin can now chose between nofollow and dofollow in the comments and comments author URL.
    
    For now this is a bit "raw" and may need some improvement:
    1- allow admin to chose after how many comments a visitor is dofollowed, for example 3, but this would have an impact on performances: each time a comment is rendered, Typo would do a select count(*) based on the author email address.
    2- improve comment moderation to have an email sent even though the comment was not published, or any other way to moderate comments. I need to think about it without breaking / recoding our state machine.
    
    Oh, and this indeed come with a bunch of tests that shows I haven't broken anything.
    Complete front implementation for plugin_avatar (every theme fixed)
    Remove use of simple_format
    This reverts commits a137b958daf8f791e0bd63932dcdb78ef05d3b7b and
    10cff9dbaa740a1505697f1c8a32565aa83d8435
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Adds simple_format to comments and posts output. Changes \n to <br /> and \n\n to </p>
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Some tweaks to commenting. And some tweaks to scribbish to make it play nicely with
    commenting.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1394 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    Scribbish update 1.  Closes #1099
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1271 820eb932-12ee-0310-9ca8-eeb645f39767
    Made views respect the published/unpublished state of any feedback
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1249 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old will_paginate with scope based Kaminari.
    Simplify render in views: themes and articles.
    Fix invalid p>div nesting.
    Getting rid of the worse piece of code ever, multiplies Typo perfs by 10 when calling articles/index (see http://t37.net/ya-pas-comme-un-truc-qui-vous-fait-hurler-li)
    Getting rid of classic pagination for will_paginate
    Revamping the dashboard, step 1
    Revamping login form step 1
    cleaning admin/css step 1
    migrating default themes to will_paginate
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing tests before release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1736 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed a bug with /articles/category/whatever throwing a 500.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1520 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Make all theme text translatable.
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing tests before release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1736 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Added the recaptcha tag to non standards templates
    Make all theme text translatable.
    Remove optional 'gravatar enabled' statement.
    
    If wanted, it can probably be replaced by some statement dependent on the
    plugin. I do not see the need, however.
    Replace deprecated <% %> helper calls with <%= %> in themes.
    Don't use absolute paths for images: Makes sub-URI deployment work.
    fix some spec
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1578 820eb932-12ee-0310-9ca8-eeb645f39767
    Make all theme text translatable.
    Replace remaining calls to gravatar_tag.
    Remove use of simple_format
    This reverts commits a137b958daf8f791e0bd63932dcdb78ef05d3b7b and
    10cff9dbaa740a1505697f1c8a32565aa83d8435
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Adds simple_format to comments and posts output. Changes \n to <br /> and \n\n to </p>
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing tests before release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1736 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    A couple of scribbish fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1247 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Make themes use new password-protected article partials.
    Make all theme text translatable.
    Simplify render in views: themes and articles.
    Removes old js_distance_of_time_to_now which becomes a plugin. To avoid breaking everything the old method is kept and calls the new one.
    Makes all themes support the new way of displaying date and time.
    Makes the new way of displaying date and time "xxx ago" aware.
    (fix_themes) Added html_safe in scribbish, dirtylicious and typographic themes
    Mass-removal of trailing whitespace.
    Fixes some nasty bugs with password protection. I need to add tests in the views
    Reverting an aspect of pssword protected posts: if we don't hide the protected posts to logged in users, the supposely hidden post will be cached...
    Adding password protected posts. Things are done 100% AJAX because of the static cache. Logged in users are considered as being able to see a protected post. Protected posts content is removed from RSS feed. Need to add some specs, it's curious to see that they didn't break
    Just realized that _all_ our themes were borked because of untested constant read controller and action renaming. How was it possible for so loooong?
    Fixes a behaviour with read more link being displayed even when extended content is void. Closes ticket #134
    Fixes excerpt behavior (ticket 65)
    
    Expected behavior:
    
    if we are on the main index or browsing a category or a tag
      if we have an excerpt
        show the excerpt
      else
        show article body
        if we have an extended part
          show link to extended
        end
      end
    else we're browsing an article
      show article body
      if we have an extended part
        show extended
      end
    end
    Remove use of simple_format
    This reverts commits a137b958daf8f791e0bd63932dcdb78ef05d3b7b and
    10cff9dbaa740a1505697f1c8a32565aa83d8435
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Adds simple_format to comments and posts output. Changes \n to <br /> and \n\n to </p>
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix brocken atom link in the themes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1640 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1578 820eb932-12ee-0310-9ca8-eeb645f39767
    Make all theme text translatable.
    Simplify render in views: themes and articles.
    Added article preview, not the cleanest way, but at least it works
    Fixing a Typo in Dirtylicious theme
    doesn't display the comment form if the auto_close comment is activate. It's made on all official theme. User @article.comments_closed? if you want check that. Not only @article.allow_comment?. Starting fixing issue #1303
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing tests before release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1736 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing Standard issue, Typo 5.0 new default theme.
    Removing azure from trunk.
    
    2 reasons for this :
    – we need to change things sometimes.
    – justin is now officially supporting Mephisto.
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1566 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Some tweaks to commenting. And some tweaks to scribbish to make it play nicely with
    commenting.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1394 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting HAML stuff, keeping the code around to add it back one day
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1374 820eb932-12ee-0310-9ca8-eeb645f39767
    Haml-ize Scribbish
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1350 820eb932-12ee-0310-9ca8-eeb645f39767
    Made views respect the published/unpublished state of any feedback
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1249 820eb932-12ee-0310-9ca8-eeb645f39767
    A couple of scribbish fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1247 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Eliminated the :controller/:action/:id default route, which works around
    the big nasty Rails Security Hole.
    
    It turns out we relied on it in all sorts of strange places. So I fixed that
    too.
    
    Expect a new Typo release real soon now.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1210 820eb932-12ee-0310-9ca8-eeb645f39767
    Add scribbish theme.  Still considering adding one more.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1084 820eb932-12ee-0310-9ca8-eeb645f39767
    Move theme layouts under their views directory.
    
    This way, we can specify the layout using a relative path, which will avoid
    looking for it in all plugins' view paths.
    Replace @content_for_layout with yield.
    
    @content_for_layout no longer works.
    Mass-removal of trailing whitespace.
    Fixes [#120]
    Move the search in sidebar. No define in layout
    
    [#38 state:resolved]
    Satisfy warnings in themes: don't put space before argument parentheses.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Replacing default live search with real search. Adding live search as a plugin instead
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    adding new default theme, it's time for release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1735 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Wondering why we still bring HAML since we've switched back to rhtml almost 1 year ago.
    
    Reverting a fix in the .htaccess, because it may not work that way, but it actually DOES.
    
    Fixing a Typo (what else) in a theme
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1641 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1578 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Fix library loading for BackendController and its spec.
    
    ActionWebService::Protocol::Discovery uses write_inheritable_array to
    register protocols. Due to the order of library loading, during testing
    only, the ApplicationController class would be created before
    ActionWebService::Protocol::XmlRpc was registered in
    ActionController::Base. This meant BackendController needed to include
    ActionWebService::Protocol::XmlRpc again in the specs to register it.
    
    By requiring 'action_web_service' in environment.rb with the other included
    libraries, we make sure it is loaded early enough to avoid this.
    
    Also, some other unneccesary require statements were removed from the spec.
    Incorporate actionwebservice.
    
    The actionwebservice gem is not officially maintained anymore. Rather than
    take over maintenance of that gem, incorporate its library files into Typo.
    Unused parts will be removed later.
    Adding Rails3 generated stuff
    Moving dependencies to Bundler
    Enforce use of 0.3 version of i18n gem.
    
    Version 0.4.1 will throw deprecation warnings for {{key}} style
    interpolations. We will get to that eventually, but for now it's just a
    distracting warning.
    Replace the bundled rubypants with a dependency on the 0.2.0 gem.
    Update files to match what Rails 2.3.8 generates.
    Mass-removal of trailing whitespace.
    Replace bundled copy of flickr with a dependency on the gem.
    
    Update the plugin for the correct API call.
    (cherry picked from commit 96b6343e6914627558375f8358a9afd2f30d7cb6)
    Upgrading mini magick to 1.3
    Replacing old bundled UUID tools by the 2.x maintained gem
    Workaround to a Rails 2.3.8 bug, see https://rails.lighthouseapp.com/projects/8994/tickets/4695-string-added-to-rails_helpers-gets-html-escaped for more information.
    Upgrading to Rails 2.3.8. I had to backport some Rails 2.3.5 deprecation and fork actionwebservice to upgrade it to Rails 2.3.8. I think we will definitely use our own version since we may be the latest on earth to use it.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Moves cache to public/cache. Ditches database use for cache storing. Please, read doc/CACHE.SETUP.README to setup the new cache system, otherwise Typo now runs smoothly without cache, I've been running it cacheless for months on a fairly crowded blog without even knowing it
    switch to gems from rubygems
    Quit using the database to store sessions. Rails seems to never clean it (mine has 333718 rows after a week) and it seems to make Typo use more memory. Back to old cookie store"
    Dropping RMagick support for mini_magick way lighter. RMagick destroyed all the work on memory use we did for the last 6 months
    Adds a first draft for Typo images library
    Ignore HTTP Accept headers: stops your cached index.html looking like an
    atom feed.
    Upgrading to Rails 2.3.5, switching to panztel-actionwebservice since neither Datanoise no Doughbart seems to support it anymore
    Workaround for %d problem.
    update to Rails 2.3.4 (security fix)
    Convert IRIs to URIs for inclusion in RSS feed.
    Use doughbarth-actionwebservice gem (2.3.3), since it matches Rails 2.3.3.
    Only need one config.gem line for coderay
    Only need one config.gem line for coderay
    Use regular gem mechanism for actionwebservice.
    use redcloth by gem not freeze it (in release we can freeze it)
    fix error on test and use will_paginate last version by gem instead of by plugin
    update to rails 2.3.3
    config file cleanup
    update to bluecloth to 2.0.5
    add datanoise actionwebservice 2.3.2
    add rails gem dependencies
    Fixes a missing gem
    Doing some cleaning removing typo_deprecated lib.
    Commenting database autoload since it adds connections everytime a page is loaded for no reason. We need to find out something else
    A bit more cleaning
    WTF sparkline default support in Typo ? This is crazy
    Removing cached_model + memcache, useless since we're now doing static caching. First step for Typo diet
    Replacing old bluecloth with bluecloth 2. Externalising bluecloth gem to avoid C based issue
    Vendoring will_paginate and AWS for the next release, in order to avoid conflicts
     Use Calendar_date_select instead_of datetime_select in create article
    
    [#31 state:resolved]
    update will_paginate gem. Fix issue #11?
    There's a rails 2.2.2 bug when adding config.gem to rspec forcing the use of test database. A ticket is currently opened at http://rails.lighthouseapp.com/projects/8994-ruby-on-rails/tickets/1834-adding-rspec-rails-in-configgem-forces-the-use-of-test-database for more information.
    Forcing source download for github located gems
    Ensure use of rails gem 2.2.2
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Remove rails module so typo uses rails gem
    Use gems instead of plugins
    Declare gems in environment to allow auto-install
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Properly load actionwebservice in environment.rb
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Removing old caches_actions_with params, caches_page is enough, less ressource consumming and much better
    add json like dependency. Not using it only when see theme catalogue
    add htmlentities like dependencies of typo
    Update bundled coderay gem to use new 'rake gems' infrastructure
    
    The bundled coderay gem was causing a number of errors on application
    startup (and when running rake tasks).
    
      config.gem: Unpacked gem coderay in vendor/gems has no specification
        file. Run 'rake gems:refresh_specs' to fix this.
      config.gem: Unpacked gem coderay in vendor/gems not in a versioned
        directory. Giving up.
    
    Unfortunately, 'rake gems:refresh_specs' wouldn't work, because coderay
    didn't have a "versioned directory".  A versioned directory has a name of
    the form:
    
      vendor/gems/mygem-VERSION
    
    The easiest way to manage gems in Rails 2.2.2 is to use 'config.gem'
    statements in environment.rb.  So I added the appropriate line to
    environment.rb and ran:
    
      rake gems:unpack
    
    You can see the status of all declared gems using 'rake gems', and there
    are a variety of useful rake tasks for working with these declarations.
    
    I haven't touched anything else in the vendor/ directory, because
    everything else works as-is with Rails 2.2.2.
    add coderay support on typo:code. Needed some test like about linenumber
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    Removes the last Jabber dependencies
    Removes the option for simple editor with Live Preview
    Fix a typo
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1713 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed bug 1231, adding routes for paginated categories and comments
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1706 820eb932-12ee-0310-9ca8-eeb645f39767
    Ditching Jabber notification, amongst other things
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1702 820eb932-12ee-0310-9ca8-eeb645f39767
    Tests passing. Rails 2.0.2 required. I think we may be good to go for 5.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1602 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds a "setup" in the environment.rb, running migrations if the table session doesn't exist.
    
    I wanted to create a cool setup page allowing the user a 1 click install like on many blogwares, catching an exception in the application.rb. It seems that rails tries to select from the sessions table before my application can do anything and throw an exception resulting in a 500 error. So, the only place to put that code snippet was in application.rb. Irk !
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1589 820eb932-12ee-0310-9ca8-eeb645f39767
    Language is now set from the admin pannel and not from environment.rb anymore
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1560 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    – Fixed a few bugs
    – Added the week in refactoring patch
    – Added the rights table and the profile to rights one.
    – Populated the new tables.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1494 820eb932-12ee-0310-9ca8-eeb645f39767
    Added limits to CommentsController#index
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1475 820eb932-12ee-0310-9ca8-eeb645f39767
    fix a stupid typo and add more functionnalities in the rich editor
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1406 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the text filters not loading bug
    Changes the design destination menu from themes to sidebar
    Reverts the changeset 1403 : including the whole contents tables was really a bad idea and made every posts crash with a fairly decent blog.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1405 820eb932-12ee-0310-9ca8-eeb645f39767
    Few bug fixes, translated the plugins frontends, added some things here and there. The CSS code in the template is done on prpose, otherwise it doesn't work
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1391 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a trick to load localization before other plugins
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1382 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Stop pre-populating the blog_id_for cache - it breaks migration from versions that don't have Blog.blog_url.
    Also switch to a class var rather than global, since it's only ever accessed directly from that class. Sure, development environment will lose the cache between requests, but I don't think that's necessarily a bad thing
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1341 820eb932-12ee-0310-9ca8-eeb645f39767
    First step on a long needed refactoring. We're splitting the contents table into
    two. We now have a contents table, which contains Pages and Articles, and a
    Feedback table, which contains Comments and Trackbacks. There's still a bunch of
    null columns in each table, and the indexing needs tweaking, but it's a start.
    
    NB: The migration is untested on anything but my Mysql installation and if it
    goes wrong you stand to lose all your feedback. So take a backup before you
    try it. The Migration itself throws an exception by default to remind you to do the
    backup. Comment it out once you're safe (or brave/foolhardy).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1302 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Doing Blog.find_by_base_url(...) for every single request when the mapping
    from base url to blog id changes once a flood and Blog.find(<id>) is,
    putting it mildly, rather quicker, seems somewhat silly.
    
    So now we calculate a mapping from base url to blog id in environment.rb and
    use that. Doing this actually reduces the query count for index pages etc,
    because before we were doing one find by base url and then later populating the
    instance cache via a find by id.
    
    Whee! More performance fixes coming your way soon.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1281 820eb932-12ee-0310-9ca8-eeb645f39767
    Mmm... instance caching... you know you *want* it!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1280 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix missed dependency on components patch
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1262 820eb932-12ee-0310-9ca8-eeb645f39767
    Turned concurrency back off and made the ping code not touch the database within its subthreads.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1255 820eb932-12ee-0310-9ca8-eeb645f39767
    All sorts of tweaks and cleanups.
    
    Mainly, the feedback state machine has got a little more complex, allowing
    us to add a 'Content#publication_state_just_changed?' method. And having
    such a method means that there's now a bunch of places where we used to
    sweep the cache unnecessarily, but now we just don't sweep the cache.
    Which is no bad thing. Cache misses are bad m'kay?
    
    Also, I've rejigged the SpamProtection package, applying the Composed
    Method pattern, reordering some of the tests and generally making it try
    to decide quicker.
    
    There's lots more work to do here, but this will do for starters.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1253 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed an issue with Postgres blowing up when trying to send a ping in the background.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1173 820eb932-12ee-0310-9ca8-eeb645f39767
    Include akismet.rb.  Not actually used quite yet, but soon.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1070 820eb932-12ee-0310-9ca8-eeb645f39767
    Web notifications (trackbacks, pingbacks that stuff) are now triggered from
    the WebNotifier content observer.
    
    Note that we've now added a new setting to Blog 'default_server_url' as a
    fallback for finding the blog's base url. If you're experiencing problems
    (I don't think you should be, it's only currently an issue in the tests and
    our blog fixtures has an appropriate url set), go to your /admin page and
    set the default url there (it should pick up a sensible default, so you can
    just check that for sanity and hit save if you like).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1046 820eb932-12ee-0310-9ca8-eeb645f39767
    Started the process of moving 'on publication' behaviour out of controllers and
    apis and onto observers. The observer implementations are currently just simple
    callbacks onto the content objects, but that may change in the medium to long
    term.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1043 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied #844. Many thanks to Sam Ruby
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1035 820eb932-12ee-0310-9ca8-eeb645f39767
     r1421@obelisk:  pdcawley | 2006-03-31 16:03:05 +0100
     Moved the fragment cache to the default for Rails 1.1 and added that target directory to the repository
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@981 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Move plugin.rb to typo_plugin.rb, and clean up textfilters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@960 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove some requires that aren't needed
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@959 820eb932-12ee-0310-9ca8-eeb645f39767
    Rename jabber.rb to jabber_notify.rb
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@958 820eb932-12ee-0310-9ca8-eeb645f39767
    Rename guid.rb to typo_guid.rb
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@957 820eb932-12ee-0310-9ca8-eeb645f39767
    Rename email.rb to email_notify.rb
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@956 820eb932-12ee-0310-9ca8-eeb645f39767
    Clean up Rails version detection
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@954 820eb932-12ee-0310-9ca8-eeb645f39767
    Total 1.0/1.1 cleanitude.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@953 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting [948], it did in fact break 1.0 support. I think it is ok to break 1.0 support as long as we introduce full 1.1 support, but let's not do it without telling anyone. If you want to do partial 1.1 fixes like this, it might be better to do it in a branch for now. I don't know about you, but I do not want to have people tell me they upgraded to HEAD and now neither 1.0 or 1.1 work
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@950 820eb932-12ee-0310-9ca8-eeb645f39767
    Initial work to make Typo work with 1.1.  Test still fail, but we're at least mostly
    functional.  I have a couple other commits to make before we're up to 100%.  This
    *should* work with 1.0, but it's untested.
    
    
    Scott
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@948 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove DEFAULT_BLOG_ID, it won't be useful when we have actual multi-blog support, and for now since we only have one Blog instance it also isn't useful.
    Fix the this_blog.blog_name issue. My guess is redirect_to, for whatever reason, avoids running after_filters, and so $blog was never getting reaped, and a stale Blog object somehow loses its settings methods. The before_filter now explicitly finds/creates a new Blog instance
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@937 820eb932-12ee-0310-9ca8-eeb645f39767
    Add Magnolia sidebar. Fixes #723
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@927 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds the time-limited action cache discussed on
    http://scottstuff.net/blog/articles/2006/01/20/time-limited-caching-for-rails
    to Typo.  This includes a new fragment cache plugin that allows individual items
    to expire from the cache after a certain deadline, and a replacement for the
    action cache that fixes a few action cache bugs (query param handling and error
    caching) and adds simple support for limiting the lifespan of cached pages.
    
    To add a limited lifespan to any page, just set response.lifetime in any controller
    or component.  See the Flickr sidebar for an example--right now, any Typo page
    that includes the Flickr sidebar will only be cached for 1 hour.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@852 820eb932-12ee-0310-9ca8-eeb645f39767
    Centralize the Flickr API key in environment.rb so everybody can use it without duplication
    Add the ability to use non-Flickr images with Lightbox
    Fixes #664.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@850 820eb932-12ee-0310-9ca8-eeb645f39767
     r740@Menhir:  pdcawley | 2005-12-08 00:54:14 +0000
     Fixed an embarrassing problem with ArticlesController.include_protected that
     meant some tests failed. I could have sworn I ran them before checkin, but
     apparently not.
    
     Also made boolean handling more consistent (for the known booleans in the
     schema, I shall be attacking the unknown ones later). For the record, booleans
     are set with 'object.boolean_attrib = true/false' and queried with
     'object.boolean_attrib?'. You should not use the '?' form, and you should
     also strive to name boolean attribs so that it's obvious they are booleans.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@787 820eb932-12ee-0310-9ca8-eeb645f39767
     r735@Menhir:  pdcawley | 2005-12-07 20:08:09 +0000
     Moved render_fix into application_helper.rb, where it works using "super" and no need to rename ActionView::Base#render_fix. Hurrah!
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@785 820eb932-12ee-0310-9ca8-eeb645f39767
     r731@Menhir:  pdcawley | 2005-12-07 19:41:38 +0000
     lib/rails_patch must die! One file at a time
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@784 820eb932-12ee-0310-9ca8-eeb645f39767
     r717@Menhir:  pdcawley | 2005-12-06 10:33:48 +0000
     Moved the "transform" methods onto the String class and loaded transforms in the evironment
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@775 820eb932-12ee-0310-9ca8-eeb645f39767
    Really, really strip Javascript from comments.  Closes #551
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@763 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Almost done with revision file
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@741 820eb932-12ee-0310-9ca8-eeb645f39767
    Move renderfix to rails_patch/ directory
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@721 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrade Typo to run with Rails 0.14.1 (AKA 1.0rc2)
    
    This required a few minor changes, and I took the opportunity to do a bit of
    refactoring that I'd been avoiding for a while--text filters no longer use
    render() to do their filtering.  That was broken with 1.0, and I've been
    meaning to fix it anyway.
    
    All tests now pass for me, but I haven't tested it extensively outside of
    the unit test system, so be careful.
    
    This may or may not work with 0.13.1--there's no reason why it shouldn't, but
    it's untested.  I'm going to include a few 1.0rc2-specific cleanups soon, so
    the days of the trunk working with 0.13.1 are numbered.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@685 820eb932-12ee-0310-9ca8-eeb645f39767
    Force Rails 0.13.1 for now; this will limit the number of weird bug reports that we get when 1.0rc comes out.  We'll try to move the trunk to the new release as quickly as possible, of course.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@677 820eb932-12ee-0310-9ca8-eeb645f39767
    More performance updates.  Reduced logging in sidebar; this gives 2x performance on my test system.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@669 820eb932-12ee-0310-9ca8-eeb645f39767
    Actually refuse to accept new trackbacks if allow_pings is false
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@659 820eb932-12ee-0310-9ca8-eeb645f39767
    Switch from ad-hoc MD5 unique IDs to Bob Aman's RFC-compliant UUIDTools.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@652 820eb932-12ee-0310-9ca8-eeb645f39767
    Add GUIDs to comments and trackbacks, and clean up Article GUID code.  Use GUIDs in Atom 1.0 feeds because our old IDs were nasty and not unique.  Still thinking about adding them to RSS 2.0 and Atom 0.3; it'll be user-visible if we change them.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@636 820eb932-12ee-0310-9ca8-eeb645f39767
    Give themes the ability to override views.  (closes #354)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@578 820eb932-12ee-0310-9ca8-eeb645f39767
     * Bundle syntax module (closes #350)
     * Explicitly require 'application' in TextfilterController, otherwise script/console is broken because of the inability to require 'application_controller' (derived from the TextfilterController inheritance)
     * Wrap text_filter_id assignment in Article#set_defaults in a schema_version check to fix migrations from farther back
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@571 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    Added Audioscrobbler Sidebar Plugin (closes #265) [ben@incomumdesign.com]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@561 820eb932-12ee-0310-9ca8-eeb645f39767
    File uploads, by atmos.  (closes #301)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@534 820eb932-12ee-0310-9ca8-eeb645f39767
    removed ugly theme_system.rb in favor of a proper Theme model
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@437 820eb932-12ee-0310-9ca8-eeb645f39767
    redcloth, bluecloth and rubypants are now bundeled with typo
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@420 820eb932-12ee-0310-9ca8-eeb645f39767
    another take on the theming system
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@418 820eb932-12ee-0310-9ca8-eeb645f39767
    moved the migration code to lib/migrator.rb and disabled auto migration redirect during test mode to give test cases a break
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@410 820eb932-12ee-0310-9ca8-eeb645f39767
    Added back ability to edit article creation date (via advanced options) which was apparently lost during the admin interface transition. Applied a little formatting to the dump of article stats in ArticleController#show
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@399 820eb932-12ee-0310-9ca8-eeb645f39767
    Configurable sidebars.  (closes #157, #103)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@364 820eb932-12ee-0310-9ca8-eeb645f39767
    backed out of timezone stuff compleatly. Ignorance is bliss.
    
    That shit is hard.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@341 820eb932-12ee-0310-9ca8-eeb645f39767
     * Force ruby into UTF-8 mode to make special characters in certain areas possible (fixes #121) [contagiouskimo@yahoo.com.tw]
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@306 820eb932-12ee-0310-9ca8-eeb645f39767
    fixes loading without rubypants
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@294 820eb932-12ee-0310-9ca8-eeb645f39767
    Much improved text_filtering. You can now choose from Markdown, Textile and SmartyPants as well as Markdown + Smartypants both (scott@sigkill.org) fixes #137
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@287 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed broken redirect after install
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@275 820eb932-12ee-0310-9ca8-eeb645f39767
    updated to rails 0.13
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@274 820eb932-12ee-0310-9ca8-eeb645f39767
     * API fixes and cleanups, most of what we had as ints is actually treated as strings in the specs
     * Workaround for ecto ISO.8601 Problem by overriding XMLRPC::Convert::DateTime and proving a less strict regex for parsing allowing for a trailing 'Z'
     * Added blogger.getUserInfo to avoid AWS exception when using ecto
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@232 820eb932-12ee-0310-9ca8-eeb645f39767
    added 43things aggregation thanks to Anoop Ranganath (fixes #59)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@209 820eb932-12ee-0310-9ca8-eeb645f39767
     * Switching to ActiveRecordStore for sessions
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@181 820eb932-12ee-0310-9ca8-eeb645f39767
     * Merged spamprot branch containing DNSRBL blocking, URL count limit, old article auto-close (refs #25)
       MISSING: Moderation options instead of flat out blocking, bayes based blocking, web-interface for blacklist items, auto-close indication
     * Minor fixes from spamprot branch:
       * No more escaping of article titles in articles/_read.rhtml
       * Proper sorting for delicious partial
       * Better semantics for sidebar boxes
    
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@178 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed a bug that the configuration was only available after a web request was issuered to typo (scoop)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@113 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed aggregations, improved permalinks a bit (/04/22 instad of /4/22), moved send_ping method to the ping model and added permalinks the xml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@109 820eb932-12ee-0310-9ca8-eeb645f39767
    removed config/config.yml, on first request you will be redirected to settings/install to enter the values. This page is currently not protected, need to come up with something
    before next release.
    Added categories to the right hand side
    Fixed the ordering of articles in the categories filtered view
    Added a config manager
    Adjusted html of live preview
    Created settings table
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@93 820eb932-12ee-0310-9ca8-eeb645f39767
    Article trackback inbound and outbound should be fully working now.
    Category trackback coming soon.
    Some small code cleanups.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@83 820eb932-12ee-0310-9ca8-eeb645f39767
    compatibility with rails 0.10.0 and the first stab at pretty urls ( for xmls so far )
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@63 820eb932-12ee-0310-9ca8-eeb645f39767
    Added flickr support in style of tadalist support.
    Added really cool caching class which makes sure we only update tada/flickr once an
    hour
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@38 820eb932-12ee-0310-9ca8-eeb645f39767
    oops!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@25 820eb932-12ee-0310-9ca8-eeb645f39767
    added tada list to the right hand side (cool!)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@24 820eb932-12ee-0310-9ca8-eeb645f39767
    added link to resume
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@23 820eb932-12ee-0310-9ca8-eeb645f39767
    added commentrss (so i see when people write something)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@20 820eb932-12ee-0310-9ca8-eeb645f39767
    added caching
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@18 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@8 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@7 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed cache option for javascript/stylesheet _include_tag
    Added code to disable file system write
    Provide full path for requires relative to Rails.root.
    
    Ruby 1.9 does not add "." to the load path.
    Only require jcode for ruby 1.8.
    
    Ruby 1.9 does not provide jcode, nor does it seem to need it.
    Fixes rake tasks in production mode.
    
    lib/bare_migration.rb was not loaded anymore, which was breaking some migrations.
    Contrary to running your application in production, a Rake task does not eager load your entire code base. So only if  is false, will the application be eager-loaded in production. And  is set to true in the :environment Rake task.
    
    Solution was given at https://rails.lighthouseapp.com/projects/8994/tickets/2506-models-are-not-loaded-in-migrations-when-configthreadsafe-is-set
    Preload Akismet. Needed in 'threadsafe' mode.
    Do not autoload from lib/.
    
    Autoloading from lib/ causes problems in production with thread safety.
    When config.threadsafe! is used, files in app/ are eagerly loaded to avoid
    two threads loading the same file at the same time (eager loading).
    However, lib/ is not eagerly loaded, since it may contain stuff that should
    not be loaded at all. Therefore, some stuff we actually need does not get
    loaded.
    
    The solution I used here is to explicitely load needed stuff from lib/ in
    config/application.rb. I'm pretty sure this breaks autoreloading in
    developement mode.
    Explicitely require 'route_cache'.
    
    Without this, there are problems running Typo in threadsafe mode.
    Load prototype legacy helper before other plugins.
    
    This avoids problems with plugins that extend Typo classes: If they are
    loaded before this helper, the classes will not be able to use the provided
    helper methods and will fail. As a concrete example, consider a plugin that
    creates a subclass of ContentController.
    Replace find_boolean with standard find_all_by_<boolean field>.
    Replace deprecated filter_parameter_logging with config.filter_parameters.
    Fix some more deprecations.
    Gets rid of RAILS_ENV deprecation warnings
    Removing deprecated RAILS_ROOT
    Now webrick boots for real, the hardest is still to come
    Makes the main stuff boot... now, the plugins
    Adding Rails3 generated stuff
    Removing deprecated RAILS_ROOT
    Mass-removal of trailing whitespace.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Adding cucumber support to typo
    Adding cucumber support to typo
    Changed database.yml to have postgresql production db
    Added database.yml
    Fixed indentation in database.yml.sqlite
    Adding sample database.yml for every supported engine
    Remove sqlite database.yml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1178 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a SQLite-specific config file for the installer.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1067 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    updated lighttpd.conf from rails. Added a couple of admin views that I forgot to add before.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1001 820eb932-12ee-0310-9ca8-eeb645f39767
     r1237@Menhir:  pdcawley | 2006-03-24 21:50:05 +0000
     Ahem. Rolled back an accident that'd been waiting to happen.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@943 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes for #731 and another potential bug I noticed
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@942 820eb932-12ee-0310-9ca8-eeb645f39767
    humongous refactoring of the config setup. It doesn't suck anymore!
    added that you can specify how many articles you want to show in rss and on the blog (seth@remor.com) closes #133
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@286 820eb932-12ee-0310-9ca8-eeb645f39767
    added lighttpd config config and startup script
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@281 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding sample database.yml for every supported engine
    Mass-removal of trailing whitespace.
    Moved database.yml to database.yml.example
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@538 820eb932-12ee-0310-9ca8-eeb645f39767
    Change default database.yml to use _why's cool new format
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@537 820eb932-12ee-0310-9ca8-eeb645f39767
    Undoing database.yml breakage, again
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@506 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed readme--it said that Postgres wasn't supported
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@505 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed database.yml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@491 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed extra </p>.  (closes #248)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@490 820eb932-12ee-0310-9ca8-eeb645f39767
    Add cache admin tab.  Revert database.yml screwup.  (closes #172)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@455 820eb932-12ee-0310-9ca8-eeb645f39767
    Added RewriteBase comment to .htaccess.  (closes #196)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@454 820eb932-12ee-0310-9ca8-eeb645f39767
    Modified stylesheet to use relative links for non-vhost accounts. Also cleaned up some misc issues caused by the previous commit.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@248 820eb932-12ee-0310-9ca8-eeb645f39767
    Integrated Azure design.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@247 820eb932-12ee-0310-9ca8-eeb645f39767
    mainly rhtml changes, switched production server and development environment to mysql
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@41 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding sample database.yml for every supported engine
    Mass-removal of trailing whitespace.
    Moved database.yml to database.yml.example
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@538 820eb932-12ee-0310-9ca8-eeb645f39767
    Change default database.yml to use _why's cool new format
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@537 820eb932-12ee-0310-9ca8-eeb645f39767
    Undoing database.yml breakage, again
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@506 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed readme--it said that Postgres wasn't supported
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@505 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed database.yml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@491 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed extra </p>.  (closes #248)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@490 820eb932-12ee-0310-9ca8-eeb645f39767
    Add cache admin tab.  Revert database.yml screwup.  (closes #172)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@455 820eb932-12ee-0310-9ca8-eeb645f39767
    Added RewriteBase comment to .htaccess.  (closes #196)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@454 820eb932-12ee-0310-9ca8-eeb645f39767
    Modified stylesheet to use relative links for non-vhost accounts. Also cleaned up some misc issues caused by the previous commit.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@248 820eb932-12ee-0310-9ca8-eeb645f39767
    Integrated Azure design.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@247 820eb932-12ee-0310-9ca8-eeb645f39767
    mainly rhtml changes, switched production server and development environment to mysql
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@41 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding Rails3 generated stuff
    Update files to match what Rails 2.3.8 generates.
    add rails gem dependencies
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    Various fixes for the 5.0 release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1601 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed a few things here and there
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1428 820eb932-12ee-0310-9ca8-eeb645f39767
    Run rake rails:update
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1307 820eb932-12ee-0310-9ca8-eeb645f39767
    Run rake rails:update:configs as suggested for rails 1.1.2
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1015 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes database.yml.sqlite
    Fixed indentation in database.yml.sqlite
    Adding sample database.yml for every supported engine
    Remove sqlite database.yml
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1178 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a SQLite-specific config file for the installer.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1067 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds post types with admin management.
    
    Author can define multiple post types with associated templates. Default post type is 'read' so existing themes won't break.
    
    I didn't use Rails relational model on purpose as I wanted article to store the post type permalink. This will make theme helpers such as menu helpers easier to write. Maybe there's a cleaner way to do it though.
    Fix remaining spec failures caused by the removal of the catch-all route.
    
    - Add routes for articles#tag and articles#category.
    - Remove route for tags#check_password again, it was a red herring.
    - Fix references to accounts/login as the controller.
    - Explicitely state controller in article password form partial.
    - Fix category spec set up to ensure creation of permalink field.
    Add specific route for TagsController#check_password.
    Add specific route for ArticlesController#markup_help.
    Add specific route for XmlController#feed without format.
    Organize routes more logically.
    Remove unused catch-all route.
    Clean up RSD route.
    Make #rsd use rsd format.
    Moving admin/settings/seo to the new admin/seo controller.
    Fix xml/rss route.
    Fix routing for article.
    
    Use a constraint to match the URL with :format, but still have that be only
    one particular value.
    Use new router DSL.
    
    This is a straight translation from the old routes, as far as that will
    take us. Note the use of :format => false to avoid adding (.:format) to
    many of the routes.
    
    What doesn't work yet: routes like 'articles.rss' get an extra (.:format)
    added, which cannot be avoided by putting :format => false, since we want
    to set :format => 'rss'. Solving these issues will mean changing the actual
    set of routes, and replacing with a different but equivalent set.
    
    Some specs fail.
    Loading typo_* plugins custom routes first as a way to have enhanced plugins without adding routes to the original rouging file.
    
    When on Rails 2.x, I was using
    
    class << ActionController::Routing::Routes;self;end.class_eval do
     define_method :clear,s lambda {}
    end
    
    ActionController::Routing::Routes.draw do |map|
     map.connect '/gallery/:action', :controller => 'typo_gallery'
    end
    
    in the plugin init, but it seems not to work anymore, so this is the best way I found to do so.
    
    Example of a working plugin: https://github.com/fdv/typo-gallery
    Empty out TextFilterController.
    
    This controller had no function.
    Adding reirects a frontend. Did you know that such a feature existed? I guess I was the only one to use it to replace costy rewrite rules. Doesn't this rock?
    
    Sure it does!
    Adds nice routing to paginated search
    Make routes work with generate_best_match = false.
    
    ActionController::Routing.generate_best_match = false is the new default
    for Rails 2.3.8, and the only option for Rails 3. To ease the migration to
    Rails 3, make routes work with this new setting.
    Removing RAILS_DEFAULT_LOGGER deprecation warning
    Gets rid of RAILS_ENV deprecation warnings
    Makes CKEditor boot
    Mass-removal of trailing whitespace.
    Adding password protected posts. Things are done 100% AJAX because of the static cache. Logged in users are considered as being able to see a protected post. Protected posts content is removed from RSS feed. Need to add some specs, it's curious to see that they didn't break
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Dropping iTunes metadata support. They will probably come back in the futur as a plugin
    Adds a better setup, some things may need some refactoring (like moving generated password in the model, but can't make it without having specs failing)
    Removing blacklist support. RBL check + Akismet default support is largely enough, and blacklist patterns should be the done by mod_security or any other IDS, but not by Typo in any way. This may come back later as a plugin though
    Adding a setup to typo blog. Will redirect user to the editor after first account creation
    Move function of RedirectsController into ArticlesController
    Move previews to an action of ArticlesController
    Added article preview, not the cleanest way, but at least it works
    fix error on test and use will_paginate last version by gem instead of by plugin
    fix error not redirect if /articles
    Move the user edition from the Admin::UserController to a Admin::ProfileController. Now the user creation / edition is part of the admin/settings and admins are the only one to edit them. It also fixes a huge security hole where any logged in user can create / delete users without the admin credential. Also removes a bunch of unnecessary hazardous conditions we didn't really need
    nicer URLs for author based RSS/atom feeds
    Giving users a public profile. Elements to display are defined in the profile
    improve feed link in search view
    Fixing ticket 55 : /archives is brocken + test. Route was missing
    Fixes ticket 47 + search routing issue
    fix error in route because 2 routes with same name
    Fixed some missing routes
    fix error in route with archive
    fix spec about redirect
    fix some spec
    start using same formating but only define by a string
    try to clean some url construction
    delete author and users controller. Useless
    delete live controller with move live search in article controller. Fix some live search issue
    Remove buggy old article redirect routing (with tests).
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Refactoring of XmlController routes.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Change some routes related to ArticlesController.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Adding a missing route for paginated tags
    Fixes bug 1289
    Ditched admin/comments and admin/trackbacks routes
    Merging typo on Rails 2.2, beware, it's highly unstable
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1839 820eb932-12ee-0310-9ca8-eeb645f39767
    Brings back the per users  page. Need a bit of cleaning, but this starts looking good
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1809 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing brocken tags in admin
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1800 820eb932-12ee-0310-9ca8-eeb645f39767
    Setting back 1788 with a fix for admin/settings
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1794 820eb932-12ee-0310-9ca8-eeb645f39767
    Reverting commit 1788 because it incidentally broke admin
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1790 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes bug #1256
    Fixes bug #1257
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1788 820eb932-12ee-0310-9ca8-eeb645f39767
    Some admin cleaning :\n
    – removing admin for cache sweeping since no one knew it existed.\n
    – removing preview for articles and pages since they have been replaced long ago.\n
    – confirmation pop up for everything instead of going to destroy page. Destroy page has been kept for accessibility purpose.\n
    – Comments.new template removed since it's now on the comments list\n
    – Trackbacks.new admin removed : building a trackback on your own blog is a nonsense.\n
    Some more images cleaining.\n
    Removed unused tests.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1728 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed bug 1231, adding routes for paginated categories and comments
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1706 820eb932-12ee-0310-9ca8-eeb645f39767
    This should apparently solve every redirect issue left so far
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1701 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes old permalink redirect, everything in the routes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1700 820eb932-12ee-0310-9ca8-eeb645f39767
    Getting rid of /articles in the URL. Still need to add a redirect from old to new url. method exists in article controller, however, must find the best way to call it (routes for every possible url ?).
    
    Don't want to have it done by the web server anyway
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1697 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweaked the atom feed to use the proper namespace
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1638 820eb932-12ee-0310-9ca8-eeb645f39767
    Various fixes for the 5.0 release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1601 820eb932-12ee-0310-9ca8-eeb645f39767
    Add the comment form at the bottom of the comment listing.
    Removes a now useless sitealisez route in routes.rb
    Creating a comment in the admin now redirects to the comment list for the given post.
    Makes the comment/new useless as it is now handheld by the comment/list
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1545 820eb932-12ee-0310-9ca8-eeb645f39767
    Changed the default admin path to the dashboard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1540 820eb932-12ee-0310-9ca8-eeb645f39767
    Roll back r1527 at Piers's request
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1528 820eb932-12ee-0310-9ca8-eeb645f39767
    Initial commit. Bar is green, but we're a long way from finished.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1527 820eb932-12ee-0310-9ca8-eeb645f39767
    Yay! Eliminated the ugly 'render_grouping' stuff from ArticlesController.
    Authors, Tags, Categories all have their own controllers now. Currently
    they only handle #show and #index, but the next trick will be to migrate
    appropriate #create/#desroy/#update from their appropriate admin/*
    controllers with the eventual aim of eliminating most of the specific
    admin controllers.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1523 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed some dead functionality.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1521 820eb932-12ee-0310-9ca8-eeb645f39767
    More decomposition of articles_controller.rb; this time we've pulled
    /articles/author out to an AuthorsController and started the process
    of pulling up the common behaviour in AuthorsController and
    CategoriesController to a new GroupingController.
    
    Who knows, one of these days, ArticlesController might start looking
    positively svelte.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1517 820eb932-12ee-0310-9ca8-eeb645f39767
    More decomposition of the monolith that it ArticlesController into
    per resource controllers. Trackbacks get their own controller this time.
    
    Also, work continues on pushing behaviour out of controllers and into
    models.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1514 820eb932-12ee-0310-9ca8-eeb645f39767
    Right ho, /articles/category now redirects to /articles/categories,
    which is a resource now.
    
    Eventually, CategoriesController will take on the duties of
    Admin::CategoriesController, but not quite yet, for now it just handles
    index and show.
    
    Note that we've also introduced a new type of resource, the 'inflected_resource'
    which uses /articles/categories/... for its collection methods, but
    /articles/category/whatever for its members. This means that you we can
    have a category with a permalink of 'new' and it won't clash with with the
    admin form for creating a new category.
    
    Isn't that lovely?
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1510 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes stats routing defect (ticket 1138)
    Fixes azure comments numbering under IE 7 (ticket 1095)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1497 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1485 820eb932-12ee-0310-9ca8-eeb645f39767
    A surprisingly convoluted fix for the broken 'nuke' admin tool.
    It turns out that datestamped_resources didn't quite do the
    right thing when building paths.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1469 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    At some point in any refactoring you have to trust your gut and check
    it in.
    
    This point has now been reached...
    
    New things:
    * routes.rb continues to get shorter, ArticlesController is now declared
      with 'map.datestamped_resource :articles' plus a few extra actions that
      will eventually move to other controllers
    * Comment posting is now handled by the shiny new CommentsController, which
      is resourceful. However, because we don't want to break too many themes
      yet, it's still rendering templates from the articles directory
    * If you want to make your themes work better with the new scheme, you
      should alter your comment form url to be:
      {{{ :url => comments_path(@article) }}}
      If you're linking to the preview action, that becomes
      {{{ preview_new_comment_path(@article) }}}
    * This breaks #1463 rather hard. I shall be rolling #1463 all the way back
      for the time being, at least until I've got the controllers working
      restfully. Once that's done, it should be relatively trivial to change
      the routes file from using {{{datestamped_resources(:articles)}}} to using
      {{{resources(:articles)}}}
    * Deprecation warnings for badly placed controller actions aren't yet
      in place. I need to work out some way of having those warnings show
      up on the admin pages...
    * This may break things horribly. I've run it against the test suite,
      I've walked through most stuff on my test blog, but (always) there
      is the niggling feeling that I've missed something.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1465 820eb932-12ee-0310-9ca8-eeb645f39767
    Added a bunch of things for seo permalinks friendly
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1463 820eb932-12ee-0310-9ca8-eeb645f39767
    Split the settings into 2 parts: basic and advanced settings. Next step is to allow more tweaking from the user and the admin to come.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1462 820eb932-12ee-0310-9ca8-eeb645f39767
    Slowly moving towards a more Resourceful setup. Added (and started to test)
    a CommentsController class and its associated views.
    
    We aren't actually using it from anything yet, but it's only a matter of time.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1461 820eb932-12ee-0310-9ca8-eeb645f39767
    Started work on cleaning up the routes and eliminating all use of the dreaded
    /:controller/:action/:id route.
    
    Notice the commented out 'raise if testing' additions to the default route and
    the deprecation warnings whatever happens.
    
    It's amazing how much reimplementing Rails routes improves your knowledge of
    what's going on.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1459 820eb932-12ee-0310-9ca8-eeb645f39767
    – Changed a few things in the UI
    – Now you can edit and view comments from the discuss page
    – Started Sitealizer integration
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1396 820eb932-12ee-0310-9ca8-eeb645f39767
    Few fixes here and there
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1385 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixed a boneheaded ordering issue
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1211 820eb932-12ee-0310-9ca8-eeb645f39767
    Eliminated the :controller/:action/:id default route, which works around
    the big nasty Rails Security Hole.
    
    It turns out we relied on it in all sorts of strange places. So I fixed that
    too.
    
    Expect a new Typo release real soon now.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1210 820eb932-12ee-0310-9ca8-eeb645f39767
    Add Google sitemaps.  It needs better tests, but at least there *are* tests now.  Closes #315
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1097 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix old backwards-compatible /xml/rss path to properly serve up the RSS 0.9 feed
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@880 820eb932-12ee-0310-9ca8-eeb645f39767
    Clean up itunes RSS.  Closes #576
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@766 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a 'redirect' controller and model to make migrating to Typo easier.  It's set up as the route-of-last-resort
    and tries to redirect whichever URL you used onto an entry in the 'redirects' table.  So, if you put an entry
    into the table with from_path = '/archives/000001.html', to = '/articles/2005/11/08/foo', then anyone who hits
    http://my.shiny.blog/archives/000001.html will get a 301 redirecting them to http://my.shiny.blog/articles/2005/11/08/foo.
    Obviously, converter scripts will need to be updated to use this.  If you care, then go update the converters and leave
    a patch on Trac.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@754 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix tag pagination.  Closes #415
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@716 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrade Typo to run with Rails 0.14.1 (AKA 1.0rc2)
    
    This required a few minor changes, and I took the opportunity to do a bit of
    refactoring that I'd been avoiding for a while--text filters no longer use
    render() to do their filtering.  That was broken with 1.0, and I've been
    meaning to fix it anyway.
    
    All tests now pass for me, but I haven't tested it extensively outside of
    the unit test system, so be careful.
    
    This may or may not work with 0.13.1--there's no reason why it shouldn't, but
    it's untested.  I'm going to include a few 1.0rc2-specific cleanups soon, so
    the days of the trunk working with 0.13.1 are numbered.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@685 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix admin/trackbacks routes.  closes #365
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@615 820eb932-12ee-0310-9ca8-eeb645f39767
    Unify Atom and RSS feed logic.  Add Atom 1.0.  Add per-category and per-tag feeds.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@601 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    Swap order of routes for articles/* with and without a page specification (closes #294) -- please report back if other problems creep up because of this.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@563 820eb932-12ee-0310-9ca8-eeb645f39767
    Atmos's routes fixup.  (closes #268)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@492 820eb932-12ee-0310-9ca8-eeb645f39767
    Blocked access to theme_controller directly via /theme.  (closes #243)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@474 820eb932-12ee-0310-9ca8-eeb645f39767
    fixes frontpage caching regression which would overwrite the index.html with an old version with specially crafted urls (Damien Pollet) closes #234
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@466 820eb932-12ee-0310-9ca8-eeb645f39767
    More article admin pagination.  closes #215
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@446 820eb932-12ee-0310-9ca8-eeb645f39767
    Add pagination for article admin pages.  (closes #215)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@443 820eb932-12ee-0310-9ca8-eeb645f39767
    another take on the theming system
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@418 820eb932-12ee-0310-9ca8-eeb645f39767
    Very basic theme support.  (closes #184)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@405 820eb932-12ee-0310-9ca8-eeb645f39767
    Add static pages.  Also fixes a caching bug (the new PageCache was broken due to :name/:page_name mix).  (closes #181)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@391 820eb932-12ee-0310-9ca8-eeb645f39767
    sidebar admin polish
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@382 820eb932-12ee-0310-9ca8-eeb645f39767
    applied static pages updates by Damien Pollet closes #127
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@343 820eb932-12ee-0310-9ca8-eeb645f39767
    more robust routes
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@339 820eb932-12ee-0310-9ca8-eeb645f39767
    typo is now full static. The entire front end comes from static pages which are swept on commenting, trackbacks, new article posts and category changes.
    This means we cannot do the "posted 25 minutes ago" business but we can easily serve in excess of 1k pages per second so this should be worth it.
    
    closes #127, #21
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@337 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed comments posting javascript and restructured things a bit. fixes #139
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@282 820eb932-12ee-0310-9ca8-eeb645f39767
    * Per article comment rss (closes #138)
    * Functional unit tests for xml_controller
    * Move to 0.13 cache sweeper
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@273 820eb932-12ee-0310-9ca8-eeb645f39767
    Added trackback admin module
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@216 820eb932-12ee-0310-9ca8-eeb645f39767
    merged admin interface in (unstable but needed as base for more spamport features)
    
    preview at http://home.leetsoft.com/dropbox/typoadmin.png
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@172 820eb932-12ee-0310-9ca8-eeb645f39767
    added perma urls like /articles/2005/03/22/what-the-hell but also /articles/2005/02 to see all february posts and such
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@102 820eb932-12ee-0310-9ca8-eeb645f39767
    the missing files
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@64 820eb932-12ee-0310-9ca8-eeb645f39767
    Log deprecation warning in development
    Use non-deprecated version of consider_all_requests_local.
    Adding Rails3 generated stuff
    Update files to match what Rails 2.3.8 generates.
    Thou shall not cache!
    improve feed link in search view
    add some test in Ping model
    add validation of permalink_format with good format. Failed if bad format
    TextHelper::truncate get an hash with :lenght option, instead of 2 args in Rails 2.2. It's a deprecated system
    Removes database dependencies from installer
    Deletes 2 themes from FCKEditor
    Suppress caching from development environment
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1787 820eb932-12ee-0310-9ca8-eeb645f39767
    – Cleans some views by moving condition statements to a helper
    – Fix a draft + autosave behavior bug: if I save an autosaved article as a draft, it is duplicated as the autosaved article id is not taken into account in the draft saving process.
    – Moves the autosave delay to 30 seconds to cut the server a little slack
    – Removes comments creation from protect_from_forgery to avoid crash with caches_page when adding comments
    – Fixes a bug with the contributor role tha prevents contributors to access anything in the admin
    – Adds draft deletion (useful heh ?)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1778 820eb932-12ee-0310-9ca8-eeb645f39767
    development environment should not cache things
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1651 820eb932-12ee-0310-9ca8-eeb645f39767
    Hah! Take that you lousy cache monster!
    
    We no longer attempt to sweep the cache 99 times per request when
    changing blog settings. All the cache deletions are saved up until
    the end of the request so if BlogSweeper#expire_for gets called
    multiple times, the cache still only gets swept once.
    
    Which is nice.
    
    I've turned caching on in the development environment for the time
    being too - I want the debug level logging, and I want to hit problems
    quickly when I'm testing rather than discovering them in a production
    log.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1646 820eb932-12ee-0310-9ca8-eeb645f39767
    fixes migration version and adds a ugly workaround to rails 2.0.2 update_all bug with sqlite and pgsql
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1615 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes 1171, 1173 and 1178 plus minor usability fixes and adds 5.0 CHANGESET
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1609 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds a "setup" in the environment.rb, running migrations if the table session doesn't exist.
    
    I wanted to create a cool setup page allowing the user a 1 click install like on many blogwares, catching an exception in the application.rb. It seems that rails tries to select from the sessions table before my application can do anything and throw an exception resulting in a 500 error. So, the only place to put that code snippet was in application.rb. Irk !
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1589 820eb932-12ee-0310-9ca8-eeb645f39767
    Cache sweeping successfully sweeps pages now. Page caching no longer touches the database
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1583 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Rolled back mistaken changes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@821 820eb932-12ee-0310-9ca8-eeb645f39767
     r819@Menhir:  pdcawley | 2006-01-06 10:15:08 +0000
     Getting order screen working again
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@820 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    moved the migration code to lib/migrator.rb and disabled auto migration redirect during test mode to give test cases a break
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@410 820eb932-12ee-0310-9ca8-eeb645f39767
    disable caching in development mode
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@338 820eb932-12ee-0310-9ca8-eeb645f39767
    typo is now full static. The entire front end comes from static pages which are swept on commenting, trackbacks, new article posts and category changes.
    This means we cannot do the "posted 25 minutes ago" business but we can easily serve in excess of 1k pages per second so this should be worth it.
    
    closes #127, #21
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@337 820eb932-12ee-0310-9ca8-eeb645f39767
    updated to rails 0.13
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@274 820eb932-12ee-0310-9ca8-eeb645f39767
    compatibility with rails 0.10.0 and the first stab at pretty urls ( for xmls so far )
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@63 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding cucumber support to typo
    Load correct version of ruby-debug depending on Ruby version.
    
    Part of the Ruby 1.9 compatibility effort.
    Fix some more deprecations.
    Specify versions for rspec and rspec_rails.
    
    This is needed to avoid loading version 2.0.0, used with Rails 3.
    Remove cache_template_loading option.
    
    It does not exist anymore.
    Adding Rails3 generated stuff
    Moving dependencies to Bundler
    No need to specify version for factory_girl anymore.
    
    All versions of factory_girl now support rails 2.
    Update files to match what Rails 2.3.8 generates.
    Mass-removal of trailing whitespace.
    Use more up-to-date factory_girl.
    Specify factory_girl version, since versions starting from 1.3.0 don't
    support Rails 2.
    switch to gems from rubygems
    add dependencies needed if you want launch test
    add some spec about published_at_like named_scope
    Fix the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1742 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Added limits to CommentsController#index
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1475 820eb932-12ee-0310-9ca8-eeb645f39767
    The RESTful Typo revolution continues apace. This patch moves most feeds
    from /xml/... to simply being at their 'equivalent' url with a .atom or
    .rss extension as appropriate. So /xml/atom/feed.xml becomes /articles.atom
    and (slightly more cunningly), /xml/atom/article/1/feed.xml becomes
    /articles/yyyy/mm/dd/slug.atom.
    
    XmlController isn't going away in the forseeable future, but it'll be moving
    towards being a pure 'redirect' controller for historic URLs. Once it *is*
    a pure redirector we'll look to moving it out into the plugins directory
    for use by folks who are upgrading and want to keep their historic feed
    URLs catching the occasional dumb feed reader, but new installs simply
    won't need it.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1467 820eb932-12ee-0310-9ca8-eeb645f39767
    Showed the tests some love.
    
    We've had to turn use_transactional_fixtures off because it was
    making tests fail, and I have no clue why at present. Something
    we're doing seems to be confusing Rails.
    
    Also, I've eliminated assert_xpath and get_xpath from our tests
    in favour of an assert_select workaround suggested by Jamis Buck
    on his blog somewhere. Which is nice.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1436 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Apply 'save first then assign habtm' fix to ContentController (caused by Rails issue #3213); Tweaks here and there, now all tests pass again
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@805 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    moved the migration code to lib/migrator.rb and disabled auto migration redirect during test mode to give test cases a break
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@410 820eb932-12ee-0310-9ca8-eeb645f39767
    updated to rails 0.13
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@274 820eb932-12ee-0310-9ca8-eeb645f39767
    compatibility with rails 0.10.0 and the first stab at pretty urls ( for xmls so far )
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@63 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Shut up Rails from whining about not being able to log to Heroku's
    filesystem.
    Disable production caching. Necessary for Heroku Cedar compatibility.
    Disable thread safe Rails in production.
    
    I have several reasons for this:
    - Thread safety requires us to always preload all non-autoloaded libraries,
      since otherwise race conditions might arise. This makes running even one
      isolated spec slow.
    - Rails may be thread-safe, but we do not test our own code for thread-
      safety at all. We have a couple of bugs that only seem to occur in
      production mode, and are hard to reproduce. I'd like to eliminate
      threading as a potential cause.
    Make migrations work without loading the actual models.
    
    In the production environment, models are not loaded by default in rake
    tasks. This change makes migrations work regardless, which has the added
    benefit that the real models can change completely without breaking the
    migrations, without having to resort to the BareMigration system. This is
    particularly fortunate, since BareMigration does not support STI, which we
    use with Articles and Contents.
    Fixes rake tasks in production mode.
    
    lib/bare_migration.rb was not loaded anymore, which was breaking some migrations.
    Contrary to running your application in production, a Rake task does not eager load your entire code base. So only if  is false, will the application be eager-loaded in production. And  is set to true in the :environment Rake task.
    
    Solution was given at https://rails.lighthouseapp.com/projects/8994/tickets/2506-models-are-not-loaded-in-migrations-when-configthreadsafe-is-set
    Enable thread safe Rails in production by default.
    Use non-deprecated version of consider_all_requests_local.
    Remove cache_template_loading option.
    
    It does not exist anymore.
    Adding Rails3 generated stuff
    Update files to match what Rails 2.3.8 generates.
    revert all debug introduce by previous commit
    fix error with assignation by reference. get big error
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    moved the migration code to lib/migrator.rb and disabled auto migration redirect during test mode to give test cases a break
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@410 820eb932-12ee-0310-9ca8-eeb645f39767
    removed config/config.yml, on first request you will be redirected to settings/install to enter the values. This page is currently not protected, need to come up with something
    before next release.
    Added categories to the right hand side
    Fixed the ordering of articles in the categories filtered view
    Added a config manager
    Adjusted html of live preview
    Created settings table
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@93 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@92 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@91 820eb932-12ee-0310-9ca8-eeb645f39767
    compatibility with rails 0.10.0 and the first stab at pretty urls ( for xmls so far )
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@63 820eb932-12ee-0310-9ca8-eeb645f39767
    added commentrss (so i see when people write something)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@20 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Add coding comment for non-ascii files.
    
    Part of the Ruby 1.9 compatibility effort.
    Mass-removal of trailing whitespace.
    Initial Dutch translation.
    
    I'm primarily interested in showing all outside-facing strings, so I
    have not translated the admin part of the site right now, but the
    translation does include support for the Rails locale (which is
    currently not set by default) and the javascript translations.
    
    Signed-off-by: Cyril Mougel <cyril.mougel@gmail.com>
    Adding Rails3 generated stuff
    Adding fix to complain rspec from whining.
    Fix to prevent some of cucumber's whining.
    Silence some warnings appearing in rspec
    Added reCaptcha support in backend
    Add back Flickr key config.
    Update files to match what Rails 2.3.8 generates.
    Remove trailing whitespace.
    Fix some more deprecations.
    Update files to match what Rails 2.3.8 generates.
    Adding RSD and gogle sitemaps in mime types
    Adding Rails3 generated stuff
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Cleans access rules file, adds some more submenu for clarity
    Removing theme catalogue from access rules
    Moves redirects from settings to articles. Adds consistency to the menu
    Removing the theme editor, for now. It will probably come back under another form later.
    
    Theme editor was added for my own use, but it was actually never really usable. It didn't wipe cache, only allowed to edit CSS and layout, did not support drafts and did not have syntax highlighting. It will come back later as a major feature of a next release.
    
    Not wanted, poorly designed feature can only have 2 fates: being fixed or being dropped.
    Adds customizable 404 pages with optionnal messages in the admin. Next: 500
    Adds post types with admin management.
    
    Author can define multiple post types with associated templates. Default post type is 'read' so existing themes won't break.
    
    I didn't use Rails relational model on purpose as I wanted article to store the post type permalink. This will make theme helpers such as menu helpers easier to write. Maybe there's a cleaner way to do it though.
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Adding permalinks SEO tab.
    
    Fixes a bug where SEO params would never be saved.
    Reorganizes admin menus and submenus.
    
    Write tabs disappears for a more convenient "New Article" button.
    Contents becomes articles and has submenus for:
      – Articles
      – New article
      – Comments
      – Categories
      – Tags
    Pages becomes an independant tab with:
      – Pages
      – New page
    Resources becomes media (thank you Wordpress for helping me find a word)
    Remove trailing whitespace.
    Edited config/initializers/access_rules.rb via GitHub
    Moving admin/settings/seo to the new admin/seo controller.
    Merging categories listing and creation form.
    
    Neither of them are wide enough to justify being on a single page. Having the category listing on the same page as the form improves readability when adding and managing categories.
    Adding an interface to control cache sweeping
    Merges both files and resources view in the admin, first step to a (much) better file upload thing
    Adding reirects a frontend. Did you know that such a feature existed? I guess I was the only one to use it to replace costy rewrite rules. Doesn't this rock?
    
    Sure it does!
    Mass-removal of trailing whitespace.
    Moving profile at the top right, renaming manage to content, customize to design
    Adding a basic way to dynamically load user mades plugins into
    * Typo permission system
    * Typo admin/themes submenu
    
    To have an admin part, plugins need to be called typo_plugin_some_name. They should be basic Rails plugins with a lib/app/controllers/admin/some_name_controller.rb
    
    For now, only the index action is supported in the permission system:
    1. it's a POC and I still need to finish a plugin
    2. it will be enough... at least the time people need more
    Removing blacklist support. RBL check + Akismet default support is largely enough, and blacklist patterns should be the done by mod_security or any other IDS, but not by Typo in any way. This may come back later as a plugin though
    Adds a first draft for Typo images library
    Make PreviewsController take its templates from article automatically.
    Ooooops, I forgot the whole customize thing
    Implementing new admin. I may have brocken some things here and there, will fix quickly I promise
    A bit of refactoring, moving the comments management as a sub module of the management itself. Next somes a 'What can you do' view of the dashboard
    Added article preview, not the cleanest way, but at least it works
    Move the user edition from the Admin::UserController to a Admin::ProfileController. Now the user creation / edition is part of the admin/settings and admins are the only one to edit them. It also fixes a huge security hole where any logged in user can create / delete users without the admin credential. Also removes a bunch of unnecessary hazardous conditions we didn't really need
    Moving users management to settings
    Adding theme catalogue
    Removing textfilters from the admin menu
    Getting rid of the worse piece of code ever, multiplies Typo perfs by 10 when calling articles/index (see http://t37.net/ya-pas-comme-un-truc-qui-vous-fait-hurler-li)
    Getting rid of classic pagination for will_paginate
    Revamping the dashboard, step 1
    Revamping login form step 1
    cleaning admin/css step 1
    migrating default themes to will_paginate
    avoid translation of subtask in admin
    fix permission in cache controller
    add limit view to only Ham in feedback list
    I know, "commit early, commit often", but I had some changes to do first
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1846 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding hebrew translation, a few fixes and more
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1834 820eb932-12ee-0310-9ca8-eeb645f39767
    – Cleans some views by moving condition statements to a helper
    – Fix a draft + autosave behavior bug: if I save an autosaved article as a draft, it is duplicated as the autosaved article id is not taken into account in the draft saving process.
    – Moves the autosave delay to 30 seconds to cut the server a little slack
    – Removes comments creation from protect_from_forgery to avoid crash with caches_page when adding comments
    – Fixes a bug with the contributor role tha prevents contributors to access anything in the admin
    – Adds draft deletion (useful heh ?)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1778 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a rendering bug in default theme in IE6
    Fixes an admin bug to access textfilters
    Unifies text filter admin with the rest of the back office
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1760 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    Doing a little bit of cleaning
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1757 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds filtering on edit / delete to content for non administrative users
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1754 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing lists from access rules in favor of index
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1729 820eb932-12ee-0310-9ca8-eeb645f39767
    Replacing old 'list' with 'index', more rest compliant
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1720 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the tests breaking, thank you to Cyril Mougel for his help, you're the man
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1717 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds multiple roles to Typo.
    
    Tests break in multiple parts, I just need to find out how to tel them that our user has the rights to do what he needs to do.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1712 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding Rails3 generated stuff
    Update files to match what Rails 2.3.8 generates.
    Adding Rails3 generated stuff
    Update files to match what Rails 2.3.8 generates.
    Adding Rails3 generated stuff
    Update files to match what Rails 2.3.8 generates.
    Document use of cache for sub-URL installations.
    
    Only for Apache, for now. Documentation for Nginx still needed.
    Mass-removal of trailing whitespace.
    Adjust formatting.
    Fixes a mistake in Apache caching doc
    Moves cache to public/cache. Ditches database use for cache storing. Please, read doc/CACHE.SETUP.README to setup the new cache system, otherwise Typo now runs smoothly without cache, I've been running it cacheless for months on a fairly crowded blog without even knowing it
    Release of Typo 6.1.0
    Time to release 6.0.9 because of a security issue in Rails 3.0.9. Upgrading to Rails 3.0.10 after checking it does not break under passenger 3.0.8
    Upgrading gemspec
    CHANGELOG and version number for Typo 6.0.7
    Updateing various documentation for next release. Now waiting for Norwegian translation to finish
    Here we are, we can now release 6.0.5
    Updating CHANGELOG, adding some doc, release 6.0.4 is now ready
    Updating CHANGELOG, adding some doc, release 6.0.4 is now ready
    Here we are, we can now release 6.0.5
    Doing the usual stuff for 6.0.1 release. We can now start to work on 6.1 w00t
    Changing Typo version and upgrading the documentation for Typo 6.0 release
    Mass-removal of trailing whitespace.
    Moving and ordering some doc
    Documentation for Typo 5.5 release
    Updating docs for release
    Moves permalink sanitization to String with a new to_permalink method.
    
    Refactores existing code to remove duplicate code entries and not needed mthods when building the permalink from the model.
    Removes Ruby 1.8 specific tests
    Make String#to_title deal with contents where body is nil.
    Fixes a bug in the meta title generation.
    
    Added specs. Need more specs on this. Need specs on grouping controller. Will add both at the same time when fixing a regression on template rendering
    Fixing meta title and description generators
    A little refactoring of to_title to make it more readable (how could I commit this???)
    
    I pass settings as a parametre to avoid calling Blog.default (and another database call) everytime I want to use to_title
    Not sure on this one though.
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Remove trailing whitespace.
    Changes the settings behavior for nofollowify, index categories and index tags. Comes with migration. Adds missing specs.
    
    Current settings behavior were beyond stupidity : every feature were enabled by default and admin had to uncheck them to disable them:
    Unchecking nofollowify was enabling dofollow.
    Unchecking index categories was removing categories from search engine index
    Unchecking index tags was removing categories from search engine tags.
    
    New behavior:
    Checking dofollowify actually enables dofollow
    Checking unindex categories removes categories from search engine index
    Checking unindex tags removes tags from search engine index
    
    TODO :
    Allow unindex / index by category.
    Allow unindex / index by tag.
    Use version-specific regex in String.to_url.
    
    Since the meaning of \W changed, it needs to be replace with \P{Word} for
    Ruby 1.9. Unfortunately, this cannot be used in 1.8, since it's invalid
    there. The regexes are injected using string interpolation to avoid
    warnings in 1.8.
    Adding a no/do follow policy on the whole blog. Admin can now chose between nofollow and dofollow in the comments and comments author URL.
    
    For now this is a bit "raw" and may need some improvement:
    1- allow admin to chose after how many comments a visitor is dofollowed, for example 3, but this would have an impact on performances: each time a comment is rendered, Typo would do a select count(*) based on the author email address.
    2- improve comment moderation to have an email sent even though the comment was not published, or any other way to moderate comments. I need to think about it without breaking / recoding our state machine.
    
    Oh, and this indeed come with a bunch of tests that shows I haven't broken anything.
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    Tweak permalink transformation again so existing tests don't break
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1014 820eb932-12ee-0310-9ca8-eeb645f39767
    Do a bit better translation of strange characters for permalinks. Fixes #784
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1013 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
     r719@Menhir:  pdcawley | 2005-12-06 11:01:55 +0000
     scratching a small itch on "strip_html"
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@777 820eb932-12ee-0310-9ca8-eeb645f39767
     r717@Menhir:  pdcawley | 2005-12-06 10:33:48 +0000
     Moved the "transform" methods onto the String class and loaded transforms in the evironment
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@775 820eb932-12ee-0310-9ca8-eeb645f39767
    Merged permalink patch which no longer breaks links when the blog author changes an article title. It also allows for custom permalinks by editing it via the content admin. Storing permalinks in the database also means we're no longer doing nasty string comparisons for permalink-accessed articles since we're able to do a direct SQL query on that column. (closes #147)
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@394 820eb932-12ee-0310-9ca8-eeb645f39767
    Big additions again
    Another big commit.
    
    Additions:
      Trackbacks fully integrated.
      Per article decision to allow trackbacks and comments.
      "transforms" library added for text transforming methods. (
      Google's nofollow fully supported where necessary.
    
    Changes:
      Cleaned up some duplicated code.
      New trackbacks cause the sweeper to go into effect.
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@46 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing RAILS_DEFAULT_LOGGER deprecation warning
    fix bug when use attribute with single quote and not double quote. So textfilter doesn't works
    Tests passing. Rails 2.0.2 required. I think we may be good to go for 5.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1602 820eb932-12ee-0310-9ca8-eeb645f39767
    A bit of rearrangement in views/xml
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1555 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix TextFilter::Macro text processing to match the exact tag name.
    Formerly a macro <typo:foo> would trigger if it saw <typo:foobar>.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1284 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Make the Amazon text filter domain configurable.  Closes #938
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1063 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Got rid of those annoying messages about missing default helpers.
    The changeset is slightly bigger than it should be because I can't
    work out how to make svk/svn ignore whitespace only changes, and
    emacs is a bit more eager than TextMate to remove extraneous spaces.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@901 820eb932-12ee-0310-9ca8-eeb645f39767
    Add lightbox support as per ticket #651. However, the implementation varies slightly from the patch. The macro is the same, but the script/stylesheet includes are now done automatically whenever you use the {{{<typo:lightbox>}}} macro. This still requires themes to update themselves, but this update is more generalized, and is explained below.
    Textfilters are now passed a model object in addition to the controller object whenever the model object is known. Any custom textfilters will need to be updated. If you do use the model object be sure to check for nil.
    There is now a helper method to provide most of the contents of the {{{<head>}}} tag. Look at Azure for usage. This not only means update-once apply-everywhere, but it ties directly into the next change.
    Textfilters can now add includes to the header via the Content object's whiteboard. For that matter, anything with access to a whiteboard can do this, but it was intended primarily for textfilters. The mechanism for this is by adding a key to the whiteboard called {{{page_header_*}}} where * can be anything. The value of this key is inserted into the {{{<head>}}} tag. The headers of all the rendered content objects are coalesced so if, for example, 2 Articles declare the same includes it will only show up once in the {{{<head>}}} tag. This is a straight equality comparison so don't fall afoul of whitespace. For usage, check out the Lightbox textfilter.
    There are two primary benefits of this change. The first is that any addition, like a textfilter, that needs includes can add them without worrying about updating everybody's theme. Second, includes that aren't necessary will not show up. By this I mean the lightbox javascript/css includes will not show up in {{{<head>}}} unless a rendered Content object actually uses the {{{<typo:lightbox>}}} macro. We may want to consider moving the {{{<typo:code>}}} syntax coloration into a separate CSS file and adding it the same way.
    Also modify register_onload to use prototype's Event.observe - this works around not only a bug in Safari (I think), but also keeps themes like lush from interfering by setting body's onload directly in the layout. I recommend modifying any existing themes that need onload handlers to use register_onload() as well.
    Closes #651.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@848 820eb932-12ee-0310-9ca8-eeb645f39767
    Podcasting, thanks to bingeldac (Grant Schofield).  This also reverts the previous two patches--it's possible that migrations are broken, but that's better then everything else being broken.  There are a few things that I'd like to change here, but by and large it works.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@752 820eb932-12ee-0310-9ca8-eeb645f39767
    We need to stop using 'Plugin::' as a prefix for Typo plugins, as it seems to do weird things sometimes
    with Rails 0.14.3.  Specifically, I can't make 'rake migrate' work at all, even though tests work and the app
    itself works.  This is the first step.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@750 820eb932-12ee-0310-9ca8-eeb645f39767
    I hate Ruby's class variable architecture.  I really do.  Closes #462
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@695 820eb932-12ee-0310-9ca8-eeb645f39767
    More filter cleanup--now use a small DSL for name/description rather then 'def description'.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@687 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrade Typo to run with Rails 0.14.1 (AKA 1.0rc2)
    
    This required a few minor changes, and I took the opportunity to do a bit of
    refactoring that I'd been avoiding for a while--text filters no longer use
    render() to do their filtering.  That was broken with 1.0, and I've been
    meaning to fix it anyway.
    
    All tests now pass for me, but I haven't tested it extensively outside of
    the unit test system, so be careful.
    
    This may or may not work with 0.13.1--there's no reason why it shouldn't, but
    it's untested.  I'm going to include a few 1.0rc2-specific cleanups soon, so
    the days of the trunk working with 0.13.1 are numbered.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@685 820eb932-12ee-0310-9ca8-eeb645f39767
    Modularized some of the textfilter plugin code, so we can reuse it in the sidebar.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@628 820eb932-12ee-0310-9ca8-eeb645f39767
     * Bundle syntax module (closes #350)
     * Explicitly require 'application' in TextfilterController, otherwise script/console is broken because of the inability to require 'application_controller' (derived from the TextfilterController inheritance)
     * Wrap text_filter_id assignment in Article#set_defaults in a schema_version check to fix migrations from farther back
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@571 820eb932-12ee-0310-9ca8-eeb645f39767
    Filter plugins.  This adds a *lot* of code.
    
    See http://scottstuff.net/blog/articles/2005/08/23/introduction-to-typo-filters
    for details.
    
    Closes #346, #299
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@565 820eb932-12ee-0310-9ca8-eeb645f39767
    Release of Typo 6.1.0
    Smells like 6.0.10
    Time to release 6.0.9 because of a security issue in Rails 3.0.9. Upgrading to Rails 3.0.10 after checking it does not break under passenger 3.0.8
    Release 6.0.8
    CHANGELOG and version number for Typo 6.0.7
    Updateing various documentation for next release. Now waiting for Norwegian translation to finish
    Here we are, we can now release 6.0.5
    Setup 6.0.4 release
    Adding a version checking.
    When displaying dashboard, typo will check for the latest release and will display a message accordingly:
    * A notice if Typo's just a minor version behind.
    * A warning if Typo's a sub version behind.
    * An error message if Typo's a major version behind
    Prepairing Typo 6.0.3 release
    This commit marks the release of Typo 6.0.2.
    
    The zip and tar.gz files should be uploaded to github within minutes.
    The tag will be done a bit later
    Doing the usual stuff for 6.0.1 release. We can now start to work on 6.1 w00t
    Changing Typo version and upgrading the documentation for Typo 6.0 release
    Upgrading Typo version to 5.5. Cleaning release task since most of the code is not relevant anymore
    Adding documentation for Typo 5.4.4 release
    Releasing 5.4.3
    Prepairing the 5.4.2 release
    Upgrading version number
    Prepairing release
    Ready to release ?
    Prepairing release
    fixing version
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1799 820eb932-12ee-0310-9ca8-eeb645f39767
    Changes version number
    Adds the missing en_US.js file
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1779 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug with gravatar
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1777 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a regression that breaks initial schema loading.
    Adds free subscription option for contributors
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1758 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1742 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing tests before release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1736 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds 3 classes in the default styles
    Update version number for 5.0.4
    Update README
    Fixes bug 1224 for non MySQL databases
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1695 820eb932-12ee-0310-9ca8-eeb645f39767
    Brings more translation
    Adds some changes to the content editor
    Brings localisation to Standard issue
    Brings localisation to archives plugin
    Fix typo version to 5.0.3
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1649 820eb932-12ee-0310-9ca8-eeb645f39767
    fixes migration version and adds a ugly workaround to rails 2.0.2 update_all bug with sqlite and pgsql
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1615 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes 1171, 1173 and 1178 plus minor usability fixes and adds 5.0 CHANGESET
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1609 820eb932-12ee-0310-9ca8-eeb645f39767
    Added deprecation warning for plugins removal. Smells like release is close isn't it ?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1437 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed a few things here and there
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1428 820eb932-12ee-0310-9ca8-eeb645f39767
    Bump version numbers
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1228 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrade version numbers to 4.0.2, and force Rails 1.1.6
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1213 820eb932-12ee-0310-9ca8-eeb645f39767
    Update versions to 4.0.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1163 820eb932-12ee-0310-9ca8-eeb645f39767
    Bump the version number to 4.0.0 (finally!!!)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1160 820eb932-12ee-0310-9ca8-eeb645f39767
    - Bump Mongrel version number up to 0.3.13.4
    - Update Typo version to 3.99.4
    - Clean up installer.  Added pre/post hooks.
    - Added url-prefix support for Mongrel 0.3.13.4.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1137 820eb932-12ee-0310-9ca8-eeb645f39767
    Preparing for 3.99.3.  Fix typo in installer.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1103 820eb932-12ee-0310-9ca8-eeb645f39767
    Installer updates.
    
    - Fix relative-directory installs
    - Fix (probably) /dev/null Windows problems
    - Dropped typo-installer.rb, and moved contents into typo binary.
    
    I'm debating moving rails-installer.rb into its own gem before Typo 4.0,
    but it'll certainly do that after 4.0 is out.  It'll just be a requirement
    for the Typo GEM :-).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1081 820eb932-12ee-0310-9ca8-eeb645f39767
    Make the typo version file simply display {{{svn}}} instead of using the never-updating subversion revision tag
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@892 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Almost done with revision file
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@741 820eb932-12ee-0310-9ca8-eeb645f39767
    More version file issues
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@740 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding version file
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@738 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing deprecated RAILS_ROOT
     r1443@obelisk:  pdcawley | 2006-04-03 16:45:08 +0100
     Oops, didn't spot leading zeros as available migrations
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@990 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix admin/ migration problem with 0_initial_schema, from Eridius
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@607 820eb932-12ee-0310-9ca8-eeb645f39767
    help with upgrade path
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@485 820eb932-12ee-0310-9ca8-eeb645f39767
    moved the migration code to lib/migrator.rb and disabled auto migration redirect during test mode to give test cases a break
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@410 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove useless require of 'md5'.
    Replacing old bundled UUID tools by the 2.x maintained gem
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Rename guid.rb to typo_guid.rb
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@957 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Switch from ad-hoc MD5 unique IDs to Bob Aman's RFC-compliant UUIDTools.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@652 820eb932-12ee-0310-9ca8-eeb645f39767
    Add GUIDs to comments and trackbacks, and clean up Article GUID code.  Use GUIDs in Atom 1.0 feeds because our old IDs were nasty and not unique.  Still thinking about adding them to RSS 2.0 and Atom 0.3; it'll be user-visible if we change them.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@636 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove trailing whitespace.
    Log to debug level, not to stdout...
    Fix error message: spelling and irregular apostrophe.
    Plugins system for Typo. Pluginization of Avatar feature (feedbacks), addition of typo_avatar_gravatar plugin
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Move plugin.rb to typo_plugin.rb, and clean up textfilters
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@960 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    I hate Ruby's class variable architecture.  I really do.  Closes #462
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@695 820eb932-12ee-0310-9ca8-eeb645f39767
    More filter cleanup--now use a small DSL for name/description rather then 'def description'.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@687 820eb932-12ee-0310-9ca8-eeb645f39767
    Modularized some of the textfilter plugin code, so we can reuse it in the sidebar.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@628 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix call to scan_uris to pass in an array instead of a string.
    
    String#each is gone in 1.9, so passing just a string would cause an error.
    Use Ruby 1.9 compatible case syntax.
    Removing RAILS_DEFAULT_LOGGER deprecation warning
    Removing blacklist support. RBL check + Akismet default support is largely enough, and blacklist patterns should be the done by mod_security or any other IDS, but not by Typo in any way. This may come back later as a plugin though
    simplify the validation of feedback
    All sorts of tweaks and cleanups.
    
    Mainly, the feedback state machine has got a little more complex, allowing
    us to add a 'Content#publication_state_just_changed?' method. And having
    such a method means that there's now a bunch of places where we used to
    sweep the cache unnecessarily, but now we just don't sweep the cache.
    Which is no bad thing. Cache misses are bad m'kay?
    
    Also, I've rejigged the SpamProtection package, applying the Composed
    Method pattern, reordering some of the tests and generally making it try
    to decide quicker.
    
    There's lots more work to do here, but this will do for starters.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1253 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Use published_at for comment spam checks.  Closes #1089
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1225 820eb932-12ee-0310-9ca8-eeb645f39767
    A tiny refactoring of blacklists
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1023 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
     r1245@Menhir:  pdcawley | 2006-03-27 16:03:01 +0100
     Fixed #739 by applying the patch attached to that ticket and adding some
     tests.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@947 820eb932-12ee-0310-9ca8-eeb645f39767
    Something of a bundled patch. Key changes:
      * Added blog_id to the contents table and set up relationships
        from Blog <-> Content
      * Resolved the dependency hell that ensued
      * Refactored like crazy. Highlights include:
        * ArticlesController#index only needs to make one query!
        * DRYed up Admin::ContentController
        * DRYed up ArticlesController
        * More actions are using Composed Method
        * More actions fetch content through the blog object, which has
          some usefully scoped methods and will get more.
      * Resolved some more dependency hell. A good rule of thumb seems to be
        "If your class isn't in an appropriately named file, expect to suffer"
    
    Added blog_id to the contents table and set up the relationships from
    Blog <-> Content. Tests are passing in, preparing to refactor.
    More refactoring
    More refactoring.
    Fixed issues with circular dependencies (I hope).
    Tweaked articles_controller so index only makes one query.
    More refactoring
    More refactoring
    More refactoring
    
    More refactorings:
      DRY up Admin::ContentController
    Dealing with more dependency hell
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@941 820eb932-12ee-0310-9ca8-eeb645f39767
    Start a local SVK branch to investigate making typo multiblog capable.
    Towards multiblogging:
    
    Step 1: Added a blog object to hold the settings for our blog and made everything use `this_blog'
            rather than `config' to get at them. This currently *slow*; I've deliberately removed
            some optimizations in favour of doing it Right.
    
    Details:
    
    Right now, the blogs tables contains nothing but an id column. This will change.
    Right now, if you have more than one blog object, bad things will probably happen.
    Step 2: Added a DEFAULT_BLOG_ID to environment and optimized `this_blog' slightly for controllers
            and views.
    
    * Eliminated Blog#method_missing
    * Got rid of one of the tests in configuration_test that's frankly more trouble than its worth
    * A few formatting tweaks
    Tweaked the type symbols used in ConfigManager to match those used in
    migrations. Should make writing my migrations a bit more cutty/pastey :)
    Step 2: Eliminate the Settings model and pull the settings into a
            serialized hash on the blog object.
    Slight tweak of the migration; Only copy settings to the blog and vice versa
    if they already exist. Means that an 'unconfigured' blog will stay that way.
    Corrected a small, but annoying boneheaded stunt.
    
    ALWAYS RUN THE TESTS BEFORE CHECKIN!
    Because each sidebar is a component, they inherit a bunch of stuff
    from ApplicationController which they don't use. Some of the stuff in
    ApplicationController is pretty heavyweight.
    
    So, I've introduced a ContentController (possibly a bad name) which
    inherits from ApplicationController and I've moved a lot of behaviour
    out of ApplicationController and into ContentController, thus slimming
    ApplicationController down somewhat.
    
    Let's see if it helps any.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@915 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Spam RBL update.  Closes #657
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@870 820eb932-12ee-0310-9ca8-eeb645f39767
    Make spam protection ignore article auto-close for existing records (closes #435) [pdcawley@bofh.org.uk])
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@816 820eb932-12ee-0310-9ca8-eeb645f39767
    humongous refactoring of the config setup. It doesn't suck anymore!
    added that you can specify how many articles you want to show in rss and on the blog (seth@remor.com) closes #133
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@286 820eb932-12ee-0310-9ca8-eeb645f39767
    Re-enabled surbl.org blacklist for spam protection
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@223 820eb932-12ee-0310-9ca8-eeb645f39767
     * Merged spamprot branch containing DNSRBL blocking, URL count limit, old article auto-close (refs #25)
       MISSING: Moderation options instead of flat out blocking, bayes based blocking, web-interface for blacklist items, auto-close indication
     * Minor fixes from spamprot branch:
       * No more escaping of article titles in articles/_read.rhtml
       * Proper sorting for delicious partial
       * Better semantics for sidebar boxes
    
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@178 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing RAILS_DEFAULT_LOGGER deprecation warning
    Transfer spam/ham state when converting comments from WordPress.
    
    Signed-off-by: Frédéric de Villamil <frederic@de-villamil.com>
    Got rid of some explicit &block arguments and replaced a call to send_file when caching with a redirect.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1637 820eb932-12ee-0310-9ca8-eeb645f39767
    A big cleanup of the way content and feedback state is handled:
    
     * The ContentState:: namespace is gone. States now appear in the
       Article::States and Feedback::States namespace (or anywhere else
       that would be found through normal namespace resolution)
     * The magic now happens in lib/stateful.rb, which sets up the
      'has_state' declaration. Look at article.rb and feedback.rb for
       examples of it in use. Documentation and pluginification will happen.
       Eventually.
    
    Also, I've done a bit of spring cleaning on various content related
    classes and (shock!) added tests for Article#comment_closed?. Did
    _you_ know that wasn't being tested? Me neither.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1438 820eb932-12ee-0310-9ca8-eeb645f39767
    Avatar plugin has a mandatory name class_method
    Plugins system for Typo. Pluginization of Avatar feature (feedbacks), addition of typo_avatar_gravatar plugin
    A few more tests should be passing
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1571 820eb932-12ee-0310-9ca8-eeb645f39767
    Ladeez and Gennleman, I bring you my last big migration patch for a while.
    I hope.
    
    This should fix things for sqlite users and also clean up the problem with
    migration 36.
    
    Enjoy.
    
    Closes tickets: #765 and #766
    Opens tickets: Oh, we'll find out I'm sure. What's the betting I broke
                   Postgresql again?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@984 820eb932-12ee-0310-9ca8-eeb645f39767
    A slight tweak of documentation and the table_name_setter
    Got rid of the objectspace stuff in sidebars_controller.rb.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@928 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied patch in #680 and things are looking lovely.
    
    However, it's a migration change, so, for pity's sake, back up your
    database before you do any migraty stuff. But you knew that anyway.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@876 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
     * Merged spamprot branch containing DNSRBL blocking, URL count limit, old article auto-close (refs #25)
       MISSING: Moderation options instead of flat out blocking, bayes based blocking, web-interface for blacklist items, auto-close indication
     * Minor fixes from spamprot branch:
       * No more escaping of article titles in articles/_read.rhtml
       * Proper sorting for delicious partial
       * Better semantics for sidebar boxes
    
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@178 820eb932-12ee-0310-9ca8-eeb645f39767
    initial
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 2.3.8. I had to backport some Rails 2.3.5 deprecation and fork actionwebservice to upgrade it to Rails 2.3.8. I think we will definitely use our own version since we may be the latest on earth to use it.
    Fix deprecations in mailer.
    
    - Use NotificationMailer.comment instead of create_comment.
    - Use NotificationMailer.article instead of create_article.
    - Use instance variables instead of filling @body hash.
    Fix ActionMailer deprecations.
    
    - #deliver is an instance method now.
    - #create_notif_user is replaced by #notif_user.
    Removing RAILS_DEFAULT_LOGGER deprecation warning
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Rename email.rb to email_notify.rb
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@956 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Notifications.  This gives Typo the ability to send notification email (and Jabber messages) in
    response to certain events.  Right now, the only really useful thing that this does is send a
    message when new comments are posted, but I'll add a few more features once I'm done fixing other
    bugs.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@762 820eb932-12ee-0310-9ca8-eeb645f39767
    Mass-removal of trailing whitespace.
    – Fixed a few bugs
    – Added the week in refactoring patch
    – Added the rights table and the profile to rights one.
    – Populated the new tables.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1494 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Massive whitespace cleanup.  Nothing else changed.  Just whitespace.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@908 820eb932-12ee-0310-9ca8-eeb645f39767
    Add new Backpack sidebar plugin. Fixes #371
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@826 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing deprecated RAILS_ROOT
    Mass-removal of trailing whitespace.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    Rename AWS::Dispatcher::ActionController module to avoid error.
    
    Due to Rails' implementation of const_missing, the similarity of naming of
    ActionWebService::Dispatcher::ActionController to Rails' ActionController
    caused an error to be thrown: ``ActionWebService is not missing constant
    Base!''
    
    As a quick fix, the module is renamed to ActionControllerX.
    Remove client code from action_web_service.
    
    The client part of action_web_service was not used.
    
    Since the Ping model relies on XMLRPC::Client, we need to now require the
    standard Ruby 'xmlrpc/client' explicitely there.
    Remove explicit requires of Rails parts.
    
    These will already be required automatically.
    Remove some unused parts of action_web_service.
    Incorporate actionwebservice.
    
    The actionwebservice gem is not officially maintained anymore. Rather than
    take over maintenance of that gem, incorporate its library files into Typo.
    Unused parts will be removed later.
    Remove trailing whitespace.
    Mass removal of trailing whitespace part two: Files that have cr/lf line endings.
    Adding htty filemanager patch for CKEditor after tweaking it a bit to work well with Typo
    
    New version Typo uses CKEditor 3.0 on visual editor mode.
    But new Typo can't use server browser on visual editor mode, because CKFinder(server browser for CKEditor) is not for ruby.
    I added and improved Filemanager plugin(http://filemanager.rubyforge.org/) to Typo.
    This plugin enables visual editor mode to be able to use server browser without CKFinder.
    The patch of this modification is attached to this page(Sorry, this patch is large because including files for Filemanager plugin. These files are located /lib/filemanager, /lib/locale, /public/filemanager, /vendor/plugin/filemanager and /config/filemanager.yml.).
    This patch also includes fixes of easy-ckeditor for enabling server browser, and multiple instances of CKEditor.
    
    Thank you very much htty, your patch made my day.
    * Moved sidebar views into the correct plugin directory
    * Linked sidebars to the blog
    * Added better diagnostics to migration 54
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1246 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    As threatened, I've added a generator for sidebars.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1024 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    A nice tidy little patch that implements a couple 4.1 features.
    
    Er.  Well, a tidy little patch that touches 200+ files.
    
    This includes:
    
     * URL generation from blog.url_for
     * Removal of all of the text filter controller crap
     * Moved text filters out of components and into vendor/plugins
     * Massive helper cleanup
     * Deprecation code
     * Memory profiler
     * _html content fields moved into fragment cache
     * much, much more...
    
    This needs a small migration to be happy; I'll commit that in the next rev.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1233 820eb932-12ee-0310-9ca8-eeb645f39767
    Merge rails_1_1 branch onto trunk. Typo is now compatible with Rails 1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@977 820eb932-12ee-0310-9ca8-eeb645f39767
    Backdate trunk back to [951] so it is safe for Rails 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@962 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding upload_progress plugin.  Verified with 1.1, supposed to work with 1.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@952 820eb932-12ee-0310-9ca8-eeb645f39767
    Step 1 patch applied
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1552 820eb932-12ee-0310-9ca8-eeb645f39767
    * Moved sidebar views into the correct plugin directory
    * Linked sidebars to the blog
    * Added better diagnostics to migration 54
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1246 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Whoah! 133 lines of changes?
    
    Yup, fixing all the edge rails/rails 1.2 deprecations has been somewhat
    time consuming. That's about all that happens in this changeset. Typo is
    now ready and waiting to take on the challenge of Rails 1.2.
    
    Go typo!
    
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1300 820eb932-12ee-0310-9ca8-eeb645f39767
    * Moved sidebar views into the correct plugin directory
    * Linked sidebars to the blog
    * Added better diagnostics to migration 54
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1246 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Removing deprecated RAILS_ROOT
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    I continue to pick away at the Sidebar system. In this patch we:
    
      * Pull Sidebars::Plugin out into lib
      * Add a Sidebars::!ComponentPlugin which all component based sidebars
        inherit from (not that there are any other sorts of sidebar yet. Bear
        with me
      * Pulled !SidebarController out of components and into app/controllers
      * Lay groundwork for eliminating {{{staged_position}}} from the Sidebar
        model
    
    We've also got the beginnings of a sidebar preview here, /sidebar will
    show you a dummy article with a sidebar -- eventually this should work
    to show you a preview of the staged sidebar configuration.
    
    Coming up, a way of calling actions other than 'configure' and 'content'
    on your sidebars -- a necessity for advanced navigation tools for
    instance.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1002 820eb932-12ee-0310-9ca8-eeb645f39767
    Replace inject([]) with map.
    
    Hat tip to William T. Nelson: https://github.com/fdv/typo/pull/22
    Got rid of some explicit &block arguments and replaced a call to send_file when caching with a redirect.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1637 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    The rest of the checkbox fix.  Fixed #1031
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1200 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix checkbox settings.  Before, they were effectively set to status||default.  Now they're set to status.  Closes #1026
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1170 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix sidebar defaults.  Closes #971
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1113 820eb932-12ee-0310-9ca8-eeb645f39767
    Escape HTML in edit fields.  Closes #976
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1091 820eb932-12ee-0310-9ca8-eeb645f39767
    Welcome, one and all, to the new style sidebar API.
    
    Nope, there's no documentation yet (but see the poorly titled
    http://www.bofh.org.uk/2006/04/16/write-your-own-typo-sidebar for an
    overview of what's new).
    
    The big change is the addition of a bunch of classmethods to the Sidebars::Plugin
    superclass. The new methods are :setting, :display_name and :description.
    
    We already had :display_name and :description, but the new version take an optional
    argument and work as declarators as well. Also, :display_name does a good job of
    guessing the right display name in many cases.
    
    With the addition of these classmethods, we get to DRY up all those gruesome
    boilerplated configure.rhtml files since 'setting' provides enough information
    for them to be autogenerated.
    
    Oh, and this change is backwards compatible. You don't have to use the new
    class methods, but you're daft if you don't. You'll still have to get rid of the
    explict form_tag and observe_form bits of really old configure.rhtml files, but
    I can't make us that backward compatible because the old way broke browsers.
    
    If you want to see pretty much all the ways :setting can work, check out
    !XmlController and !FlickrController, which pretty much cover the waterfront.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1022 820eb932-12ee-0310-9ca8-eeb645f39767
    I continue to pick away at the Sidebar system. In this patch we:
    
      * Pull Sidebars::Plugin out into lib
      * Add a Sidebars::!ComponentPlugin which all component based sidebars
        inherit from (not that there are any other sorts of sidebar yet. Bear
        with me
      * Pulled !SidebarController out of components and into app/controllers
      * Lay groundwork for eliminating {{{staged_position}}} from the Sidebar
        model
    
    We've also got the beginnings of a sidebar preview here, /sidebar will
    show you a dummy article with a sidebar -- eventually this should work
    to show you a preview of the staged sidebar configuration.
    
    Coming up, a way of calling actions other than 'configure' and 'content'
    on your sidebars -- a necessity for advanced navigation tools for
    instance.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1002 820eb932-12ee-0310-9ca8-eeb645f39767
    Who said Scott was the only person who gets to do the big patches?
    
    This is the first step towards moving all our sidebars out into
    controller free plugins in vendor/plugins. There's still a lot of work to do
    but the patch was getting huge and the tests were all passing, so it's time to
    push it back to the trunk for everyone to have a play.
    
    Changes:
    
    * Rejigged the sidebar generator to generate a new school sidebar.
    * Ported all the currently distributed sidebars to the new style
    * Moved a bunch of sidebar specific models to their sidebar's directory
    * In passing, killed a bunch of edge rails deprecation warnings (tests
      still fail on the edge, but at least they fail without a bunch of
      deprecatory noise)
    * Some general housekeeping. I haven't, yet, removed all trace of the old
      sidebar controllers, but we're getting there.
    * The components directory is now blissfully empty!
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1245 820eb932-12ee-0310-9ca8-eeb645f39767
    Require 'page_cache' for sweep task.
    
    This makes the task work in production without dependency loading enabled.
    Fixes ticket 96: sweep cache should clear css. This also applies to cache reset
    Adds the time-limited action cache discussed on
    http://scottstuff.net/blog/articles/2006/01/20/time-limited-caching-for-rails
    to Typo.  This includes a new fragment cache plugin that allows individual items
    to expire from the cache after a certain deadline, and a replacement for the
    action cache that fixes a few action cache bugs (query param handling and error
    caching) and adds simple support for limiting the lifespan of cached pages.
    
    To add a limited lifespan to any page, just set response.lifetime in any controller
    or component.  See the Flickr sidebar for an example--right now, any Typo page
    that includes the Flickr sidebar will only be cached for 1 hour.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@852 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    Here we are, we can now release 6.0.5
    Release of Typo 6.1.0
    Smells like 6.0.10
    Time to release 6.0.9 because of a security issue in Rails 3.0.9. Upgrading to Rails 3.0.10 after checking it does not break under passenger 3.0.8
    Release 6.0.8
    CHANGELOG and version number for Typo 6.0.7
    Updateing various documentation for next release. Now waiting for Norwegian translation to finish
    Here we are, we can now release 6.0.5
    Setup 6.0.4 release
    Add coding comment for non-ascii files.
    
    Part of the Ruby 1.9 compatibility effort.
    Prepairing Typo 6.0.3 release
    This commit marks the release of Typo 6.0.2.
    
    The zip and tar.gz files should be uploaded to github within minutes.
    The tag will be done a bit later
    Doing the usual stuff for 6.0.1 release. We can now start to work on 6.1 w00t
    Release 6.0
    Finally dropping old typo installer. Updating release rake task to create zip and tar gz archives. Need to write down new documentation to take this into account
    Mass-removal of trailing whitespace.
    Upgrading Typo version to 5.5. Cleaning release task since most of the code is not relevant anymore
    Adding documentation for Typo 5.4.4 release
    Releasing 5.4.3
    Prepairing the 5.4.2 release
    Upgrading version number
    Fixes release task
    Updating release task
    update rspec dependency
    update to rails 2.3.3
    add rails gem dependencies
    Fixing deps
    Prepairing release
    Updating docs for release
    Ready to release ?
    add json like dependency. Not using it only when see theme catalogue
    add htmlentities like dependencies of typo
    Prepairing rake release for the release
    Prepairing release
    Enables in admin database migration back, gets rid of the old pre 4.1 general controller, sets the CHANGELOG for 5.1.3.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1797 820eb932-12ee-0310-9ca8-eeb645f39767
    Removes database dependencies from installer
    Deletes 2 themes from FCKEditor
    Suppress caching from development environment
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1787 820eb932-12ee-0310-9ca8-eeb645f39767
    Changes version number
    Adds the missing en_US.js file
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1779 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a bug with gravatar
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1777 820eb932-12ee-0310-9ca8-eeb645f39767
    Updating release rakefile
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1770 820eb932-12ee-0310-9ca8-eeb645f39767
    setting mysql as the new default database for typo installer
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1751 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1742 820eb932-12ee-0310-9ca8-eeb645f39767
    fixes a major security version
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1741 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a typo in rake task
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1740 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a typo in rake task
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1739 820eb932-12ee-0310-9ca8-eeb645f39767
    fixing tests before release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1736 820eb932-12ee-0310-9ca8-eeb645f39767
    Ditching Jabber notification, amongst other things
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1702 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds 3 classes in the default styles
    Update version number for 5.0.4
    Update README
    Fixes bug 1224 for non MySQL databases
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1695 820eb932-12ee-0310-9ca8-eeb645f39767
    changing default cache
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1654 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds some more localization
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1653 820eb932-12ee-0310-9ca8-eeb645f39767
    Removed the rcov task and removed dependencies from the gem that
    are only used by the test and spec tests. People who need to
    run these should be able to install the appropriate libraries
    themselves.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1625 820eb932-12ee-0310-9ca8-eeb645f39767
    fixes migration version and adds a ugly workaround to rails 2.0.2 update_all bug with sqlite and pgsql
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1615 820eb932-12ee-0310-9ca8-eeb645f39767
    – Moving settings to a real settings controller
    – Splitting settings into different pages, a more sensible way
    – Removing old files
    – Fixing the tests
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1611 820eb932-12ee-0310-9ca8-eeb645f39767
    Some post release fixes
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1606 820eb932-12ee-0310-9ca8-eeb645f39767
    Tests passing. Rails 2.0.2 required. I think we may be good to go for 5.0
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1602 820eb932-12ee-0310-9ca8-eeb645f39767
    Various fixes for the 5.0 release
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1601 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing typo 5.0 stable release w00t
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1600 820eb932-12ee-0310-9ca8-eeb645f39767
    Makes the theme selector easier to use.
    Changes the default cache to caches_action_with_params
    Changes some typos in the admin
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1595 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1578 820eb932-12ee-0310-9ca8-eeb645f39767
    Closes comment 1111 and 1112
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1455 820eb932-12ee-0310-9ca8-eeb645f39767
    Added deprecation warning for plugins removal. Smells like release is close isn't it ?
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1437 820eb932-12ee-0310-9ca8-eeb645f39767
    fixed a few things here and there
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1428 820eb932-12ee-0310-9ca8-eeb645f39767
    Use latest installer
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1229 820eb932-12ee-0310-9ca8-eeb645f39767
    Bump version numbers
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1228 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrade version numbers to 4.0.2, and force Rails 1.1.6
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1213 820eb932-12ee-0310-9ca8-eeb645f39767
    Minor release-script update v2
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1207 820eb932-12ee-0310-9ca8-eeb645f39767
    Minor release-script update
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1206 820eb932-12ee-0310-9ca8-eeb645f39767
    Update rails-app-installer to 0.1.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1205 820eb932-12ee-0310-9ca8-eeb645f39767
    Bump installer Rails version to 1.1.5.  Closes #1079
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1204 820eb932-12ee-0310-9ca8-eeb645f39767
    Remove the installer from Typo's tree and use the rails-app-installer gem instead
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1197 820eb932-12ee-0310-9ca8-eeb645f39767
    Update versions to 4.0.1
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1163 820eb932-12ee-0310-9ca8-eeb645f39767
    Bump the version number to 4.0.0 (finally!!!)
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1160 820eb932-12ee-0310-9ca8-eeb645f39767
    Revert back to Mongrel 0.3.13.3, since .4 isn't out yet.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1152 820eb932-12ee-0310-9ca8-eeb645f39767
    - Bump Mongrel version number up to 0.3.13.4
    - Update Typo version to 3.99.4
    - Clean up installer.  Added pre/post hooks.
    - Added url-prefix support for Mongrel 0.3.13.4.
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1137 820eb932-12ee-0310-9ca8-eeb645f39767
    Add the ability to specify config variables on the install command-line
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1107 820eb932-12ee-0310-9ca8-eeb645f39767
    Preparing for 3.99.3.  Fix typo in installer.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1103 820eb932-12ee-0310-9ca8-eeb645f39767
    Installer updates.
    
    - Fix relative-directory installs
    - Fix (probably) /dev/null Windows problems
    - Dropped typo-installer.rb, and moved contents into typo binary.
    
    I'm debating moving rails-installer.rb into its own gem before Typo 4.0,
    but it'll certainly do that after 4.0 is out.  It'll just be a requirement
    for the Typo GEM :-).
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1081 820eb932-12ee-0310-9ca8-eeb645f39767
    Bump version number to 3.99.1
    
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1071 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix two installer-related bugs.  Make sure that vendor/rails exists,
    and copy config/database.yml.sqlite into the .gem.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1069 820eb932-12ee-0310-9ca8-eeb645f39767
    An installer for Typo.
    
    This allows two-step installs from a Typo gem.  I'll upload a test GEM shortly.
    
    I had to remove the test/mocks/themes/azure symlink and replace it with a partial copy
    because it did bad things to the GEM, and that broke tests.  I'd love to see a better
    workaround.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1068 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix all relevant references from typo.leetsoft.com to www.typosphere.org. Fixes #720
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@879 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    Fix #700 - {{{rake schemas}}} will now translate ENGINE=InnoDB into TYPE=MyISAM instead of just changing the engine name.
    Also modify the schemas task to delete db/schema.rb so nobody accidentally re-commits it to the repo
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@889 820eb932-12ee-0310-9ca8-eeb645f39767
    Upgrading to Rails 0.14.2.  Ran 'rails .', patched up the Rakefile to use .rake tasks, fixed environment.rb somewhat, and updated all of the tests to stop using instantiated fixtures.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@717 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding cucumber support to typo
    Removing cucumber scenario. This was an attempt to add integration testing, but they never really worked and were never maintained. Better focus on a good rspec coverage.
    starting using cucumber
    Remove trailing whitespace.
    Incorporate actionwebservice.
    
    The actionwebservice gem is not officially maintained anymore. Rather than
    take over maintenance of that gem, incorporate its library files into Typo.
    Unused parts will be removed later.
    Make specs pick up ActionWebService testing methods.
    Remove all remaining SOAP parts.
    Incorporate actionwebservice.
    
    The actionwebservice gem is not officially maintained anymore. Rather than
    take over maintenance of that gem, incorporate its library files into Typo.
    Unused parts will be removed later.
    Remove trailing whitespace.
    Remove all remaining SOAP parts.
    Incorporate actionwebservice.
    
    The actionwebservice gem is not officially maintained anymore. Rather than
    take over maintenance of that gem, incorporate its library files into Typo.
    Unused parts will be removed later.
    Incorporate actionwebservice.
    
    The actionwebservice gem is not officially maintained anymore. Rather than
    take over maintenance of that gem, incorporate its library files into Typo.
    Unused parts will be removed later.
    Remove some unused parts of action_web_service.
    Incorporate actionwebservice.
    
    The actionwebservice gem is not officially maintained anymore. Rather than
    take over maintenance of that gem, incorporate its library files into Typo.
    Unused parts will be removed later.
    Incorporate actionwebservice.
    
    The actionwebservice gem is not officially maintained anymore. Rather than
    take over maintenance of that gem, incorporate its library files into Typo.
    Unused parts will be removed later.
    Remove trailing whitespace.
    Incorporate actionwebservice.
    
    The actionwebservice gem is not officially maintained anymore. Rather than
    take over maintenance of that gem, incorporate its library files into Typo.
    Unused parts will be removed later.
    Remove trailing whitespace.
    Incorporate actionwebservice.
    
    The actionwebservice gem is not officially maintained anymore. Rather than
    take over maintenance of that gem, incorporate its library files into Typo.
    Unused parts will be removed later.
    Remove trailing whitespace.
    Incorporate actionwebservice.
    
    The actionwebservice gem is not officially maintained anymore. Rather than
    take over maintenance of that gem, incorporate its library files into Typo.
    Unused parts will be removed later.
    Remove all remaining SOAP parts.
    Incorporate actionwebservice.
    
    The actionwebservice gem is not officially maintained anymore. Rather than
    take over maintenance of that gem, incorporate its library files into Typo.
    Unused parts will be removed later.
    Remove trailing whitespace.
    Incorporate actionwebservice.
    
    The actionwebservice gem is not officially maintained anymore. Rather than
    take over maintenance of that gem, incorporate its library files into Typo.
    Unused parts will be removed later.
    Remove trailing whitespace.
    Incorporate actionwebservice.
    
    The actionwebservice gem is not officially maintained anymore. Rather than
    take over maintenance of that gem, incorporate its library files into Typo.
    Unused parts will be removed later.
    Remove trailing whitespace.
    Remove all remaining SOAP parts.
    Incorporate actionwebservice.
    
    The actionwebservice gem is not officially maintained anymore. Rather than
    take over maintenance of that gem, incorporate its library files into Typo.
    Unused parts will be removed later.
    Use logger.error instead of log_error.
    
    The log_error method is gone. This makes all BackendController specs pass.
    Rename AWS::Dispatcher::ActionController module to avoid error.
    
    Due to Rails' implementation of const_missing, the similarity of naming of
    ActionWebService::Dispatcher::ActionController to Rails' ActionController
    caused an error to be thrown: ``ActionWebService is not missing constant
    Base!''
    
    As a quick fix, the module is renamed to ActionControllerX.
    Remove Wsdl module from action_web_service.
    
    This is also not used by typo.
    Remove all remaining SOAP parts.
    Incorporate actionwebservice.
    
    The actionwebservice gem is not officially maintained anymore. Rather than
    take over maintenance of that gem, incorporate its library files into Typo.
    Unused parts will be removed later.
    Remove client code from action_web_service.
    
    The client part of action_web_service was not used.
    
    Since the Ping model relies on XMLRPC::Client, we need to now require the
    standard Ruby 'xmlrpc/client' explicitely there.
    Incorporate actionwebservice.
    
    The actionwebservice gem is not officially maintained anymore. Rather than
    take over maintenance of that gem, incorporate its library files into Typo.
    Unused parts will be removed later.
    Remove trailing whitespace.
    Remove client code from action_web_service.
    
    The client part of action_web_service was not used.
    
    Since the Ping model relies on XMLRPC::Client, we need to now require the
    standard Ruby 'xmlrpc/client' explicitely there.
    Incorporate actionwebservice.
    
    The actionwebservice gem is not officially maintained anymore. Rather than
    take over maintenance of that gem, incorporate its library files into Typo.
    Unused parts will be removed later.
    Remove encode_action_pack_request.
    
    Not used by Typo.
    Remove client code from action_web_service.
    
    The client part of action_web_service was not used.
    
    Since the Ping model relies on XMLRPC::Client, we need to now require the
    standard Ruby 'xmlrpc/client' explicitely there.
    Incorporate actionwebservice.
    
    The actionwebservice gem is not officially maintained anymore. Rather than
    take over maintenance of that gem, incorporate its library files into Typo.
    Unused parts will be removed later.
    Remove trailing whitespace.
    Incorporate actionwebservice.
    
    The actionwebservice gem is not officially maintained anymore. Rather than
    take over maintenance of that gem, incorporate its library files into Typo.
    Unused parts will be removed later.
    Remove Precision as a possible type in the AWS signature definition.
    
    The Precision module does not seem exist in Ruby 1.9, and Typo does not
    depend on this type for its web service interfaces.
    Incorporate actionwebservice.
    
    The actionwebservice gem is not officially maintained anymore. Rather than
    take over maintenance of that gem, incorporate its library files into Typo.
    Unused parts will be removed later.
    Comment rails patches for future reference.
    Workaround to a Rails 2.3.8 bug, see https://rails.lighthouseapp.com/projects/8994/tickets/4695-string-added-to-rails_helpers-gets-html-escaped for more information.
    Fixes a typo in all languages files
    Typo: double any.
    Typo: double any.
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Add coding comment for non-ascii files.
    
    Part of the Ruby 1.9 compatibility effort.
    Regenerate translation files.
    
    All translations were run through make_language.rb, resulting in uniform
    ordering and marking obsolete translations. Translation credits were then
    restored manually. Also, the round-trip of make_language.rb is not
    perfect, so some syntax errors had to be fixed and Procs restored.
    Mass-removal of trailing whitespace.
    Added 'Live Search' translation and added according german and polish translations.
    Fixed 'leave url/email' translation and added according german and polish translations.
    Added german translation for "Continue reading" string
    Ditching Jabber notification, amongst other things
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1702 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the localization issue
    Removes the simple / advanced admin
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1648 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few bugs
    Adds patch 1168
    Adds patch 1165
    Closes ticket 1166
    Closes ticket 1164
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1587 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1485 820eb932-12ee-0310-9ca8-eeb645f39767
    Changing 'discussion' into 'feedback', sounds better
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1433 820eb932-12ee-0310-9ca8-eeb645f39767
    Add german support to typo and closes ticket 1101
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1404 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a typo in all languages files
    Typo: double any.
    Typo: double any.
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Add coding comment for non-ascii files.
    
    Part of the Ruby 1.9 compatibility effort.
    Update Danish translation.
    
    This update is based entirely on the existing translations, since my Danish
    is non-existent.
    Regenerate translation files.
    
    All translations were run through make_language.rb, resulting in uniform
    ordering and marking obsolete translations. Translation credits were then
    restored manually. Also, the round-trip of make_language.rb is not
    perfect, so some syntax errors had to be fixed and Procs restored.
    Fix grammar error and associated translations.
    Adjust translation to match unchanged _comment_failed.html.erb template.
    Better translation yet again.
    Translation updates.
    Start translating to danish.
    Fixes a typo in all languages files
    Typo: double any.
    Typo: double any.
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Add coding comment for non-ascii files.
    
    Part of the Ruby 1.9 compatibility effort.
    Regenerate translation files.
    
    All translations were run through make_language.rb, resulting in uniform
    ordering and marking obsolete translations. Translation credits were then
    restored manually. Also, the round-trip of make_language.rb is not
    perfect, so some syntax errors had to be fixed and Procs restored.
    Made polish translation more up to date. Much work in the admin area is still to do.
    Fixed Polish translation of pluralized words (articles, comments etc.).
    Fixed translation in comments_link and trackbacks_link. It was not working for more than one item.
    Added 'Live Search' translation and added according german and polish translations.
    Fixed 'leave url/email' translation and added according german and polish translations.
    Added polish translation for "Continue reading" string
    Ditching Jabber notification, amongst other things
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1702 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the localization issue
    Removes the simple / advanced admin
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1648 820eb932-12ee-0310-9ca8-eeb645f39767
    adding polish and mexican translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1643 820eb932-12ee-0310-9ca8-eeb645f39767
    Some more Dutch translations
    Translations and one grammar correction
    Fixes a typo in all languages files
    Typo: double any.
    Typo: double any.
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Updated a part of the missing Dutch translations
    Add coding comment for non-ascii files.
    
    Part of the Ruby 1.9 compatibility effort.
    Fixes an error in the nl file that makes the whole application break
    Added more translations
    Couple of sentences translated to Dutch
    Added some more Dutch translations
    Meer vertalingen toegevoegd
    Added some Dutch translations
    Update Dutch translation.
    Regenerate translation files.
    
    All translations were run through make_language.rb, resulting in uniform
    ordering and marking obsolete translations. Translation credits were then
    restored manually. Also, the round-trip of make_language.rb is not
    perfect, so some syntax errors had to be fixed and Procs restored.
    Update Dutch translation.
    
    Update the translation to match the order created by the recent change to
    make_language.rb, and to include all current translatable strings. Some
    obsolete translations were kept for later reference.
    Fix grammar error and associated translations.
    Partial update for Dutch language.
    
    This set at least makes the admin menu usable again by providing all the
    main navigation links.
    Update translation key.
    Fixing brocken languages
    Initial Dutch translation.
    
    I'm primarily interested in showing all outside-facing strings, so I
    have not translated the admin part of the site right now, but the
    translation does include support for the Rails locale (which is
    currently not set by default) and the javascript translations.
    
    Signed-off-by: Cyril Mougel <cyril.mougel@gmail.com>
    Fixes a typo in all languages files
    Typo: double any.
    Typo: double any.
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Add coding comment for non-ascii files.
    
    Part of the Ruby 1.9 compatibility effort.
    Regenerate translation files.
    
    All translations were run through make_language.rb, resulting in uniform
    ordering and marking obsolete translations. Translation credits were then
    restored manually. Also, the round-trip of make_language.rb is not
    perfect, so some syntax errors had to be fixed and Procs restored.
    Mass-removal of trailing whitespace.
    Ditching Jabber notification, amongst other things
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1702 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the localization issue
    Removes the simple / advanced admin
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1648 820eb932-12ee-0310-9ca8-eeb645f39767
    adding polish and mexican translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1643 820eb932-12ee-0310-9ca8-eeb645f39767
    Norwegian translation
    Adding lang menu translation
    
    Still wondering why I was looking for many complicated solution when a so simple one was existing?
    fix problem with deprecated system in i18n
    Update messages:
    - Undo earlier fix for %d problem;
      (undoes commit 1efca32ec6de96458acf1907f34ba5bd78a62636)
    - Improve English permalink format error messages.
    fix problem in spec because override %d to {{count}}
    adds default en_US file
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1730 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a typo in all languages files
    Typo: double any.
    Typo: double any.
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Add coding comment for non-ascii files.
    
    Part of the Ruby 1.9 compatibility effort.
    Regenerate translation files.
    
    All translations were run through make_language.rb, resulting in uniform
    ordering and marking obsolete translations. Translation credits were then
    restored manually. Also, the round-trip of make_language.rb is not
    perfect, so some syntax errors had to be fixed and Procs restored.
    Mass-removal of trailing whitespace.
    Update translation key.
    Ooops, forgot to add something here
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1835 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a typo in all languages files
    Typo: double any.
    Typo: double any.
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Add coding comment for non-ascii files.
    
    Part of the Ruby 1.9 compatibility effort.
    Regenerate translation files.
    
    All translations were run through make_language.rb, resulting in uniform
    ordering and marking obsolete translations. Translation credits were then
    restored manually. Also, the round-trip of make_language.rb is not
    perfect, so some syntax errors had to be fixed and Procs restored.
    Fix grammar error and associated translations.
    japanese language file commit
    Ditching Jabber notification, amongst other things
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1702 820eb932-12ee-0310-9ca8-eeb645f39767
    Moved ja_JP.rb to the right place
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1632 820eb932-12ee-0310-9ca8-eeb645f39767
    added Japanese translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1630 820eb932-12ee-0310-9ca8-eeb645f39767
    Completes French translation. 75% of the dev team is French and we can't even take care of our own language, such a shame.
    French translation of redirections related sentences
    Fixes French translation
    Fixes UTF8 issues
    Fixes a typo in all languages files
    Typo: double any.
    Typo: double any.
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Make all theme text translatable.
    Changes the settings behavior for nofollowify, index categories and index tags. Comes with migration. Adds missing specs.
    
    Current settings behavior were beyond stupidity : every feature were enabled by default and admin had to uncheck them to disable them:
    Unchecking nofollowify was enabling dofollow.
    Unchecking index categories was removing categories from search engine index
    Unchecking index tags was removing categories from search engine tags.
    
    New behavior:
    Checking dofollowify actually enables dofollow
    Checking unindex categories removes categories from search engine index
    Checking unindex tags removes tags from search engine index
    
    TODO :
    Allow unindex / index by category.
    Allow unindex / index by tag.
    Turns "Show extended on RSS" into "Hide extended on RSS".
    
    Asking user to opt in to display the whole post in the feed instead of hiding it is one of the most stupid behavior I've seen for a while and is the exact opposite of the software default's behavior.
    
    Included migration sets the new behavior accordingly to the blog default one.
    Adds missing create account link on login page.
    Fixes a typo in French translation making account confirmation crash.
    Fixes some style in error and information message on account creation / confirmation and login page.
    2nd pass for the French translation. Should be almost complete now.
    Add coding comment for non-ascii files.
    
    Part of the Ruby 1.9 compatibility effort.
    Adding lang menu translation
    
    Still wondering why I was looking for many complicated solution when a so simple one was existing?
    First round of translation improvements.
    Improve French translation
    Improves French translation
    Change labels (notice: only en_US and fr_FR done)
    Regenerate translation files.
    
    All translations were run through make_language.rb, resulting in uniform
    ordering and marking obsolete translations. Translation credits were then
    restored manually. Also, the round-trip of make_language.rb is not
    perfect, so some syntax errors had to be fixed and Procs restored.
    Fix grammar error and associated translations.
    add some French translation
    Adds a new date format
    add some translation in french
    Update messages:
    - Undo earlier fix for %d problem;
      (undoes commit 1efca32ec6de96458acf1907f34ba5bd78a62636)
    - Improve English permalink format error messages.
    fix problem in spec because override %d to {{count}}
    Fixes sprintf issues + complete french translation
    Pushing some usability changes
    change source of theme catalogue. Using Jwang type thme viewer
    localizing rouping titles
    Adding RSS copyright information and appropriate settings
    In french, months names are lowercased
    add update comment by admin
    add creation of comment by admin/feedback, with spec
    add filter of comment in view of articles's comment
    add limit view to only Ham in feedback list
    add rescue on inbound and typo_links in dashboard if you haven't internet connection
    fix little typo in french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1837 820eb932-12ee-0310-9ca8-eeb645f39767
    fix some translation in french
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1833 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds login / password email at user's creation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1723 820eb932-12ee-0310-9ca8-eeb645f39767
    Ditching Jabber notification, amongst other things
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1702 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few things here and there.
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1677 820eb932-12ee-0310-9ca8-eeb645f39767
    Adding js localization for dates with french translation.
    
    Port by Eric Daspet
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1661 820eb932-12ee-0310-9ca8-eeb645f39767
    Adds some more localization
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1653 820eb932-12ee-0310-9ca8-eeb645f39767
    Finishing french translation. It was hard
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1650 820eb932-12ee-0310-9ca8-eeb645f39767
    Brings more translation
    Adds some changes to the content editor
    Brings localisation to Standard issue
    Brings localisation to archives plugin
    Fix typo version to 5.0.3
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1649 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the localization issue
    Removes the simple / advanced admin
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1648 820eb932-12ee-0310-9ca8-eeb645f39767
    A few translation and labelisation tweaking
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1634 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few bugs
    Adds patch 1168
    Adds patch 1165
    Closes ticket 1166
    Closes ticket 1164
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1587 820eb932-12ee-0310-9ca8-eeb645f39767
    Introducing new admin theme
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1556 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1485 820eb932-12ee-0310-9ca8-eeb645f39767
    Changing 'discussion' into 'feedback', sounds better
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1433 820eb932-12ee-0310-9ca8-eeb645f39767
    Few bug fixes, translated the plugins frontends, added some things here and there. The CSS code in the template is done on prpose, otherwise it doesn't work
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1391 820eb932-12ee-0310-9ca8-eeb645f39767
    Few fixes here and there
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1385 820eb932-12ee-0310-9ca8-eeb645f39767
    Add a trick to load localization before other plugins
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1382 820eb932-12ee-0310-9ca8-eeb645f39767
    Localized the articles view + French translation w00t
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1381 820eb932-12ee-0310-9ca8-eeb645f39767
    Added localization support + admin complete french translation
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1379 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a typo in all languages files
    Typo: double any.
    Typo: double any.
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Add coding comment for non-ascii files.
    
    Part of the Ruby 1.9 compatibility effort.
    Regenerate translation files.
    
    All translations were run through make_language.rb, resulting in uniform
    ordering and marking obsolete translations. Translation credits were then
    restored manually. Also, the round-trip of make_language.rb is not
    perfect, so some syntax errors had to be fixed and Procs restored.
    Mass-removal of trailing whitespace.
    Ditching Jabber notification, amongst other things
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1702 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the localization issue
    Removes the simple / advanced admin
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1648 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few bugs
    Adds patch 1168
    Adds patch 1165
    Closes ticket 1166
    Closes ticket 1164
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1587 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1485 820eb932-12ee-0310-9ca8-eeb645f39767
    Added romanian localization + populating sidebar at first migration
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1434 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a typo in all languages files
    Typo: double any.
    Typo: double any.
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Add coding comment for non-ascii files.
    
    Part of the Ruby 1.9 compatibility effort.
    Regenerate translation files.
    
    All translations were run through make_language.rb, resulting in uniform
    ordering and marking obsolete translations. Translation credits were then
    restored manually. Also, the round-trip of make_language.rb is not
    perfect, so some syntax errors had to be fixed and Procs restored.
    Mass-removal of trailing whitespace.
    Ditching Jabber notification, amongst other things
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1702 820eb932-12ee-0310-9ca8-eeb645f39767
    Applied most of the patch in #1214. The only change being that the
    correct i18n key for état is 'status'.
    
    bribera++
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1671 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the localization issue
    Removes the simple / advanced admin
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1648 820eb932-12ee-0310-9ca8-eeb645f39767
    Added Italian support
    Fixed the absolute URL CSS bugs when typo blog is not at the root
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1627 820eb932-12ee-0310-9ca8-eeb645f39767
    Norwegian translation
    Fixes a typo in all languages files
    Typo: double any.
    Typo: double any.
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Remove trailing whitespace.
    Add coding comment for non-ascii files.
    
    Part of the Ruby 1.9 compatibility effort.
    Regenerate translation files.
    
    All translations were run through make_language.rb, resulting in uniform
    ordering and marking obsolete translations. Translation credits were then
    restored manually. Also, the round-trip of make_language.rb is not
    perfect, so some syntax errors had to be fixed and Procs restored.
    Update Lithuanian translation.
    Add Lithuanian translation.
    Mass-removal of trailing whitespace.
    Added 'Live Search' translation and added according german and polish translations.
    Fixed 'leave url/email' translation and added according german and polish translations.
    Added german translation for "Continue reading" string
    Ditching Jabber notification, amongst other things
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1702 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes the localization issue
    Removes the simple / advanced admin
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1648 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a few bugs
    Adds patch 1168
    Adds patch 1165
    Closes ticket 1166
    Closes ticket 1164
    
    git-svn-id: http://svn.typosphere.org/typo/branches/rails_2@1587 820eb932-12ee-0310-9ca8-eeb645f39767
    git-svn-id: http://svn.typosphere.org/typo/trunk@1485 820eb932-12ee-0310-9ca8-eeb645f39767
    Changing 'discussion' into 'feedback', sounds better
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1433 820eb932-12ee-0310-9ca8-eeb645f39767
    Add german support to typo and closes ticket 1101
    
    git-svn-id: http://svn.typosphere.org/typo/trunk@1404 820eb932-12ee-0310-9ca8-eeb645f39767
    Fixes a typo in all languages files
    Typo: double any.
    Typo: double any.
    Adding a custom template for all pages meta titles and description.
    
    A default template is set up for every page title and description.
    The "Show blog name in page title" disappears and won't be migrated.
    
    More tags to come.
    
    Idea shamelessly ripped from Yoast SEO plugin.
    Add coding comment for non-ascii files.
    
    Part of the Ruby 1.9 compatibility effort.
    Regenerate translation files.
    
    All translations were run through make_language.rb, resulting in uniform
    ordering and marking obsolete translations. Translation credits were then
    restored manually. Also, the round-trip of make_language.rb is not
    perfect, so some syntax errors had to be fixed and Procs restored.
    Mass-removal of trailing whitespace.
    fix: the zh_TW translate for admin/dashboard
    
    Signed-off-by: Cyril Mougel <cyril.mougel@gmail.com>
    fix: the zh_TW translate for admin/dashboard
    
    Signed-off-by: Cyril Mougel <cyril.mougel@gmail.com>
    add zh_TW.rb for tranditional chinese
